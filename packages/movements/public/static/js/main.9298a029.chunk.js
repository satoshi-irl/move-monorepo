(this["webpackJsonp@ted-monorepo/ui"]=this["webpackJsonp@ted-monorepo/ui"]||[]).push([[3],{10:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},1008:function(e,t){},1021:function(e,t){},1024:function(e,t){},103:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return O}));var r,a,c,o,s=n(21),i=n(1106),u=Object(i.a)(r||(r=Object(s.a)(["\n  query GetDao($id: ID) {\n    tributeDaos(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalUnits\n    }\n  }\n"]))),d=Object(i.a)(a||(a=Object(s.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      daoAddress\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]))),l=Object(i.a)(c||(c=Object(s.a)(["\n  query GetMembers($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      members(orderBy: createdAt, orderDirection: desc) {\n        createdAt\n        address: memberAddress\n        delegateKey\n        isDelegated\n        units\n        didFullyRagequit\n      }\n    }\n  }\n"]))),b=Object(i.a)(o||(o=Object(s.a)(["\n  query GetTokenHolderBalances($tokenAddress: String!) {\n    tokens(where: {tokenAddress: $tokenAddress}) {\n      symbol\n      tokenAddress\n      holders {\n        balance\n        member {\n          id\n          delegateKey\n        }\n      }\n    }\n  }\n"]))),j=n(521),f=n(22),p=n(111);function O(e){return Object(j.a)((function(t){var n=t.networkError;n&&(e.getState().subgraphNetworkStatus.status!==p.a.ERR&&(e.dispatch(Object(f.Y)({status:p.a.ERR})),console.error("[Subgraph network error]: ".concat(n))));n||e.getState().subgraphNetworkStatus.status!==p.a.OK&&e.dispatch(Object(f.Y)({status:p.a.OK}))}))}},1051:function(e,t,n){},1052:function(e,t,n){"use strict";n.r(t),n.d(t,"getApolloClient",(function(){return Jo}));var r=n(39),a=n(108),c=n(16),o=n(41),s=n(1102),i=n(1104),u=n(1101),d=n(1105),l=n(1107),b=n(74),j=n(12),f=n(22),p=n(11),O=n(103),h=n(157),m=n(522),v=n(523),x=n(3),A=n(55),g=n(208),N=["type"],E=null;function w(e,t){return Object(x.a)(Object(x.a)({},e),t)}function y(){return E}var _=n(209),I={isOpen:!1};function C(e){return Object(x.a)(Object(x.a)({},e),{},{isOpen:!1})}function S(e){return Object(x.a)(Object(x.a)({},e),{},{isOpen:!0})}var T=n(178),D=["type"],k={BankAdapterContract:null,BankExtensionContract:null,BankFactoryContract:null,ConfigurationContract:null,CouponOnboardingContract:null,DaoFactoryContract:null,DaoRegistryAdapterContract:null,DaoRegistryContract:null,DistributeContract:null,ERC20ExtensionContract:null,FinancingContract:null,GuildKickContract:null,ManagingContract:null,NFTAdapterContract:null,NFTExtensionContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,TributeNFTContract:null,VotingContract:null,MovementContract:null,UnagiiDeposit:null,UnagiiWithdraw:null};function R(e){return Object(x.a)(Object(x.a)({},e),k)}function P(e,t){return Object(x.a)(Object(x.a)({},e),{},{BankFactoryContract:Object(x.a)({},t)})}function F(e,t){return Object(x.a)(Object(x.a)({},e),{},{DaoFactoryContract:Object(x.a)({},t)})}function L(e,t){return Object(x.a)(Object(x.a)({},e),{},{DaoRegistryContract:Object(x.a)({},t)})}function B(e,t){return Object(x.a)(Object(x.a)({},e),{},{DaoRegistryAdapterContract:Object(x.a)({},t)})}function M(e,t){return Object(x.a)(Object(x.a)({},e),{},{BankExtensionContract:Object(x.a)({},t)})}function U(e,t){return Object(x.a)(Object(x.a)({},e),{},{ConfigurationContract:Object(x.a)({},t)})}function G(e,t){return Object(x.a)(Object(x.a)({},e),{},{DistributeContract:Object(x.a)({},t)})}function V(e,t){return Object(x.a)(Object(x.a)({},e),{},{FinancingContract:Object(x.a)({},t)})}function W(e,t){return Object(x.a)(Object(x.a)({},e),{},{GuildKickContract:Object(x.a)({},t)})}function Y(e,t){return Object(x.a)(Object(x.a)({},e),{},{OnboardingContract:Object(x.a)({},t)})}function K(e,t){return Object(x.a)(Object(x.a)({},e),{},{RagequitContract:Object(x.a)({},t)})}function H(e,t){return Object(x.a)(Object(x.a)({},e),{},{TributeContract:Object(x.a)({},t)})}function z(e,t){return Object(x.a)(Object(x.a)({},e),{},{VotingContract:Object(x.a)({},t)})}function q(e,t){return Object(x.a)(Object(x.a)({},e),{},{ManagingContract:Object(x.a)({},t)})}function Q(e,t){return Object(x.a)(Object(x.a)({},e),{},{BankAdapterContract:Object(x.a)({},t)})}function J(e,t){return Object(x.a)(Object(x.a)({},e),{},{NFTAdapterContract:Object(x.a)({},t)})}function X(e,t){return Object(x.a)(Object(x.a)({},e),{},{TributeNFTContract:Object(x.a)({},t)})}function Z(e,t){return Object(x.a)(Object(x.a)({},e),{},{CouponOnboardingContract:Object(x.a)({},t)})}function $(e,t){return Object(x.a)(Object(x.a)({},e),{},{NFTExtensionContract:Object(x.a)({},t)})}function ee(e,t){return Object(x.a)(Object(x.a)({},e),{},{ERC20ExtensionContract:Object(x.a)({},t)})}function te(e,t){return Object(x.a)(Object(x.a)({},e),{},{MovementContract:Object(x.a)({},t)})}function ne(e,t){return Object(x.a)(Object(x.a)({},e),{},{UnagiiDeposit:Object(x.a)({},t)})}function re(e,t){return Object(x.a)(Object(x.a)({},e),{},{UnagiiWithdraw:Object(x.a)({},t)})}var ae=n(242),ce=n(111),oe=["type"],se={status:ce.a.OK};function ie(e,t){return Object(x.a)(Object(x.a)({},e),t)}var ue=Object(h.combineReducers)({connectModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case _.a:return C(e);case _.b:return S(e);default:return e}},connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,N);switch(n){case g.b:return w(e,r);case g.a:return y();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,D);switch(n){case f.a:return R(e);case f.b:return Q(e,r);case f.c:return M(e,r);case f.d:return P(e,r);case f.e:return U(e,r);case f.f:return Z(e,r);case f.g:return F(e,r);case f.h:return L(e,r);case f.i:return B(e,r);case f.j:return G(e,r);case f.k:return ee(e,r);case f.l:return V(e,r);case f.m:return W(e,r);case f.n:return q(e,r);case f.o:return J(e,r);case f.p:return $(e,r);case f.q:return Y(e,r);case f.r:return K(e,r);case f.s:return H(e,r);case f.t:return X(e,r);case f.u:case f.v:return z(e,r);case T.o:return te(e,r);case T.v:return ne(e,r);case T.w:return re(e,r);default:return e}},subgraphNetworkStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,oe);return n===ae.a?ie(e,r):e}}),de=Object(h.createStore)(ue,Object(m.composeWithDevTools)(Object(h.applyMiddleware)(v.a))),le=n(63),be=n(1),je=n.n(be),fe=n(0);function pe(e){return Object(fe.jsx)("svg",Object(x.a)(Object(x.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 14"},e),{},{children:Object(fe.jsx)("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(fe.jsx)("g",{transform:"translate(-737 -124)",children:Object(fe.jsx)("g",{transform:"translate(596 124)",children:Object(fe.jsx)("path",{fill:"currentColor",d:"M151.166.8h-8.679c-.733 0-1.344.611-1.344 1.345v8.8c0 .734.611 1.345 1.344 1.345h7.395l-.366-1.223.855.795.795.733 1.405 1.223V2.145c-.06-.734-.61-1.345-1.405-1.345zm-2.506 8.495s-.244-.306-.428-.55c.49-.122.917-.367 1.161-.795a2.065 2.065 0 01-.733.367c-.306.122-.611.245-.917.306a4.039 4.039 0 01-1.71 0 6.007 6.007 0 01-.979-.306 1.83 1.83 0 01-.489-.244s-.06 0-.06-.061c-.123-.062-.184-.123-.184-.123.305.367.672.673 1.161.795-.183.244-.428.55-.428.55a2.579 2.579 0 01-2.017-.978c0-1.344.367-2.628.917-3.79.55-.427 1.161-.671 1.834-.671l.06.06c-.61.184-1.222.429-1.71.856l.366-.183c.49-.183.978-.367 1.467-.428h.122a4.947 4.947 0 011.345 0c.672.061 1.344.306 1.955.611a5.299 5.299 0 00-1.65-.855l.061-.122c.673.06 1.284.244 1.834.672.611 1.161.917 2.506.917 3.789-.367.733-1.1 1.1-1.895 1.1zm-2.995-3.056c-.427-.06-.733.245-.794.673-.061.427.244.733.672.794.428.061.734-.244.795-.672v-.061c0-.367-.306-.734-.673-.734zm2.384 0c-.428-.06-.733.245-.795.673-.06.427.245.733.673.794.427.061.733-.244.794-.672v-.061c0-.367-.305-.734-.672-.734z"})})})})}))}var Oe,he=n(20),me=n(26),ve=n(36),xe=n(35),Ae=function(e){Object(ve.a)(n,e);var t=Object(xe.a)(n);function n(){return Object(he.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"github","data-prefix":"fab",viewBox:"0 0 496 512",children:Object(fe.jsx)("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}}]),n}(je.a.Component),ge=Ae,Ne=function(e){Object(ve.a)(n,e);var t=Object(xe.a)(n);function n(){return Object(he.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"medium","data-prefix":"fab",viewBox:"0 0 448 512",children:Object(fe.jsx)("path",{fill:"currentColor",d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"})})}}]),n}(je.a.Component),Ee=Ne;function we(){return Object(fe.jsxs)("div",{className:"socialmedia",children:[Object(fe.jsx)("a",{href:Oe.MEDIUM,target:"_blank",rel:"noopener noreferrer",children:Object(fe.jsx)(Ee,{})}),Object(fe.jsx)("a",{href:Oe.DISCORD,target:"_blank",rel:"noopener noreferrer",children:Object(fe.jsx)(pe,{})}),Object(fe.jsx)("a",{href:Oe.GITHUB,target:"_blank",rel:"noopener noreferrer",children:Object(fe.jsx)(ge,{})})]})}function ye(){return Object(fe.jsx)("div",{className:"footer",children:Object(fe.jsx)(we,{})})}!function(e){e.DISCORD="#",e.GITHUB="https://github.com/search?q=org%3Aopenlawteam+tribute-ui+OR+tribute-contracts+in%3Aname&type=repositories",e.MEDIUM="#"}(Oe||(Oe={}));var _e=n(4),Ie=n(15),Ce=n(10),Se=Object(be.lazy)((function(){return n.e(9).then(n.bind(null,1116))}));function Te(){var e=Object(c.c)((function(e){return e.connectModal.isOpen})),t=Object(be.useState)({isOpen:e,onRequestClose:function(){j(Object(f.y)())}}),n=Object(_e.a)(t,2),r=n[0],a=n[1],o=Object(Ie.f)(),s=o.account,i=o.connected,u=o.initialCachedConnectorCheckStatus,d=o.web3Instance,l=Object(Ie.d)().isDefaultChain,b=Object(Ie.e)(s,null===d||void 0===d?void 0:d.currentProvider),j=Object(c.b)(),p=Object(le.g)().pathname;return Object(be.useEffect)((function(){a((function(t){return Object(x.a)(Object(x.a)({},t),{},{isOpen:e})}))}),[e]),Object(be.useEffect)((function(){u===Ce.a.FULFILLED&&j(!(!i||l&&!b)?Object(f.z)():Object(f.y)())}),[i,j,u,l,b,p]),e?Object(fe.jsx)(be.Suspense,{fallback:null,children:Object(fe.jsx)(Se,{maybeContractWallet:b,modalProps:r})}):null}var De=n(528);function ke(){return Object(fe.jsxs)(De.a,{children:[Object(fe.jsx)("title",{children:"Tribute"}),Object(fe.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}function Re(e){return Object(fe.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"TRIBUTE"})}function Pe(){return Object(fe.jsx)("div",{className:"logo-container logo-container--center",children:Object(fe.jsx)(Re,{size:"small"})})}function Fe(){return Object(fe.jsx)("div",{className:"logo-container logo-container--header",children:Object(fe.jsx)(Re,{size:"medium"})})}function Le(){return Object(fe.jsx)("div",{className:"logo-container logo-container--center",children:Object(fe.jsx)(Re,{size:"large"})})}var Be=n(2),Me=n.n(Be),Ue=n(5),Ge=n(21),Ve=n(1059),We=n(545),Ye=n(179),Ke=n.n(Ye),He=n(27);function ze(){return Object(fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(fe.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var qe=n(115),Qe=n(154),Je=n(509);function Xe(){var e=JSON.parse(localStorage.getItem("social")||"{}");return[e.identities||{},function(t){localStorage.setItem("social",JSON.stringify(Object(x.a)(Object(x.a)({},e),{},{identities:t})))}]}function Ze(){var e=Xe(),t=Object(_e.a)(e,1)[0];if(t){var n={};return Object.keys(t).map((function(e){return void 0!==t[e].twitter&&(n[e]=t[e].twitter),!0})),n}}var $e=n(72);function et(e){var t=Ze(),n=e&&function(e){try{return Object($e.a)(e)}catch(t){return!1}}(e);return t?n?t[n]:void 0:null}var tt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"6d106b8213de41e9921e1198c69a5cc4",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x88c452b13bc0818070374742b627fa6e8622d9ce",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0x442952c1046439F730d7E373FF580FeB81A2709d",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_COUPON_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_GRAPH_API_URL:"https://api.studio.thegraph.com/query/9237/ted-monorepo/v0.0.1"}).REACT_APP_TWITTER_WORKER_URL,nt={};function rt(e){return at.apply(this,arguments)}function at(){return at=Object(Ue.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(tt,"/latest-tweet?handle=")+t,e.prev=1,e.abrupt("return",fetch(n).then(function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return e.abrupt("return",t.json());case 4:return e.abrupt("return",Promise.reject("Error fetching latest tweet"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",Promise.reject("Error fetching latest tweet"));case 8:case"end":return e.stop()}}),e,null,[[1,5]])}))),at.apply(this,arguments)}function ct(e){var t=Object(be.useState)(),n=Object(_e.a)(t,2),r=n[0],a=n[1],c=Object(be.useState)(!1),o=Object(_e.a)(c,2),s=o[0],i=o[1];return Object(be.useEffect)((function(){e?s||function(e){var t="".concat(e),n="".concat(tt,"/user?handle=").concat(e);try{var r;return nt[t]=null!==(r=nt[t])&&void 0!==r?r:fetch(n).then(function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return Promise.reject("No handle found"),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Promise.reject(e)}))}catch(a){return Promise.reject("Error: fetching profile data")}}(e).then((function(e){(null===e||void 0===e?void 0:e.data)&&a({name:e.data.name,handle:e.data.username,profileURL:e.data.profile_image_url})})).catch((function(){console.log("Error fetching profile data for user"),i(!0)})):a(void 0)}),[e,s]),r}var ot,st,it,ut,dt,lt,bt,jt,ft,pt,Ot,ht,mt,vt,xt,At,gt,Nt,Et,wt,yt,_t,It,Ct,St,Tt,Dt,kt,Rt,Pt,Ft,Lt,Bt,Mt,Ut,Gt,Vt,Wt,Yt,Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEGxJREFUeNrs3ftVG0kWB+CePfP3jjYAzmgiAEeAiMA4AosIDBEAEWAiACIwjgA5AuMI3HM2gGFIYLcuKu3KmIdaz3583zl9hHcZbK4ev75VXdVFAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwml+UAJpr6+p+Jz300jGY+p93n/n223T8PfX13b/f/3OkiggQ6EZYRFBsp2MnH8tQ5kD5lo6RUEGAQPMDIzqL/dxR7OdOY12u0/E5HlOg3Hk2ECDQjOCIsHibjmFN/kkPYZKC5NKzgwCBenYbh+l4n45+Tf+Z0YlEiJynMCkbWueo7Vk6jpr6OwgQ4HFwfCjWO0S1qAiS06Z8CE/V+Tgdt+nf/carT4CA4BAkVesc3cdHr8LF/UMJYO0fasP08D2fDfca/uvE7/I1/U4nNa3z1yfqfO1VqAOBpgVHPz1cFD+u2WiT6EIONnkZ8AxzSZfp33fg1agDafKHCN173g/z2fCgxb9mvLZv0u96ton3Ve6CJp3dc++zK69GHUhTP0R28ofIm3QWdKsinXjOe7nr2O/Yrx6v73ernhtJ9R3kbmM4w7fHIsk9r0oB0tQPk5t8BnqXQ6RUldafMHwq6ntZ7qrF6zyGtK6XXNdeDowPFWu7Z5W9AGnqh0kEx82jM7Q9q3xb+3zv586jpxqLX/U0tSr/7ZzdnO5jBX5VgrU5fvTnydmpF3X7wmOYw4Oxs1ST7aqT149CY7BgGJ96GnQgTf1Amcx9PMVVIcKjK159rU9tGDkJjWWI/bzeKb8OpKk+vPD/DdObJrbVPlIm4dFy8VovpkMkB0Ycuzkw+kv+O2OI2HtLB9LYD5Vou/+a4VsPbFYnPDoiJtV7OThWPUdk1fkKWQeyhrOuGb/vIn8IITzabr9YfE5jFiPhIUCa7n2F7xUizQuPgfCopYdLiJVBgDT5w6VfVL9rnBBp1vP7SSVq6cA6KwHShlZ9HkKk/uHRy+FhnUf9fFz24kUEyCa8XeC/FSL1dlws757kLM/IFY0CpC0GC/73QqSe3Ud0locqUTsP+28pgwBpw4fMYEk/SojU63mdbI5I/cLD1kACRPchRGqtDTeBapvJpo0LhUecHNTxxlgCpJt2l/zzLry4a9FVGrqqlzJ3HreLPK/piK7yL+WsxlYmq9NfxdlveqH/bu+sjXYf1Mfcw1b5EuyYy5reEv42/SwnaQKktQEShnkc/sB471q7j2HR7rsJtj48XtkS3sLDOdgLazUfNvFBc1PXsy/mek6/F929MVTdzLyDde40BsXr9xGxF50OpFNiDcL39AbZc3vctXQfwmPzHnbWfe2DPp/ATbaDn2WtzqXwECB1MljT3xMt+U16wxx5A6zUByXYuNvcJdw+CoveVFDszvHei59n4aEA6ayHdQn5jm/eCMvvPmY9i2V1TmNyO+4dkhdxxvOxnR8X6QyXcvmvAKENDvPNed55QyzVeyXYqDIdb9NrexVXwB0Y/l2MdSCrsb2hvzfOlr/mIGHx7iO6u6FKbFR/RR3gkQ0XBUhd9Tb8hosQseBtccKjnS7daEqA8LKzFCKf8lk08zF81T4jC3EFCLOJCcfvS9zYsTNy8BoKbBe79QoQKppc6numFJXDl3aFh4W3AqQRvtTw3xRXaZlgn92uErTGnfAQICwuwuOrXX1nMlAC4YEA4Wexq6+5kWfk/ZP6KtGa8LDWQ4A0ShNesPEB+TA34kqtJzs1hAcCZGMv3qaI9SLf3fFQgLTsBO6N8BAgOpD1mOyndWOS/YEJ9Ga/96LzKJVCgDRSnrBr4qTdoBhPsl90fFjLkF6zw8OEuQDRhWzQsBgPa510NEh0Yc0T25O8ER4CpC2+NPzfH8FxXJgfof5ObU8iQHQg9Q2Si3zZb+uDxKXNjTK5n8eJUgiQthm17PfpdylIqL2yGM93XCqFAGmdPBbbxssIBQmbFvfxcJluDbgj4Wp9Lto7ITsJktik8TwdH01gsgZH7uWhA+nSmVLbTSbb/8qX//Y97azIqfAQIJ2RW+yyQ7/ysBhftXVjeAsECIu76uDvPCjGw1t/5b22dCUsw7YSCJCuuezw7x7DW5O9tmKF+9DGjSz4ekKAdEfek+daJR4uJrgoxnMln4QJCBBmc64EP9ivcZiUnh6YzS9KsB6xbqJwk6LXRKcWW8Bcb3I31fRc/cdTUUuj9LrYU4b6sA5kfU7zWTcvdyZxxMR7ORUoozWvMYm/y/Aa6EB0IS0Rl0SPcqDcrrJDicuQC/dE14GgA6mZ2DH0RhnmspOPw/whX+ZQ+ZaD5XaJXUqp3KADqWMX4ux2dcp8fJn6unKwpOcoQupMOWsn5sbeKYMOpOtdyHdlWIl+PgaPAqHIXcpd7lgmf34InSeGw2zSV0/flEAHogu5uj8pxvtHUS/TOyjrEuvn1L0/6sU6kA3IbwJnufXTy8EhPECA1JpbcAIChLm6kOhAjlQCECDMEyJxb4NLlYCZjJRAgPCj6ELMhwAChMpdSFz5E6tr3Q4WaBSX8dbE1tV9rLKORYb2YIKnT7Z8XulAOhEG/TneHLc6EUCAEHfgO6l6jwshAs/ynhAgnXKcg+SiSkciROBJLjQRIJ0THcgwB0nceW+/Qoi88aYBHYgAIUR4RIhEmJzlSfOXQqTMnYj7qYONFGvJVQ0rUOGWqHfFj3fdK5/5eSeFzRfptqO88BYB0voA+VqMb340T5t+W/x4P4uH7cbTzxwU41vi9lWYDtpL74ORMtSL+4GsxrzjtU/uBpvvZwFdVipB/ZgD8WKH2ntueBcB0kZ/KgEszUgJBEiXuPwWdPQCBAECOnoEyJrk8VoLn2A5RkogQLzoAR29AGEGX5QAFlbme+YgQHQggO5DgPCivCFiqRKwEHtgCRBdCOA9JECo4koJYCGGsARIN+XN30qVgPnCwwS6ANGFAPMYKYEA6bpLJYC5uBRegHRbXpUuREAHIkCYi2EsqMb8hwAhdyEjZ1Og+xAgzOtUCWBm5j8awD3R12jr6j7uaT5UCXi1a/fZpANBFwKVXSuBAOHns6pSiMCrPiuBAOHpEDkpbM8ALxkpgQDheQdKAE+6zZ06AoRnupDoQAxlwc+smRIgzBAiJ1p1+IkJdAHCjN6lw2pbGDN8JUCo0IVEeOwJEXhg+EqAUDFEYj7kSCXA8JUAYZ4QuSxcmUW3Gb4SIAgRmMu5EggQhAjMw/CVAEGIQGWX7v0hQFhuiLjEl65w9VVD2TK5xrau7nfSw6d09FWDlirTCdMfyqADYfmdSFzi+6awYp32MnmuA2EN3chhejhTCVrmX+Y/dCCsvhv5mLsRW8HTFibPBQhrDJFYbBUhEivXvfFoOsNXAoQNdSMx8XipGjTUKM/xIUDYQIjcpeNAkKD7YFNMorfE1tV9Pz0cp2M/HT0VocZcuqsDoWYdSTnVkcSj4QHqyt04dSA0pCuJjuR9OnZUBN0HAoR5wiSGtQbp2E3HsDDMxWYc5K16aIFflaDWH/rDfMY2WrAL6efw2M6PwoNNiEvP7borQFiTmBTvpxCYvPkm8xplOv584vt/K/4/VDUJDqiLcwsHBQjrE2drh/nryRAUNFGc9HxUhnZxFVbNz9iUgJY41X20j0n0mtu6ur/RedD07sOVVzoQNsPNdmh896EEOhA214V8L0yI00yTDUDRgeAMDio5UgIdCLoQqOo6dR/vlEEHgi4EdB8IkCbK2z/YIJHGnPDEBp/KIEBwRgdVRHBYNChAqFkXMircPIoGnOhYNChAqG8X4s1JXcWtam2YKECoaRcS4XGgEtSQ16YAoQEhEmd4xpipGxPnHWMdSINtXd1/LdxpkHqIoas9ZdCB0ByxSMt8CJtm6EqA0DR5uMBZH5tm6EqA0NAQuXX2xwbF0JX5OAFCg0PkUoiwAYauBAhCBOZyZOhKgCBEoKrL/HpDgNDCEHF1FqsSXYd92bAOpK22ru5jfUjcT72nGixRnJjs5Ys30IHQ0k4k3uB/FLaAZ7mOhAc6kG51I2fp4VAlWFDMe5hjQwfSsW4kxqtjwWGpGswpug7zHgiQjobIKD28KWzCSHUx7/HOPT54zBBWB21d3Q/Sw3E6BqrBDN6Y90CA8DhIhjlI+qrBMw6s90CAIEio6mOePwMBwqtBMkgPH9Kxrxqd54orBAhzBUk/h8j7wg2ruijmO/ZMmiNAWFaY7BbjSXcr24UHCBDmCpSdHCS/5+5kR6i0RlmMr7gSHggQ1hosg6k/RqgcC5ZGsccVAoSNB0k/PXwqzJ0ID1rPSnSWGR4xV/JVeAgPdCAwa3DEUFVs2DhUDeGBAIFZw2OQHi4KixCFBwIEKnQdMVFum3jhgQCBmcMj5jrOdB3CAwECswZHBEYMVw1Uo5HKYrwtu/BAgLC24IjhqhiqOlaNxrLCHAHC2sNjWIyHqywKFB4gQJg5OGzx3nx21UWAIDio7DSFx4kyIEAQHMwqhqqO3EkQAcIqQ2MyOf5ecLQqPFymiwBhZcExyKExVI1WGRXjy3RNliNAWGpoRIcRCwA/6DZayf3LESAsNTR6OTTeFu5z3lbRbRyk8LhWCgQIy+g0BkKjE2KeI4asSqVAgDBvaEwCIx7di6MbXKKLAKFyWPSmgmK3sC9V10S3EUNWI6VAgPBSWERI9HNYbOfHvsp01sfcebjKCgHSwA/0WDMRHcD/zv7mPRPMcxWTMJh8/dtUSAgKdB0IkBYFSHyox8aCs0xOjx6FA+g6ECCCxA2VWLm4wupI14EAaWeIuEcGqxCdxrkrrBAg3QiSfjH7sBa85LIYD1eVSoEA6VaQDHI3MlANKhrl4BgpBQKk20EyLGyLzmzKHByXSoEAQZAgOBAgCBIEBwgQQYLgAAHSkiCJmzkNVENwgABhniCJAImbO7n8t31GhauqECCsIUj6OUiiM+mpSGPFAsDrwjoOBAgbCpMIEcNbzRJbjpxHeNivCgFCXbqSSZj0VaR2ytxtnOs2ECDUOUwGOUhirsQQ1+ZMhqg+u/84CJAmhkmEyFthIjRAgLBoZzIJk76KLE05FRoj5QAB0vYw6ecgmdwjXXdSrcuIoPhSjCfCSyUBAdLlQNnJQSJQXg6MUQqMWyUBAcLLgbKTA2XydVdEWERIfMuBocMAAcKCoRKdST8d21Oh0uROJUKizEERX98KCxAgrD9YejlQfpsKlk13LWU+7nJI3E1CQ1CAAKEZATPdqfSLn68A+72Y/aqwCIC/nwmKcGeOAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmuy/AgwAkfRw6ie3iqkAAAAASUVORK5CYII=",Ht=n(257),zt=Object(He.default)(Ht.Box)(ot||(ot=Object(Ge.a)(["\n  width: ",";\n  display: flex;\n  padding: 0;\n  align-items: ",";\n  justify-content: ",";\n  padding: ",";\n  border: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.width;return t||"100%"}),(function(e){var t=e.align;return t||"center"}),(function(e){var t=e.justify;return t||"flex-start"}),(function(e){return e.padding}),(function(e){return e.border}),(function(e){return e.borderRadius})),qt=Object(He.default)(zt)(st||(st=Object(Ge.a)(["\n  justify-content: space-between;\n"]))),Qt=(He.default.div(it||(it=Object(Ge.a)(["\n  display: flex;\n  align-items: flex-end;\n"]))),Object(He.default)(zt)(ut||(ut=Object(Ge.a)(["\n  flex-wrap: wrap;\n  margin: ",";\n  justify-content: ",";\n\n  & > * {\n    margin: "," !important;\n  }\n"])),(function(e){var t=e.gap;return t&&"-".concat(t)}),(function(e){var t=e.justify;return t&&t}),(function(e){return e.gap})),Object(He.default)(zt)(dt||(dt=Object(Ge.a)(["\n  width: fit-content;\n  margin: ",";\n"])),(function(e){var t=e.gap;return t&&"-".concat(t)}))),Jt=n(1096),Xt=n(42),Zt=n(532),$t=n(51),en=n(1094),tn=n(1095),nn=(He.default.span(lt||(lt=Object(Ge.a)(["\n  display: initial;\n  @media (max-width: 1080px) {\n    display: none;\n  }\n"]))),He.default.span(bt||(bt=Object(Ge.a)(["\n  display: none;\n  @media (max-width: 1080px) {\n    display: initial;\n  }\n"]))),He.default.div(jt||(jt=Object(Ge.a)(["\n  display: initial;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToExtraLarge(ft||(ft=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.div(pt||(pt=Object(Ge.a)(["\n  display: initial;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToLarge(Ot||(Ot=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.div(ht||(ht=Object(Ge.a)(["\n  display: initial;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToMedium(mt||(mt=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.div(vt||(vt=Object(Ge.a)(["\n  display: initial;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToSmall(xt||(xt=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.div(At||(At=Object(Ge.a)(["\n  display: initial;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToExtraSmall(gt||(gt=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.div(Nt||(Nt=Object(Ge.a)(["\n  display: none;\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToSmall(Et||(Et=Object(Ge.a)(["\n    display: initial;\n  "])))})),He.default.button.attrs((function(e){var t=e.warning,n=e.theme;return{backgroundColor:t?n.red1:n.primary1}}))(wt||(wt=Object(Ge.a)(["\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 3rem;\n  cursor: pointer;\n  user-select: none;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  background-color: ",";\n  color: ",";\n  width: 100%;\n\n  :hover,\n  :focus {\n    background-color: ",";\n  }\n\n  :active {\n    background-color: ",";\n  }\n\n  :disabled {\n    background-color: ",";\n    color: ",";\n    cursor: auto;\n  }\n"])),(function(e){return e.backgroundColor}),(function(e){return e.theme.white}),(function(e){var t=e.backgroundColor;return Object($t.a)(.05,t)}),(function(e){var t=e.backgroundColor;return Object($t.a)(.1,t)}),(function(e){return e.theme.bg1}),(function(e){return e.theme.text4})),Object(He.default)(en.a)(yt||(yt=Object(Ge.a)(["\n  cursor: pointer;\n\n  :active {\n    stroke: ",";\n  }\n"])),(function(e){return e.theme.text1}))),rn=(He.default.button(_t||(_t=Object(Ge.a)(["\n  border: none;\n  text-decoration: none;\n  background: none;\n\n  cursor: ",";\n  color: ",";\n  font-weight: 500;\n\n  :hover {\n    text-decoration: ",";\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: ",";\n  }\n\n  :active {\n    text-decoration: none;\n  }\n"])),(function(e){return e.disabled?"default":"pointer"}),(function(e){var t=e.theme;return e.disabled?t.text2:t.primary1}),(function(e){return e.disabled?null:"underline"}),(function(e){return e.disabled?null:"underline"})),Object(He.default)(o.b)(It||(It=Object(Ge.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  color: ",";\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n"])),(function(e){return e.theme.primary1}))),an=(Object(He.default)(o.b)(Ct||(Ct=Object(Ge.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  color: ",";\n  font-weight: 500;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  :focus {\n    outline: none;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n\n  & > * {\n    text-decoration: none;\n  }\n"])),(function(e){return e.theme.black})),He.default.a(St||(St=Object(Ge.a)(["\n  text-decoration: none;\n  cursor: pointer;\n  color: ",";\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n"])),(function(e){return e.theme.primary1})),Object(He.keyframes)(Tt||(Tt=Object(Ge.a)(["\n  0% {\n    transform: perspective(1000px) rotateY(0deg);\n  }\n\n  100% {\n    transform: perspective(1000px) rotateY(360deg);\n  }\n"]))));He.default.img(Dt||(Dt=Object(Ge.a)(["\n  animation: "," 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  padding: 2rem 0 0 0;\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\n"])),an);He.default.div(kt||(kt=Object(Ge.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"])),(function(e){return e.theme.black}));var cn=Object(He.keyframes)(Rt||(Rt=Object(Ge.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),on=He.default.img(Pt||(Pt=Object(Ge.a)(["\n  animation: 2s "," linear infinite;\n  width: 16px;\n  height: 16px;\n"])),cn);Object(He.default)(rn)(Ft||(Ft=Object(Ge.a)(["\n  color: ",";\n"])),(function(e){return e.theme.text1}));Object(He.default)(tn.a)(Lt||(Lt=Object(Ge.a)(["\n  :hover {\n    cursor: pointer;\n  }\n"]))),Object(He.default)(on)(Bt||(Bt=Object(Ge.a)(["\n  height: ",";\n  width: ",";\n"])),(function(e){return e.size}),(function(e){return e.size})),He.default.span(Mt||(Mt=Object(Ge.a)(["\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToSmall(Ut||(Ut=Object(Ge.a)(["\n    display: none;\n  "])))})),He.default.span(Gt||(Gt=Object(Ge.a)(["\n  &::after {\n    display: inline-block;\n    animation: ellipsis 1.25s infinite;\n    content: '.';\n    width: 1em;\n    text-align: left;\n  }\n  @keyframes ellipsis {\n    0% {\n      content: '.';\n    }\n    33% {\n      content: '..';\n    }\n    66% {\n      content: '...';\n    }\n  }\n"]))),He.default.div(Vt||(Vt=Object(Ge.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > * {\n    width: 16px;\n    stroke: ",";\n  }\n"])),(function(e){return e.theme.green1})),He.default.div(Wt||(Wt=Object(Ge.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > * {\n    width: 16px;\n    stroke: ",";\n  }\n"])),(function(e){return e.theme.red2})),He.default.div(Yt||(Yt=Object(Ge.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  color: ",";\n  padding: 4px 8px;\n  border-radius: 10px;\n  font-size: 11px;\n\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"])),(function(e){return e.theme.blue1}),(function(e){return e.theme.blue1}));var sn,un,dn,ln,bn,jn,fn=["error"],pn={upToExtraSmall:500,upToSmall:720,upToMedium:960,upToLarge:1280,upToExtraLarge:1484},On=Object.keys(pn).reduce((function(e,t){return e[t]=function(e,n,r){return Object(He.css)(sn||(sn=Object(Ge.a)(["\n      @media (max-width: ","px) {\n        ","\n      }\n    "])),pn[t],Object(He.css)(e,n,r))},e}),{});function hn(e){var t=e.children,n=Object(be.useMemo)((function(){return function(e){return Object(x.a)(Object(x.a)({},function(e){return{white:"#FFFFFF",black:"#000000",text1:e?"#FFFFFF":"#000000",text2:e?"#C3C5CB":"#565A69",text3:e?"#6C7284":"#888D9B",text4:e?"#565A69":"#C3C5CB",text5:e?"#2C2F36":"#EDEEF2",bg1:e?"#212429":"#FFFFFF",bg2:e?"#2C2F36":"#F7F8FA",bg3:e?"#40444F":"#EDEEF2",bg4:e?"#565A69":"#CED0D9",bg5:e?"#6C7284":"#888D9B",modalBG:e?"rgba(0,0,0,.425)":"rgba(0,0,0,0.3)",advancedBG:e?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.6)",primary1:"#2172E5",primary2:"#3680E7",primary3:e?"#4D8FEA":"#FF99C9",primary4:e?"#376bad70":"#F6DDE8",primary5:e?"#153d6f70":"#FDEAF1",primaryText1:e?"#6da8ff":"#ff007a",secondary1:e?"#2172E5":"#ff007a",secondary2:e?"#17000b26":"#F6DDE8",secondary3:e?"#17000b26":"#FDEAF1",red1:"#FF6871",red2:"#F82D3A",green1:"#27AE60",green2:"#E4F1EB",yellow1:"#FFE270",yellow2:"#F3841E",blue1:"#2172E5",blue2:"#4D8FEA",blue3:"#EBF4FF"}}(!1)),{},{grids:{sm:8,md:12,lg:24},shadow1:e?"#000":"#2F80ED",mediaWidth:On,flexColumnNoWrap:Object(He.css)(un||(un=Object(Ge.a)(["\n      display: flex;\n      flex-flow: column nowrap;\n    "]))),flexRowNoWrap:Object(He.css)(dn||(dn=Object(Ge.a)(["\n      display: flex;\n      flex-flow: row nowrap;\n    "])))})}(false)}),[false]);return Object(fe.jsx)(He.ThemeProvider,{theme:n,children:t})}var mn,vn,xn=Object(He.default)(Zt.a)(ln||(ln=Object(Ge.a)(["\n  color: ",";\n"])),(function(e){var t=e.color;return e.theme[t]})),An=function(e){return Object(fe.jsx)(xn,Object(x.a)({fontWeight:500,color:"text2"},e))},gn=function(e){return Object(fe.jsx)(xn,Object(x.a)({fontWeight:500,color:"white"},e))},Nn=function(e){return Object(fe.jsx)(xn,Object(x.a)({fontWeight:400,fontSize:16,color:"text1"},e))},En=function(e){var t=e.error,n=Object(A.a)(e,fn);return Object(fe.jsx)(xn,Object(x.a)({fontWeight:500,color:t?"red1":"text2"},n))},wn=(Object(He.createGlobalStyle)(bn||(bn=Object(Ge.a)(["\nhtml, input, textarea, button {\n  font-family: 'Inter', sans-serif;\n  font-display: fallback;\n}\n\n\n@supports (font-variation-settings: normal) {\n  html, input, textarea, button {\n    font-family: 'Inter var', sans-serif;\n  }\n}\n\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nbutton {\n  user-select: none;\n}\n\nhtml {\n  font-size: 16px;\n  font-variant: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\n  \n}\n"]))),Object(He.createGlobalStyle)(jn||(jn=Object(Ge.a)(["\nhtml {\n  color: ",";\n  background-color: ",";\n}\n\nbody {\n  min-height: 100vh;\n  background-position: 0 -30vh;\n  background-repeat: no-repeat;\n\n}\n"])),(function(e){return e.theme.text1}),(function(e){return e.theme.white}))),yn=He.default.img(mn||(mn=Object(Ge.a)(["\n  height: 24px;\n  width: 24px;\n  margin-left: 0px;\n"]))),_n=Object(He.default)(Jt.a)(vn||(vn=Object(Ge.a)(["\n  height: 12px;\n  width: 12px;\n  margin-left: 3px;\n"])));function In(e){var t=e.children,n=e.type,r=Object(Xt.i)();if(!n)return Object(fe.jsx)(Qt,{children:t});switch(n){case"twitter":return Object(fe.jsxs)(Qt,{children:[Object(fe.jsx)(An,{fontSize:"18px",children:t})," ",Object(fe.jsx)(yn,{src:Kt})]});case"other":return Object(fe.jsxs)(Qt,{children:[t," ",Object(fe.jsx)(_n,{stroke:r.primary1,strokeWidth:"4px"})]});default:return Object(fe.jsx)(Qt,{children:t})}}var Cn,Sn,Tn,Dn,kn,Rn=He.default.div(Cn||(Cn=Object(Ge.a)(["\n  height: 44px;\n  width: 44px;\n  background: ",";\n  border-radius: 50%;\n  margin-right: 10px;\n\n  & > img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n  }\n"])),(function(e){return e.theme.bg4})),Pn=He.default.div(Sn||(Sn=Object(Ge.a)(["\n  display: flex;\n"]))),Fn=He.default.div(Tn||(Tn=Object(Ge.a)([""]))),Ln=He.default.div(Dn||(Dn=Object(Ge.a)(["\n  text-align: left;\n"]))),Bn=He.default.div(kn||(kn=Object(Ge.a)(["\n  display: flex;\n  align-items: center;\n"])));function Mn(e){var t=e.customWalletText,n=e.showWalletETHBadge,r=void 0===n||n,a=Object(Ie.f)(),o=a.account,s=a.connected,i=a.web3Modal,u=Object(Ie.d)().isDefaultChain,d=Object(c.b)(),l=!1===u;function b(){return t?"function"===typeof t?t({account:o,connected:s,isMobile:Object(Qe.isMobile)()}):t:o?Object(p.l)(o):"Connect"}var j=et(o),O=ct(null===j||void 0===j?void 0:j.handle);return Object(fe.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(l&&s?"walletconnect__connect-button--error":""),onClick:function(){d(Object(f.z)())},children:[Object(fe.jsx)("span",{className:"connect-button-text ".concat(s?"connect-button-text--ethAddress":""),children:(null===j||void 0===j?void 0:j.handle)?Object(fe.jsxs)(Pn,{children:[Object(fe.jsx)(Fn,{children:Object(fe.jsx)(Rn,{children:Object(fe.jsx)("img",{src:(null===O||void 0===O?void 0:O.profileURL)?null===O||void 0===O?void 0:O.profileURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAwFBMVEXM1t3K1dy5xc2xvca7xs+KmaVrfYtld4agrrhneYhoeoiksbufrbegrbe7xs66xs6Dk5+/ytKdqrWElKCDk6Byg5HG0NjEz9bH0dlqfIprfIuAkJ2ir7nJ09p1hpN0hZO9yNDH0tmbqbTBzNOzv8iqtsCotL6ntL7L1dy3w8yjsLqVpK+Onam8x9CRn6ttf43CzdWMm6dmeIeLmqauusSwvMVxgpCToa29ydFneIeRoKzK1Nttfo2yvseZp7KHl6OOgUPZAAAA80lEQVR4Ae3SA5oDQRgE0Aortm1zNub9T7Xm4O/+uMo7w8O/duNyezxuF3R5fX4+8vu80BII8lUoDA0RfhKFUizIT4JxqCT4RQIKSZokIUvRJAVZmiYZyLI0yUIWpEkQohwtcpDkaZGHpECLAkRFmpQgK9OkDFmFJhXIqjV+Ua9CoZHlJ9kGlJqtLF9lW01oaXe6vX6308aPMRiOxpPJeDQcQMd0Nuer+WwKlcXS4CfG3QKi1Zwm8xUEAYMWRkAZSbvT2qAtYw1bzQ0dbJqws6WjLWzs9nS038HqQMEBFscTBacjzDoUnWF2oegCsytFV7x6ADhgICRy9ELGAAAAAElFTkSuQmCC",alt:""})})}),Object(fe.jsxs)(Ln,{children:[Object(fe.jsxs)(In,{type:"twitter",children:["@",j.handle]}),Object(fe.jsxs)(Bn,{children:[Object(fe.jsx)(An,{fontSize:"12px",children:b()})," ",r&&Object(fe.jsx)(Je.a,{providerName:null===i||void 0===i?void 0:i.cachedProvider})]})]})]}):b()}),l&&s&&Object(fe.jsx)("span",{children:"Wrong Network"})]})}var Un=n(25);function Gn(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(be.useState)(),n=Object(_e.a)(t,2),r=n[0],a=n[1],o=Object(be.useState)(Ce.a.STANDBY),s=Object(_e.a)(o,2),i=s[0],u=s[1],d=Object(be.useState)(),l=Object(_e.a)(d,2),b=l[0],j=l[1],f=Object(be.useCallback)((function(){return p.apply(this,arguments)}),[e]);function p(){return(p=Object(Ue.a)(Me.a.mark((function t(){var n,r;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,u(Ce.a.PENDING),t.next=6,e.instance.methods.symbol().call();case 6:return n=t.sent,t.next=9,e.instance.methods.decimals().call();case 9:r=t.sent,a({address:e.contractAddress,symbol:n,decimals:Number(r),image:"".concat(window.location.origin,"/favicon.ico")}),u(Ce.a.FULFILLED),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0),a(void 0),j(t.t0),u(Ce.a.REJECTED);case 20:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){f()}),[f]),{daoTokenDetails:r,daoTokenDetailsError:b,daoTokenDetailsStatus:i}}var Vn=n(1108);var Wn,Yn,Kn,Hn,zn=["customStyles"],qn="".concat(window.location.origin,"/favicon.ico");function Qn(e){var t=e.customStyles,n=Object(A.a)(e,zn),r=Object(be.useState)(),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=Object(be.useState)(),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Object(be.useState)(""),f=Object(_e.a)(b,2),h=f[0],m=f[1],v=function(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(c.c)((function(e){return e.connectedMember})),n=Object(Vn.a)(O.d,{variables:{tokenAddress:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),r=Object(_e.a)(n,2),a=r[0],o=r[1],s=o.called,i=o.loading,u=o.data,d=o.error,l=o.startPolling,b=o.stopPolling,j=Object(be.useState)(),f=Object(_e.a)(j,2),p=f[0],h=f[1],m=Object(be.useState)(),v=Object(_e.a)(m,2),x=v[0],A=v[1],g=Object(be.useCallback)((function(){try{if(!i&&u){if(h(u.tokens[0]),0===u.tokens.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" erc20 address not found.'))}else if(d)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid erc20 address.'))}catch(d){A(d)}}),[null===e||void 0===e?void 0:e.contractAddress,u,d,i]);return Object(be.useEffect)((function(){!s&&(null===e||void 0===e?void 0:e.contractAddress)&&a()}),[s,null===e||void 0===e?void 0:e.contractAddress,a]),Object(be.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&g()}),[null===e||void 0===e?void 0:e.contractAddress,g,i]),Object(be.useEffect)((function(){t&&l&&l(2e3);var e=b&&setTimeout(b,1e4);return function(){e&&clearTimeout(e)}}),[t,l,b]),{tokenHolderBalances:p,gqlError:x}}(),g=v.tokenHolderBalances,N=Object(Ie.f)(),E=N.account,w=N.networkId,y=Object(be.useCallback)((function(){try{(e=qn,fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}))).then((function(e){e&&l(e)}))}catch(t){console.log(t)}var e}),[]);return Object(be.useEffect)((function(){if(s(void 0),E&&g){var e=g.holders,t=g.symbol,n=g.tokenAddress,r=null===e||void 0===e?void 0:e.find((function(e){var t;return(null===(t=e.member)||void 0===t?void 0:t.id.toLowerCase())===E.toLowerCase()}));r&&s({balance:r.balance,tokenAddress:n,symbol:t}),E&&w&&m("".concat(j.o[w],"/token/").concat(n,"?a=").concat(E)),y()}}),[E,w,g,y]),o?Object(fe.jsx)(Un.a,{children:Object(fe.jsxs)("a",{className:"daotokenholder__button",rel:"noopener noreferrer",target:"_blank",href:h,style:Object(x.a)(Object(x.a)({},n),t),children:[Object(fe.jsx)("span",{className:"daotokenholder__balance",children:Object(p.e)(o.balance)}),Object(fe.jsx)("span",{className:"daotokenholder__symbol",children:o.symbol}),d&&Object(fe.jsx)("img",{src:d,alt:"Token Icon"})]})}):Object(fe.jsx)(fe.Fragment,{})}var Jn=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"6d106b8213de41e9921e1198c69a5cc4",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x88c452b13bc0818070374742b627fa6e8622d9ce",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0x442952c1046439F730d7E373FF580FeB81A2709d",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_COUPON_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_GRAPH_API_URL:"https://api.studio.thegraph.com/query/9237/ted-monorepo/v0.0.1"}).REACT_APP_VERIFY_TWITTER_LINK,Xn=He.default.a(Wn||(Wn=Object(Ge.a)(["\n  background-color: #2172E5;\n  padding: 8px;\n  outline: none;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  text-decoration: none;\n  font-size: 14px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]))),Zn=He.default.img(Yn||(Yn=Object(Ge.a)(["\n  height: 20px;\n  width: 20px;\n"]))),$n=He.default.span(Kn||(Kn=Object(Ge.a)(["\n    color: #FFFFFF;\n    box-sizing: border-box;\n    margin: 0;\n    min-width: 0;\n    font-weight: 500;\n    color: white;\n"]))),er=He.default.div(Hn||(Hn=Object(Ge.a)(["\n    box-sizing: border-box;\n    margin: 0;\n    min-width: 0;\n    width: 100%;\n    display: flex;\n    padding: 0;\n    align-items: center;\n    justify-content: flex-start;\n    justify-content: space-between;\n"])));function tr(e){var t=e.text;return Object(fe.jsx)(Xn,{href:Jn,children:Object(fe.jsxs)(er,{children:[Object(fe.jsx)($n,{children:t}),Object(fe.jsx)(Zn,{src:Kt})]})})}function nr(){return[localStorage.getItem("social")?JSON.parse(localStorage.getItem("social")||"{}").twitterAccount:""]}var rr=n(534);var ar,cr,or,sr,ir,ur,dr,lr=n(131),br=He.default.div(ar||(ar=Object(Ge.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),jr=(Object(He.default)(br)(cr||(cr=Object(Ge.a)(["\n  width: 100%;\n  align-items: center;\n"]))),He.default.div(or||(or=Object(Ge.a)(["\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ",";\n  justify-items: ",";\n"])),(function(e){var t=e.gap;return("sm"===t?"8px":"md"===t&&"12px")||"lg"===t&&"24px"||t}),(function(e){var t=e.justify;return t&&t}))),fr=He.default.div(sr||(sr=Object(Ge.a)(["\n  padding: 1rem;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.05);\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),pr=He.default.div(ir||(ir=Object(Ge.a)(["\n  display: flex;\n  justify-content: center;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  margin-right: 1rem;\n\n  & > img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n  }\n"]))),Or=He.default.div(ur||(ur=Object(Ge.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  color: ",";\n  padding: 4px 8px;\n  border-radius: 10px;\n  font-size: 12px;\n"])),(function(e){var t=e.theme;return e.verified?t.green1:t.yellow2}),(function(e){var t=e.theme;return e.verified?t.green1:t.yellow2})),hr=Object(He.default)(nn)(dr||(dr=Object(Ge.a)(["\n  margin-left: 1rem;\n  height: 16px;\n  width: 16px;\n"])));var mr,vr,xr,Ar,gr,Nr,Er,wr,yr,_r,Ir=Object(le.i)((function(){var e=nr(),t=Object(_e.a)(e,1)[0],n=ct(t);return n?Object(fe.jsx)(fr,{children:Object(fe.jsxs)(qt,{children:[Object(fe.jsxs)(Qt,{children:[Object(fe.jsx)(pr,{children:Object(fe.jsx)("img",{src:n.profileURL,alt:"profile"})}),Object(fe.jsx)(jr,{children:Object(fe.jsxs)(Qt,{children:[Object(fe.jsxs)(Nn,{mr:"12px",fontSize:"18px",fontWeight:"500",children:["@",n.handle]}),Object(fe.jsx)(Or,{verified:!1,children:"Unverified"})]})})]}),Object(fe.jsx)(hr,{onClick:function(){return null}})]})}):t?Object(fe.jsx)(fr,{children:Object(fe.jsxs)(qt,{children:[Object(fe.jsx)(Qt,{children:Object(fe.jsx)(jr,{children:Object(fe.jsxs)(Qt,{children:[Object(fe.jsxs)(Nn,{mr:"12px",fontSize:"18px",fontWeight:"500",children:["@",t]}),Object(fe.jsx)(Or,{verified:!1,children:"Unverified"})]})})}),Object(fe.jsx)(hr,{onClick:function(){return null}})]})}):null})),Cr=Object(He.default)(Ht.Button)(mr||(mr=Object(Ge.a)(["\n  padding: ",";\n  width: ",";\n  font-weight: 500;\n  text-align: center;\n  border-radius: 12px;\n  border-radius: ",";\n  outline: none;\n  border: 1px solid transparent;\n  color: white;\n  text-decoration: none;\n  display: flex;\n  justify-content: center;\n  flex-wrap: nowrap;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n  z-index: 1;\n  &:disabled {\n    cursor: auto;\n  }\n\n  > * {\n    user-select: none;\n  }\n"])),(function(e){var t=e.padding;return t||"8px"}),(function(e){var t=e.width;return t||"100%"}),(function(e){var t=e.borderRadius;return t&&t})),Sr=Object(He.default)(Cr)(vr||(vr=Object(Ge.a)(["\n  background-color: ",";\n  color: white;\n  font-size: 20px;\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:disabled {\n    background-color: ",";\n    color: ",";\n    cursor: auto;\n    box-shadow: none;\n    border: 1px solid transparent;\n    outline: none;\n    opacity: ",";\n  }\n"])),(function(e){return e.theme.primary1}),(function(e){var t=e.theme;return Object($t.a)(.05,t.primary1)}),(function(e){var t=e.theme;return Object($t.a)(.05,t.primary1)}),(function(e){var t=e.theme;return Object($t.a)(.05,t.primary1)}),(function(e){var t=e.theme;return Object($t.a)(.1,t.primary1)}),(function(e){var t=e.theme;return Object($t.a)(.1,t.primary1)}),(function(e){var t=e.theme;return e.altDisabledStyle?t.primary1:t.bg3}),(function(e){var t=e.theme;return e.altDisabledStyle?"white":t.text3}),(function(e){return e.altDisabledStyle?"0.7":"1"})),Tr=(Object(He.default)(Sr)(xr||(xr=Object(Ge.a)(["\n  color: ",";\n  background-color: ",";\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n"])),(function(e){return e.color}),(function(e){var t=e.bgColor,n=e.theme;return null!==t&&void 0!==t?t:n.primary1}),(function(e){var t=e.bgColor,n=e.theme;return Object($t.a)(.05,null!==t&&void 0!==t?t:n.primary1)}),(function(e){var t=e.bgColor,n=e.theme;return Object($t.a)(.05,null!==t&&void 0!==t?t:n.primary1)}),(function(e){var t=e.bgColor,n=e.theme;return Object($t.a)(.05,null!==t&&void 0!==t?t:n.primary1)}),(function(e){var t=e.bgColor,n=e.theme;return Object($t.a)(.1,null!==t&&void 0!==t?t:n.primary1)}),(function(e){var t=e.bgColor,n=e.theme;return Object($t.a)(.1,null!==t&&void 0!==t?t:n.primary1)})),Object(He.default)(Sr)(Ar||(Ar=Object(Ge.a)(["\n  width: fit-content;\n  font-size: 1rem;\n  white-space: no-wrap;\n"]))));Object(He.default)(Cr)(gr||(gr=Object(Ge.a)(["\n  background-color: ",";\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  :disabled {\n    opacity: 0.4;\n    :hover {\n      cursor: auto;\n      background-color: ",";\n      box-shadow: none;\n      border: 1px solid transparent;\n      outline: none;\n    }\n  }\n"])),(function(e){return e.theme.primary5}),(function(e){return e.theme.primaryText1}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.primary5)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.primary5)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.primary5)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.primary5)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.primary5)}),(function(e){return e.theme.primary5})),Object(He.default)(Cr)(Nr||(Nr=Object(Ge.a)(["\n  background-color: ",";\n  color: ",";\n  font-size: 14px;\n  font-weight: 500;\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  :disabled {\n    opacity: 0.4;\n    :hover {\n      cursor: auto;\n      background-color: ",";\n      box-shadow: none;\n      border: 1px solid transparent;\n      outline: none;\n    }\n  }\n"])),(function(e){return e.theme.blue3}),(function(e){return e.theme.blue1}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.blue3)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.blue3)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.03,t.blue3)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.blue3)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.blue3)}),(function(e){return e.theme.blue3})),Object(He.default)(Cr)(Er||(Er=Object(Ge.a)(["\n  background-color: ",";\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.bg3}),(function(e){return e.theme.text2}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.bg2)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.bg2)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.05,t.bg2)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.1,t.bg2)}),(function(e){var t=e.theme;return!e.disabled&&Object($t.a)(.1,t.bg2)})),Object(He.default)(Cr)(wr||(wr=Object(Ge.a)(["\n  border: 1px solid ",";\n  color: ",";\n  background-color: transparent;\n  font-size: 16px;\n  border-radius: 12px;\n  padding: ",";\n\n  &:focus {\n    box-shadow: 0 0 0 0.5pt ",";\n    border: 1px solid ",";\n  }\n  &:hover {\n    border: 1px solid ",";\n  }\n  &:active {\n    border: 1px solid ",";\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n  a:hover {\n    text-decoration: none;\n  }\n"])),(function(e){return e.theme.primary2}),(function(e){return e.theme.primary1}),(function(e){var t=e.padding;return t||"10px"}),(function(e){return e.theme.primary1}),(function(e){return e.theme.primary1}),(function(e){return e.theme.primary1}),(function(e){return e.theme.primary1})),Object(He.default)(Cr)(yr||(yr=Object(Ge.a)(["\n  background-color: transparent;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:focus {\n    text-decoration: underline;\n  }\n  &:hover {\n    text-decoration: underline;\n  }\n  &:active {\n    text-decoration: underline;\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n"])),(function(e){return e.theme.primary1})),Object(He.default)(Cr)(_r||(_r=Object(Ge.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n\n  &:focus {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ",";\n    background-color: ",";\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n    box-shadow: none;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n"])),(function(e){return e.theme.red1}),(function(e){return e.theme.red1}),(function(e){var t=e.theme;return Object($t.a)(.05,t.red1)}),(function(e){var t=e.theme;return Object($t.a)(.05,t.red1)}),(function(e){var t=e.theme;return Object($t.a)(.05,t.red1)}),(function(e){var t=e.theme;return Object($t.a)(.1,t.red1)}),(function(e){var t=e.theme;return Object($t.a)(.1,t.red1)}),(function(e){return e.theme.red1}),(function(e){return e.theme.red1}));var Dr=n(535);var kr=n(86),Rr=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"6d106b8213de41e9921e1198c69a5cc4",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x88c452b13bc0818070374742b627fa6e8622d9ce",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0x442952c1046439F730d7E373FF580FeB81A2709d",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_COUPON_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_GRAPH_API_URL:"https://api.studio.thegraph.com/query/9237/ted-monorepo/v0.0.1"}).REACT_APP_VERIFICATION_WORKER_URL;var Pr,Fr,Lr,Br=n(546),Mr={transition:"0.1s"},Ur={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},Gr={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}},Vr=Object(He.default)(Tr)(Pr||(Pr=Object(Ge.a)(["\n  padding: 6px 12px;\n  white-space: nowrap;\n  width: 100%;\n"]))),Wr=He.default.img(Fr||(Fr=Object(Ge.a)(["\n  height: 24px;\n  width: 24px;\n"]))),Yr=He.default.div(Lr||(Lr=Object(Ge.a)(["\n  padding: 1rem;\n  color: ",";\n  background: #f2f2f2;\n  word-break: break-word;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.blue1}));function Kr(){return Object(fe.jsx)("nav",{role:"navigation",id:"navigation",children:Object(fe.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(fe.jsx)("li",{tabIndex:0,children:Object(fe.jsx)(o.c,{to:"/membership",children:Object(fe.jsx)("span",{children:"Membership"})})}),Object(fe.jsx)("li",{tabIndex:0,children:Object(fe.jsx)(o.c,{to:"/governance",children:Object(fe.jsx)("span",{children:"Governance"})})}),Object(fe.jsx)("li",{tabIndex:0,children:Object(fe.jsx)(o.c,{to:"/transfers",children:Object(fe.jsx)("span",{children:"Transfer"})})}),Object(fe.jsx)("li",{tabIndex:0,children:Object(fe.jsx)(o.c,{to:"/tributes",children:Object(fe.jsx)("span",{children:"Tribute"})})})]})})}function Hr(){var e,t,n,r,a=Object(c.c)((function(e){return e.connectedMember})),s=Object(be.useState)(!1),i=Object(_e.a)(s,2),u=i[0],d=i[1],l=Object(be.useState)(Ur),b=Object(_e.a)(l,2),j=b[0],f=b[1],p=Object(Ie.f)().account,O=Object(be.useRef)();Object(be.useEffect)((function(){return function(){O.current&&clearTimeout(O.current)}}),[]);var h=!(!p||!(null===a||void 0===a?void 0:a.isActiveMember)),m=!(!p||!(null===a||void 0===a?void 0:a.isActiveMember)||p.toLowerCase()!==(null===a||void 0===a?void 0:a.memberAddress.toLowerCase()));function v(e){if(!e)return f(Gr),O.current=setTimeout((function(){return d(e)}),500),function(){return O.current&&clearTimeout(O.current)};d(e),f(Ur)}var A=function(){var e=Object(le.g)().search;return Object(be.useMemo)((function(){return e&&e.length>1?Object(rr.parse)(e,{parseArrays:!1,ignoreQueryPrefix:!0}):{}}),[e])}().username,g=nr(),N=Object(_e.a)(g,1)[0],E=Object(be.useState)(!1),w=Object(_e.a)(E,2),y=w[0],_=w[1],I=Object(be.useState)(),C=Object(_e.a)(I,2),S=C[0],T=C[1],D=Object(be.useState)(!1),k=Object(_e.a)(D,2),R=k[0],P=k[1],F=Object(be.useState)(),L=Object(_e.a)(F,2),B=L[0],M=L[1],U=Object(Dr.a)(N),G=U.sig,V=U.signMessage,W=(U.setSig,U.error),Y={social:"Twitter",emoji:"",id:"",token:{symbol:"TED"}},K=function(e){var t=Object(kr.a)().account,n=Object(be.useCallback)((function(){return e?fetch("".concat(Rr,"/api/verify?account=").concat(t,"&id=").concat(e)).then(function(){var e=Object(Ue.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return e.abrupt("return",{success:!0});case 4:return e.next=6,t.text();case 6:if(n=e.sent,400!==t.status||"Invalid tweet format."!==n){e.next=9;break}return e.abrupt("return",{success:!1,error:"Invalid tweet format"});case 9:if(400!==t.status||"Invalid tweet id."!==n){e.next=11;break}return e.abrupt("return",{success:!1,error:"Invalid tweet id"});case 11:return e.abrupt("return",{success:!1,error:"Unknown error, please try again."});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return{success:!1,error:"Error submitting verification"}})):Promise.reject({success:!1,error:"Invalid tweet id"})}),[t,e]);return{verifyCallback:n}}(S),H=K.verifyCallback,z=Object(be.useState)(!1),q=Object(_e.a)(z,2),Q=q[0],J=q[1],X=Object(be.useState)(!1),Z=Object(_e.a)(X,2),$=Z[0],ee=Z[1],te=Object(be.useState)(),ne=Object(_e.a)(te,2),re=ne[0],ae=ne[1],ce=Ze(),oe=Xe(),se=Object(_e.a)(oe,2),ie=se[0],ue=se[1],de=et(p),je="".concat(null!==(e=null===Y||void 0===Y?void 0:Y.emoji)&&void 0!==e?e:"","Verifying myself as a ").concat(null===Y||void 0===Y?void 0:Y.social," %23").concat(null===Y||void 0===Y||null===(t=Y.token)||void 0===t?void 0:t.symbol,"Delegate on Ted Dao\ud83c\udfdb\ufe0f%0A%0Ated-dao.xyz%0A%0Aaddr:").concat(p,"%0A%0Asig:").concat(null!==G&&void 0!==G?G:""),pe="".concat(null!==(n=null===Y||void 0===Y?void 0:Y.emoji)&&void 0!==n?n:"","Verifying myself as a ").concat(null===Y||void 0===Y?void 0:Y.social," #").concat(null===Y||void 0===Y||null===(r=Y.token)||void 0===r?void 0:r.symbol,"Delegate on Ted Dao\ud83c\udfdb\n sted-dao.xyz \n addr:").concat(p," \n sig:").concat(null!==G&&void 0!==G?G:"");function Oe(){P(!0),M(void 0),window.open("https://twitter.com/intent/tweet?text=".concat(je),"tweetWindow","height=400,width=800,top=400px,left=400px")}function he(){return(he=Object(Ue.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(!0),ae(void 0),H&&p&&S){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,H();case 6:(t=e.sent).error||!t.success?(ae(t.error),J(!1)):t.success&&N&&(n={},ce&&ie&&Object.keys(ce).map((function(e){return n[e]=ie[e],!0})),n&&ie&&(n[p]=Object(x.a)(Object(x.a)({},ie[p]),{},{twitter:{tweetID:S,handle:N,timestamp:Date.now()}}),ue(n)),ee(!0));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(be.useEffect)((function(){var e=JSON.parse(localStorage.getItem("social")||"{}");A&&!e.identities&&(localStorage.setItem("social",JSON.stringify({twitterAccount:A})),_(!0))}),[A]),function(e,t,n,r,a,c){Object(be.useEffect)((function(){var o=setTimeout((function(){t&&n&&rt(t).then((function(t){if(null===t||void 0===t?void 0:t.data[0]){var n,o=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n[0];e&&o.text.includes("sig:"+e)?(a(o.id),c(void 0),r(!1)):(r(!1),c("Tweet not found, try again with exact message."))}else r(!1),c("Tweet not found, try again.")})).catch((function(){r(!1),c("Tweet not found, try again.")}))}),8e3);return function(){return clearTimeout(o)}}),[c,a,r,e,t,n])}(G,N,R,P,T,M),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(lr.a,{isOpen:y,isOpenHandler:function(){return _(!1)},keyProp:"",children:Object(fe.jsx)(fe.Fragment,{children:G?S?$||Q?Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsx)("h3",{children:"Verification Successful"})}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("h3",{children:"Step 3: Submit"}),Object(fe.jsx)("small",{children:"Verify your tweet and add your handle to the list of verified mappings."}),Object(fe.jsx)(Br.a,{tweetId:S}),Object(fe.jsx)(Sr,{onClick:function(){return he.apply(this,arguments)},disabled:!p||!S||!G,children:"Submit"}),re&&Object(fe.jsx)(En,{error:!0,children:re})]}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("h3",{children:"Step 2: Step 2: Announce"}),Object(fe.jsx)("small",{children:"Sign in with Twitter to link your Ethereum address and Twitter handle."}),Object(fe.jsx)(Ir,{}),Object(fe.jsx)(Yr,{children:pe}),Object(fe.jsx)(Sr,{onClick:function(){N&&rt(N).then((function(e){if(null===e||void 0===e?void 0:e.data[0]){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t[0];n.text.includes("sig:"+G)?(T(n.id),M(void 0),P(!1)):Oe()}else Oe()})).catch((function(){Oe()}))},children:R?"Looking for tweet ":B?"Check again":"Tweet This"}),B&&Object(fe.jsx)(En,{error:!0,children:B})]}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("h3",{children:"Step 1: Sign Message"}),Object(fe.jsx)("small",{children:"Sign in with Twitter to link your Ethereum address and Twitter handle."}),Object(fe.jsx)(Ir,{}),Object(fe.jsx)(Sr,{onClick:V,children:"Sign"}),W&&Object(fe.jsx)(En,{error:!0,children:W})]})})}),Object(fe.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(fe.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),v(!0)},children:Object(fe.jsx)(ze,{})})}),Object(fe.jsx)(Ke.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:u,onRequestClose:function(){v(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(fe.jsx)(Ve.a,{appear:!0,in:u,timeout:200,children:function(e){return Object(fe.jsx)("nav",{role:"navigation",id:"navigation",children:Object(fe.jsxs)("div",{style:Object(x.a)(Object(x.a)({},Mr),j[e]),className:"nav-modal",children:[Object(fe.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),v(!1)},children:Object(fe.jsx)(qe.a,{})}),Object(fe.jsx)(Pe,{}),Object(fe.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(fe.jsx)(Mn,{}),!de&&p?N?Object(fe.jsx)(Vr,{onClick:function(){_(!0)},children:Object(fe.jsxs)(qt,{children:[Object(fe.jsx)(gn,{fontSize:"14px",children:"Add a public identity"}),Object(fe.jsx)(Wr,{src:Kt})]})}):Object(fe.jsx)(tr,{text:"Add a public identity"}):null]}),Object(fe.jsxs)("ul",{className:"nav__list",children:[Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/membership",children:Object(fe.jsx)("span",{children:"Membership"})})}),Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/governance",children:Object(fe.jsx)("span",{children:"Governance"})})}),Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/transfers",children:Object(fe.jsx)("span",{children:"Transfer"})})}),Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/movements",children:Object(fe.jsx)("span",{children:"Movement"})})}),Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/unagii-vaults",children:Object(fe.jsx)("span",{children:"Unagii Vaults"})})}),Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/tributes",children:Object(fe.jsx)("span",{children:"Tribute"})})}),m&&Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/members/".concat(p),children:Object(fe.jsx)("span",{children:"Profile"})})}),h&&Object(fe.jsx)("li",{onClick:function(){v(!1)},children:Object(fe.jsx)(o.c,{to:"/dao-manager",children:Object(fe.jsx)("span",{children:"Manage DAO"})})})]})]})})}})})]})}function zr(){return Object(fe.jsx)(We.a,{query:"(max-width: 62em)",children:function(e){return Object(fe.jsx)("div",{className:"nav-header",children:Object(fe.jsxs)("div",{className:"nav-header__menu-container",children:[Object(fe.jsx)(Kr,{}),Object(fe.jsx)(Qn,{border:"1px solid #c3d6dc"}),Object(fe.jsx)(Hr,{}),Object(fe.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(fe.jsx)(Mn,{})})]})})}})}function qr(){function e(e){return Object(fe.jsx)(o.b,{to:"/",children:e.children})}return Object(fe.jsxs)("header",{className:"header",children:[Object(fe.jsx)(e,{children:Object(fe.jsx)(Fe,{})}),Object(fe.jsx)("div",{className:"header__nav-container",children:Object(fe.jsx)(zr,{})})]})}var Qr=n(9),Jr=n(18),Xr=n(71),Zr=n.n(Xr);function $r(e){return t=e,Zr.a.utils.sha3(t);var t}function ea(e){var t;return{acl:ta((t={},Object(Qr.a)(t,Jr.b.BANK,{}),Object(Qr.a)(t,Jr.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(Qr.a)(t,Jr.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(Qr.a)(t,Jr.a.EXECUTION,{}),Object(Qr.a)(t,Jr.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(Qr.a)(t,Jr.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(Qr.a)(t,Jr.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Qr.a)(t,Jr.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(Qr.a)(t,Jr.a.OFFCHAINVOTING,{}),Object(Qr.a)(t,Jr.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(Qr.a)(t,Jr.a.NONVOTING_ONBOARDING,{}),Object(Qr.a)(t,Jr.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Qr.a)(t,Jr.a.VOTING,{}),Object(Qr.a)(t,Jr.a.BANK,{WITHDRAW:!0,SUB_FROM_BALANCE:!0,UPDATE_TOKEN:!0}),Object(Qr.a)(t,Jr.a.NFT,{COLLECT_NFT:!0}),Object(Qr.a)(t,Jr.a.COUPON_ONBOARDING,{SUBMIT_PROPOSAL:!1,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!1,NEW_MEMBER:!0}),Object(Qr.a)(t,Jr.a.TRIBUTE_NFT,{SUBMIT_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,COLLECT_NFT:!0}),Object(Qr.a)(t,Jr.b.NFT,{WITHDRAW_NFT:!0,COLLECT_NFT:!0,INTERNAL_TRANSFER:!0}),Object(Qr.a)(t,Jr.a.DAO_REGISTRY,{UPDATE_DELEGATE_KEY:!0}),Object(Qr.a)(t,Jr.a.MOVEMENT,{SUBMIT_PROPOSAL:!0}),Object(Qr.a)(t,Jr.a.UNAGII_DEPOSIT,{SUBMIT_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0,WITHDRAW:!0,REGISTER_NEW_TOKEN:!0}),Object(Qr.a)(t,Jr.a.UNAGII_WITHDRAW,{SUBMIT_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0,WITHDRAW:!0}),t)[e])}}function ta(e){var t=[e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER],n=[e.TRANSFER_NFT];return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([].concat(t,n))}var na=[{name:Jr.a.CONFIGURATION,adapterId:$r(Jr.a.CONFIGURATION),contractAddress:j.e[j.k],abiFunctionName:"submitConfigurationProposal",description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:Jr.a.DISTRIBUTE,adapterId:$r(Jr.a.DISTRIBUTE),contractAddress:j.l[j.k],abiFunctionName:"submitProposal",description:"Allows the members to distribute funds to one or all members of the DAO."},{name:Jr.a.FINANCING,adapterId:$r(Jr.a.FINANCING),contractAddress:j.q[j.k],abiFunctionName:"createFinancingRequest",description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:Jr.a.GUILDKICK,adapterId:$r(Jr.a.GUILDKICK),contractAddress:j.t[j.k],abiFunctionName:"submitKickProposal",description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:Jr.a.MANAGING,adapterId:$r(Jr.a.MANAGING),contractAddress:j.v[j.k],abiFunctionName:"submitProposal",description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:Jr.a.ONBOARDING,adapterId:$r(Jr.a.ONBOARDING),contractAddress:j.A[j.k],abiFunctionName:"configureDao",description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:Jr.a.RAGEQUIT,adapterId:$r(Jr.a.RAGEQUIT),contractAddress:j.B[j.k],abiFunctionName:"ragequit",description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:Jr.a.TRIBUTE,adapterId:$r(Jr.a.TRIBUTE),contractAddress:j.F[j.k],abiFunctionName:"configureDao",description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{name:Jr.a.TRIBUTE_NFT,adapterId:$r(Jr.a.TRIBUTE_NFT),contractAddress:j.G[j.k],abiFunctionName:"provideTributeNFT",description:"Allows potential DAO members to contribute a registered ERC-721 asset to the DAO in exchange for any amount of DAO units."},{options:[{name:Jr.a.VOTING,displayName:Jr.a.OFFCHAINVOTING,adapterId:$r(Jr.a.VOTING),contractAddress:j.z[j.k],abiFunctionName:"configureDao",description:"Adds the offchain voting governance process to the DAO to support gasless voting.",setAclToExtensionForAdapter:!0},{name:Jr.a.VOTING,displayName:Jr.a.VOTING,adapterId:$r(Jr.a.VOTING),contractAddress:j.I[j.k],abiFunctionName:"configureDao",description:"Adds the simple on chain voting governance process to the DAO.",setAclToExtensionForAdapter:!0}],optionDefaultTarget:Jr.a.VOTING},{name:Jr.a.BANK,adapterId:$r(Jr.a.BANK),contractAddress:j.a[j.k],abiFunctionName:"withdraw",description:"Allows the members to withdraw their funds from the DAO bank."},{name:Jr.a.NFT,adapterId:$r(Jr.a.NFT),contractAddress:j.y[j.k],abiFunctionName:"collect",description:"Transfers ownership of an NFT to the DAO collection."},{name:Jr.a.COUPON_ONBOARDING,adapterId:$r(Jr.a.COUPON_ONBOARDING),contractAddress:j.f[j.k],abiFunctionName:"configureDao",description:"Provides a way to onboard an initial group of members quickly without requiring multiple proposals."},{name:Jr.a.DAO_REGISTRY,adapterId:$r(Jr.a.DAO_REGISTRY),contractAddress:j.i[j.k],abiFunctionName:"updateDelegateKey",description:"Allows the member to update delegate key."}],ra=["DaoRegistryContract"];function aa(){var e=Object(c.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(A.a)(e,ra),r=Object(Vn.a)(O.a,{pollInterval:j.r,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=s.called,u=s.data,d=s.error,l=Object(be.useState)(),b=Object(_e.a)(l,2),f=b[0],p=b[1],h=Object(be.useState)(),m=Object(_e.a)(h,2),v=m[0],g=m[1],N=Object(be.useState)(Ce.a.STANDBY),E=Object(_e.a)(N,2),w=E[0],y=E[1],_=Object(be.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return na.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(x.a)(Object(x.a)(Object(x.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var o=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),s=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(o||s){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(x.a)(Object(x.a)(Object(x.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}else{var o=a(e.adapterId);if(o)return n.push(Object(x.a)(Object(x.a)(Object(x.a)({},o),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(x.a)(Object(x.a)(Object(x.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(be.useEffect)((function(){i||o()}),[i,o]),Object(be.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(y(Ce.a.PENDING),u){var e=u.tributeDaos[0],n=e.adapters,r=e.extensions,a=_(n,r),c=a.registeredList,o=a.unRegisteredList;p(c),g(o),y(Ce.a.FULFILLED)}else if(d)throw new Error(d.message)}catch(d){p(void 0),g(void 0),y(Ce.a.REJECTED)}}),[t,u,d,_]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:f,unRegisteredAdaptersOrExtensions:v}}var ca,oa=n(28);function sa(){var e=Object(Ie.d)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString(),a=n===ca.ADDRESS?function(t){try{return!!t&&(Zr.a.utils.checkAddressChecksum(t,e)||Zr.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===ca.BYTES32?function(e){try{return!!e&&(66===e.length&&Zr.a.utils.isHex(e))}catch(t){return!1}}(r):n===ca.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&Zr.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===ca.UINT256?function(e){return!isNaN(Number(e))}(r):n!==ca.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r);return a},getFormFieldError:function(e){return e===ca.ADDRESS?oa.a.INVALID_ETHEREUM_ADDRESS:e===ca.BYTES32?oa.a.INVALID_BYTES32:e===ca.BYTES32_ARRAY?oa.a.INVALID_BYTES32_ARRAY:e===ca.UINT256?oa.a.INVALID_NUMBER:e===ca.UINT256_ARRAY?oa.a.INVALID_NUMBER_ARRAY:oa.a.REQUIRED},formatInputByType:function(e,t){return t===ca.BYTES32_ARRAY?Array.from(e.split(",")):t===ca.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===ca.UINT256?Number(e):e}}}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(ca||(ca={}));var ia=n(40);function ua(e){var t=e.adapterOrExtension,n=e.defaultTarget,r=e.renderActions,a=e.renderCheckboxAction,c=Object(be.useState)(n||null),o=Object(_e.a)(c,2),s=o[0],i=o[1],u=Object(be.useState)({}),d=Object(_e.a)(u,2),l=d[0],b=d[1];return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[a({selectedTargetOption:s}),Object(fe.jsxs)("div",{className:"adapter-extension__info",children:[Object(fe.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(fe.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;i(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));b(r)},children:[Object(fe.jsxs)("option",{value:"",disabled:null!==s,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(fe.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(fe.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(r){console.warn(r)}}(s)]})]}),r({selectedTargetOption:s,selectedTargetOptionProps:l})]})}var da,la=["size"];function ba(e){var t=e.size,n=Object(A.a)(e,la);return Object(fe.jsxs)(be.Fragment,{children:[Object(fe.jsx)("input",Object(x.a)(Object(x.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(fe.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(fe.jsx)("span",{className:"checkbox-box ".concat(t||da.SMALL)}),Object(fe.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}!function(e){e.LARGE="large",e.SMALL="small"}(da||(da={}));var ja=n(79),fa=n(61),pa=n(6),Oa=n(38),ha=["error"];function ma(e){var t=e.error,n=Object(A.a)(e,ha);return Object(fe.jsx)(fe.Fragment,{children:t&&Object(fe.jsx)(Un.a,{children:Object(fe.jsx)("p",Object(x.a)(Object(x.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var va=n(48);function xa(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,r=e.adapterOrExtension,a=e.closeHandler,o=Object(c.c)((function(e){return e.contracts})).DaoRegistryContract,s=Object(be.useState)(),i=Object(_e.a)(s,2),u=i[0],d=i[1],l=Object(be.useState)(pa.f.STANDBY),b=Object(_e.a)(l,2),j=b[0],f=b[1],O=Object(be.useState)(pa.f.STANDBY),h=Object(_e.a)(O,2),m=h[0],v=h[1],A=Object(Ie.a)(),g=A.txError,N=A.txIsPromptOpen,E=A.txSend,w=A.txStatus,y=sa(),_=y.isParamInputValid,I=y.getFormFieldError,C=y.formatInputByType,S=Object(Ie.f)(),T=S.connected,D=S.account,k=aa().getAdapterOrExtensionFromRedux,R=Object(Ie.b)().average,P=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),F=P.errors,L=P.formState,B=P.getValues,M=P.setValue,U=P.register,G=P.trigger,V=u||g,W=T&&D,Y=(null===r||void 0===r?void 0:r.isExtension)?"extension":"adapter",K=L.isValid,H=(w===pa.f.AWAITING_CONFIRM||w===pa.f.PENDING)&&(j===pa.f.AWAITING_CONFIRM||j===pa.f.PENDING),z=(w===pa.f.AWAITING_CONFIRM||w===pa.f.PENDING)&&(m===pa.f.AWAITING_CONFIRM||m===pa.f.PENDING),q=w===pa.f.FULFILLED&&j===pa.f.FULFILLED,Q=w===pa.f.FULFILLED&&m===pa.f.FULFILLED,J=(H||q)&&N,X=(z||Q)&&N;function Z(){return(Z=Object(Ue.a)(Me.a.mark((function e(){var t,n,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(pa.f.AWAITING_CONFIRM),t=[null===r||void 0===r?void 0:r.extensionId],n=[null===r||void 0===r?void 0:r.adapterId,fa.a,0,[],[]],c=Object(x.a)({from:D||""},R?{gasPrice:R}:null),e.next=9,E((null===r||void 0===r?void 0:r.isExtension)?"removeExtension":"replaceAdapter",o.instance.methods,(null===r||void 0===r?void 0:r.isExtension)?t:n,c);case 9:v(pa.f.FULFILLED),a&&setTimeout((function(){a()}),3e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),d(e.t0),v(pa.f.REJECTED);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function $(){return($=Object(Ue.a)(Me.a.mark((function e(a){var c,o,s,i,u;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(pa.f.PENDING),c=k(null===r||void 0===r?void 0:r.name),o=c.contractAddress,s=c.instance.methods,W){e.next=5;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 5:if(o){e.next=7;break}throw new Error("No ".concat(null===r||void 0===r?void 0:r.name," contract found."));case 7:if(D){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(a).find((function(t){return t[0]===e.name}));if(t){var n=C(t[1],e.type);i.push(n)}})),u=Object(x.a)({from:D||""},R?{gasPrice:R}:null),f(pa.f.AWAITING_CONFIRM),e.next=15,E(n,s,i,u);case 15:f(pa.f.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),d(e.t0),f(pa.f.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":F[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return M(e.name[0],B()[e.name])},ref:U({validate:function(t){return""===t?oa.a.REQUIRED:!!_(t,e.type)||I(e.type)}}),disabled:J}),Object(fe.jsx)(ma,{error:Object(p.g)(e.name,F),id:"error-".concat(e.name)})]})]},e.name)})),Object(fe.jsx)("button",{className:"button",disabled:J||X,onClick:function(){J||(K?function(e){$.apply(this,arguments)}(B()):G())},type:"submit",children:H?Object(fe.jsx)(va.a,{}):q?"Done":"Submit"}),V&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:V})}),Object(fe.jsxs)("div",{className:"adapter-extension__remove",children:[Object(fe.jsxs)("p",{children:["Delete this ",Y,". Once you delete this"," ",Y,", it can be re-added if the DAO isn't finalized."]}),Object(fe.jsx)("button",{className:"button--secondary",disabled:X||J,onClick:function(){return Q?{}:function(){return Z.apply(this,arguments)}()},children:z?Object(fe.jsx)(va.a,{}):Q?"Done":"Remove"})]})]})}function Aa(e){var t=e.abiMethodName,n=e.adapterOrExtension,r=e.configurationInputs,a=e.isOpen,c=e.closeHandler;return Object(fe.jsx)(lr.a,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:a,isOpenHandler:function(){c()},children:Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("span",{className:"modal__close-button",onClick:function(){c()},children:Object(fe.jsx)(qe.a,{})}),Object(fe.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(fe.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(fe.jsx)(xa,{abiConfigurationInputs:r,abiMethodName:t,adapterOrExtension:n,closeHandler:c})]})})}var ga=n(65),Na=n(64),Ea=n(78),wa=n(56);function ya(e){var t=e.isOpen,n=e.closeHandler,r=Object(be.useState)(),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=Object(c.c)((function(e){return e.contracts})).DaoRegistryContract,u=Object(Ie.a)(),d=u.txError,l=u.txEtherscanURL,b=u.txIsPromptOpen,j=u.txSend,f=u.txStatus,O=Object(Xt.c)().dao,h=Object(Ie.f)(),m=h.connected,v=h.account,A=Object(Ie.b)().average,g=m&&v,N=f===pa.f.AWAITING_CONFIRM||f===pa.f.PENDING,E=f===pa.f.FULFILLED,w=N||E||b,y=o||d;function _(){return(_=Object(Ue.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(i){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:return t=Object(x.a)({from:v||""},A?{gasPrice:A}:null),e.next=9,j("finalizeDao",i.instance.methods,[],t);case 9:n&&setTimeout((function(){n()}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(fe.jsx)(lr.a,{keyProp:"adapter-extension-finalize",isOpen:t,isOpenHandler:function(){n()},children:Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(fe.jsx)(qe.a,{})}),Object(fe.jsx)("h1",{children:"Finalize"}),Object(fe.jsxs)("h2",{children:[O&&O.name," ",Object(fe.jsx)("small",{children:O&&Object(p.l)(O.daoAddress,7)})]}),Object(fe.jsx)("p",{children:"After your DAO is finalized you will need to submit a proposal to make changes."}),Object(fe.jsx)("button",{className:"button",disabled:w,onClick:function(){w||function(){_.apply(this,arguments)}()},type:"submit",children:N?Object(fe.jsx)(va.a,{}):E?"Done":"Submit"}),w&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(f){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Awaiting your confirmation",Object(fe.jsx)(ga.a,{})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:l,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Finalized!"}),Object(fe.jsx)(wa.a,{url:l})]});default:return null}}()}),y&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while trying to finalize the DAO.",error:y})})]})})}var _a,Ia=["children"],Ca=function(e){var t=e.children,n=Object(A.a)(e,Ia);return Object(fe.jsx)("div",Object(x.a)(Object(x.a)({style:{position:"relative"}},n),{},{children:t}))};function Sa(){var e=Object(c.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,r=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),a=Object(be.useState)(""),o=Object(_e.a)(a,2),s=o[0],i=o[1],u=Object(be.useState)(),d=Object(_e.a)(u,2),l=d[0],b=d[1],j=Object(be.useState)(),O=Object(_e.a)(j,2),h=O[0],m=O[1],v=Object(be.useState)(),A=Object(_e.a)(v,2),g=A[0],N=A[1],E=Object(be.useState)(),w=Object(_e.a)(E,2),y=w[0],_=w[1],I=Object(be.useState)(!1),C=Object(_e.a)(I,2),S=C[0],T=C[1],D=Object(be.useState)(!1),k=Object(_e.a)(D,2),R=k[0],P=k[1],F=Object(be.useState)(!1),L=Object(_e.a)(F,2),B=L[0],M=L[1],U=Object(be.useState)(0),G=Object(_e.a)(U,2),V=G[0],W=G[1],Y=Object(be.useState)(),K=Object(_e.a)(Y,2),H=K[0],z=K[1],q=Object(be.useState)(),Q=Object(_e.a)(q,2),J=Q[0],X=Q[1],Z=Object(be.useState)(),$=Object(_e.a)(Z,2),ee=$[0],te=$[1],ne=Object(be.useState)(),re=Object(_e.a)(ne,2),ae=re[0],ce=re[1],oe=Object(Ie.d)().defaultChainError,se=Object(Ie.f)(),ie=se.connected,ue=se.account,de=se.web3Instance,le=Object(Xt.c)(),je=le.dao,pe=le.gqlError,Oe=Object(Ie.b)().average,he=aa(),me=he.adapterExtensionStatus,ve=he.getAdapterOrExtensionFromRedux,xe=he.registeredAdaptersOrExtensions,Ae=he.unRegisteredAdaptersOrExtensions,ge=function(){var e=Object(c.b)();function t(){return(t=Object(Ue.a)(Me.a.mark((function t(n,r){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===Jr.a.CONFIGURATION?3:t.t0===Jr.a.FINANCING?6:t.t0===Jr.a.GUILDKICK?9:t.t0===Jr.a.MANAGING?12:t.t0===Jr.a.RAGEQUIT?15:t.t0===Jr.a.BANK?18:t.t0===Jr.b.NFT?21:t.t0===Jr.a.ONBOARDING?24:t.t0===Jr.a.TRIBUTE?27:t.t0===Jr.a.DISTRIBUTE?30:t.t0===Jr.a.VOTING?33:t.t0===Jr.a.COUPON_ONBOARDING?36:t.t0===Jr.a.TRIBUTE_NFT?39:t.t0===Jr.a.NFT?42:t.t0===Jr.a.DAO_REGISTRY?45:t.t0===Jr.b.ERC20?48:51;break;case 3:return t.next=5,e(Object(f.E)(r));case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:case 41:case 44:case 47:case 50:return t.abrupt("break",51);case 6:return t.next=8,e(Object(f.L)(r));case 9:return t.next=11,e(Object(f.M)(r));case 12:return t.next=14,e(Object(f.N)(r));case 15:return t.next=17,e(Object(f.S)(r));case 18:return t.next=20,e(Object(f.B)(r));case 21:return t.next=23,e(Object(f.Q)(r));case 24:return t.next=26,e(Object(f.R)(r));case 27:return t.next=29,e(Object(f.T)(r));case 30:return t.next=32,e(Object(f.J)(r));case 33:return t.next=35,e(Object(f.X)(r));case 36:return t.next=38,e(Object(f.F)(r));case 39:return t.next=41,e(Object(f.U)(r));case 42:return t.next=44,e(Object(f.P)(r));case 45:return t.next=47,e(Object(f.I)(r));case 48:return t.next=50,e(Object(f.K)(r));case 51:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{initAdapterExtensionContract:function(e,n){return t.apply(this,arguments)}}}(),Ne=ge.initAdapterExtensionContract,Ee=Object(Ie.a)().txSend,we=Object(Xt.g)(),ye=we.isDisabled,Se=we.openWhyDisabledModal,Te=we.setOtherDisabledReasons,De=we.WhyDisabledModal,ke=ie&&ue,Re=je,Pe=l===ia.a.READY,Fe=me===Ce.a.REJECTED&&void 0===xe&&void 0===Ae,Le=me===Ce.a.PENDING,Be=0===(null===Ae||void 0===Ae?void 0:Ae.length),Ge=Object(be.useCallback)((function(){return Ve.apply(this,arguments)}),[t,null===je||void 0===je?void 0:je.name,Te]);function Ve(){return(Ve=Object(Ue.a)(Me.a.mark((function e(){var n,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===je||void 0===je?void 0:je.name," is already finalized"),e.next=6,Object(ia.g)(t.instance);case 6:r=e.sent,b(r),r===ia.a.READY&&Te([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function We(e){new Promise((function(t,n){try{t(ve(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ke(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Ye(e){new Promise((function(t,n){try{t(ve(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ke(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Ke(e,t,n){return He.apply(this,arguments)}function He(){return(He=Object(Ue.a)(Me.a.mark((function e(n,r,a){var c,o,s,i,u,d,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(void 0),t){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(de){e.next=5;break}throw new Error("No Web3 instance was found.");case 5:if(e.prev=5,te((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},r,!0))})),n){e.next=9;break}throw new Error("".concat(a," address must not be empty"));case 9:return c=$r(r),o=ea(r),s=o.acl,i="ADAPTER"===a?[c,n,s,[],[]]:[c,n,ue],u=Object(x.a)({from:ue||""},Oe?{gasPrice:Oe}:null),d="ADAPTER"===a?"replaceAdapter":"addExtension",e.next=16,Ee(d,t.instance.methods,i,u);case 16:te((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},r,!1))})),m((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},r,!0))})),Ne(r,de),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),te((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),_(l);case 26:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)}function ze(){return(ze=Object(Ue.a)(Me.a.mark((function e(){var t,r,a,c,o,s,i,u,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:if(de){e.next=5;break}throw new Error("No Web3 instance was found.");case 5:for(a in e.prev=5,t=[],r=function(e){if(H[e]){var n=na.filter((function(t){return t.name===e}))[0],r=n.adapterId,a=n.contractAddress;if(!a){var c=ve(e);a=null===c||void 0===c?void 0:c.contractAddress}var o=ea(e).acl;r&&a&&(t.push([r,a,o]),te((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Qr.a)({},e,!0))})))}},H)r(a);return c=[null===je||void 0===je?void 0:je.daoAddress,t],o=Object(x.a)({from:ue||""},Oe?{gasPrice:Oe}:null),e.next=13,Ee("addAdapters",n.instance.methods,c,o);case 13:for(s in H)H[s]&&s&&Ne(s,de);e.next=23;break;case 16:for(d in e.prev=16,e.t0=e.catch(5),i=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),_(i),Qe(!1),u=function(e){te((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Qr.a)({},e,!1))}))},H)u(d);case 23:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}function qe(){return(qe=Object(Ue.a)(Me.a.mark((function e(t){var n,r,a,c,o,s;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(void 0),e.prev=1,n=t.abiFunctionName,r=t.name,n){e.next=5;break}throw new Error("ABI function not found for ".concat(r));case 5:a=ve(r),c=a.abi,o=c.filter((function(e){return e.name===n}))[0].inputs,i(n),X(t),N(o),T(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"".concat(t.name," contract not found")),_(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Qe(e){M(e);var t=function(t){z((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(Qr.a)({},t,e))}))};for(var n in H)t(n)}return Object(be.useEffect)((function(){Ge()}),[Ge,t]),Object(be.useEffect)((function(){M(!1),Ae&&Ae&&(null===Ae||void 0===Ae||Ae.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&!e.isExtension&&z((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Qr.a)({},e.name,!1))}))})))}),[ye,Ae]),Object(be.useEffect)((function(){H&&W(Object.values(H).filter((function(e){return!0===e})).length)}),[H]),ke&&r&&!oe?Object(fe.jsx)(Ta,{children:Object(fe.jsxs)("div",{className:"adaptermanager",children:[!je&&pe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(fe.jsx)(Oa.a,{error:pe,renderText:"Something went wrong"})):je?Object(fe.jsxs)("h3",{children:[je.name," ",Object(fe.jsx)("small",{children:Object(p.l)(je.daoAddress,7)})]}):void 0,y?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(fe.jsx)(Oa.a,{error:y,renderText:"Something went wrong"})):Object(fe.jsx)(fe.Fragment,{}),Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(fe.jsxs)("div",{className:"adapter-extension__selection",children:[Object(fe.jsx)("div",{children:Object(fe.jsx)(ba,{"data-testid":"selectall",role:"checkbox",id:"selectall",label:"".concat(V," selected"),checked:!0===B,disabled:ye||Fe||Be||!Re,name:"selectall",size:da.LARGE,onChange:function(e){Qe(e.target.checked)}})}),Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{className:"button--secondary",disabled:0===V||ye,onClick:function(){return ze.apply(this,arguments)},children:"Add selected"})})]}),Le&&Object(fe.jsx)("div",{className:"adapter-extension__loader",children:Object(fe.jsx)(va.a,{text:"Loading data from subgraph..."})}),Fe&&Object(fe.jsx)("p",{children:"No adapters/extensions available"}),Re&&Ae&&(null===Ae||void 0===Ae?void 0:Ae.length)>0&&Ae.map((function(e,t){return Object(fe.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(fe.jsx)(ua,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsx)("div",{className:"adapter-extension__checkbox",children:Object(fe.jsx)(ba,{id:n||"empty",label:"",checked:n&&H&&!0===H[n]||!1,disabled:ye||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:da.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;z((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsx)("div",{className:"adapter-extension__add",children:Object(fe.jsx)("button",{className:"button--secondary",disabled:null===t||ee&&ee[n.name]||ye,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Ye(n):We(n)},children:ee&&ee[n.name]?Object(fe.jsx)(va.a,{}):h&&h[n.name]?"Done":"Add"})})})}}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[Object(fe.jsx)("div",{className:"adapter-extension__checkbox",children:!(null===e||void 0===e?void 0:e.isExtension)&&Object(fe.jsx)(ba,{id:e.name,label:"",checked:H&&!0===H[e.name]||!1,disabled:ye,name:e.name,size:da.LARGE,onChange:function(t){z((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(Qr.a)({},e.name,t.target.checked))}))}})}),Object(fe.jsxs)("div",{className:"adapter-extension__info",children:[Object(fe.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(fe.jsx)("span",{className:"adapter-extension__desc",children:e.description})]})]}),Object(fe.jsx)("div",{className:"adapter-extension__add",children:Object(fe.jsx)("button",{className:"button--secondary",disabled:ee&&ee[e.name]||h&&h[e.name]||ye,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Ye(e):We(e)},children:ee&&ee[e.name]?Object(fe.jsx)(va.a,{}):h&&h[e.name]?"Done":"Add"})})]})},t)})),Re&&xe&&(null===xe||void 0===xe?void 0:xe.length)>0&&xe.map((function(e,t){return Object(fe.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(fe.jsxs)("div",{className:"adapter-extension__info",children:[Object(fe.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(fe.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(fe.jsx)("div",{className:"adapter-extension__configure",children:Object(fe.jsx)("button",{className:"button--secondary",disabled:ye||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return qe.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),ye&&Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{className:"button--help",onClick:function(){Se(),ce(_a.CONFIGURATION_REASON)},children:_a.CONFIGURATION_REASON})}),Object(fe.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(fe.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{"data-testid":"finalizedao",className:"button--secondary finalize",disabled:Fe||!Re||Pe,onClick:function(){return P(!0)},children:"Finalize Dao"})}),ye&&Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{className:"button--help",onClick:function(){Se(),ce(_a.FINALIZED_REASON)},children:_a.FINALIZED_REASON})}),Object(fe.jsx)(De,{title:ae})]}),S&&Object(fe.jsx)(Aa,{abiMethodName:s,adapterOrExtension:J,configurationInputs:g,isOpen:S,closeHandler:function(){T(!1)}}),R&&Object(fe.jsx)(ya,{isOpen:R,closeHandler:function(){P(!1),Ge()}})]})}):Object(fe.jsx)(Ta,{children:Object(fe.jsx)("div",{className:"adapter-extension__unauthorized-message",children:Object(fe.jsx)("p",{children:ke?oe?oe.message:r?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to manage the DAO adapters and extensions."})})})}function Ta(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Adapter/Extension Manager"})}),e.children]})})}!function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(_a||(_a={}));var Da,ka=n(23),Ra=n(46),Pa=n(43),Fa=n(258);function La(e){var t=e.value;return t?Object(fe.jsxs)("details",{children:[Object(fe.jsx)("summary",{style:{cursor:"pointer",outline:"none"},children:Object(fe.jsx)("small",{children:"Preview Markdown"})}),Object(fe.jsx)("div",{style:{marginTop:"1em"},children:Object(fe.jsx)(Fa.a,{children:t})})]}):null}function Ba(){var e=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(be.useState)(),n=Object(_e.a)(t,2),r=n[0],a=n[1],o=Object(Ie.f)(),s=o.connected,i=o.account,u=Object(Pa.i)(),d=u.proposalSignAndSendStatus,l=u.signAndSendProposal,b=Object(Ie.d)().defaultChainError,j=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),f=Object(le.f)(),O=j.errors,h=j.getValues,m=j.register,v=j.trigger,x=j.watch,A=s&&i,g=d===pa.f.AWAITING_CONFIRM||d===pa.f.PENDING,N=d===pa.f.FULFILLED,E=g||N;function w(e){return y.apply(this,arguments)}function y(){return(y=Object(Ue.a)(Me.a.mark((function e(t){var n,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({partialProposalData:{name:t.title,body:t.description,metadata:{type:Ra.d.Governance}},type:ka.SnapshotType.proposal});case 3:n=e.sent,r=n.uniqueId,f.push("/governance/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return A&&e&&!b?Object(fe.jsx)(Ma,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",htmlFor:Da.title,children:"Title"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Da.title),"aria-invalid":O.title?"true":"false",id:Da.title,name:Da.title,ref:m({required:oa.a.REQUIRED}),type:"text",disabled:E}),Object(fe.jsx)(ma,{error:Object(p.g)(Da.title,O),id:"error-".concat(Da.title)})]})]}),Object(fe.jsxs)("div",{className:"form__textarea-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",htmlFor:Da.description,children:"Description"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("textarea",{"aria-describedby":"error-".concat(Da.description),"aria-invalid":O.description?"true":"false",id:Da.description,name:Da.description,placeholder:"Say something about your governance proposal...",ref:m({required:oa.a.REQUIRED}),disabled:E}),Object(fe.jsx)(ma,{error:Object(p.g)(Da.description,O),id:"error-".concat(Da.description)}),Object(fe.jsx)(La,{value:x(Da.description)})]})]}),Object(fe.jsx)("button",{"aria-label":g?"Submitting your proposal...":"",className:"button",disabled:E,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:w(h());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:g?Object(fe.jsx)(va.a,{}):N?"Done":"Submit"}),E&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(d){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Awaiting your confirmation",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:["Submitting",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.FULFILLED:return"Done!";default:return""}}()}),r&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while submitting the proposal.",error:r})})]})}):Object(fe.jsx)(Ma,{children:Object(fe.jsx)("div",{className:"form__description--unauthorized",children:Object(fe.jsx)("p",{children:A?b?b.message:e?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a governance proposal."})})})}function Ma(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.title="title",e.description="description"}(Da||(Da={}));var Ua,Ga=n(31),Va=n(98);function Wa(){var e=Object(Ie.d)().defaultChainError,t=Object(Ie.f)(),n=t.connected,r=t.account,a=t.web3Instance,c=Object(Pa.i)(),o=c.proposalData,s=c.proposalSignAndSendError,i=c.proposalSignAndSendStatus,u=c.signAndSendProposal,d=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),l=Object(le.f)(),b=Object(be.useState)(),f=Object(_e.a)(b,2),O=f[0],h=f[1],m=Object(be.useState)(),v=Object(_e.a)(m,2),x=v[0],A=v[1],g=d.errors,N=d.getValues,E=d.setValue,w=d.register,y=d.trigger,_=(0,d.watch)(Ua.ethAddress),I=O||s,C=n&&r,S=i===pa.f.AWAITING_CONFIRM||i===pa.f.PENDING,T=i===pa.f.FULFILLED,D=S||T,k=Object(Pa.a)(_),R=k.checkApplicantError,P=k.checkApplicantInvalidMsg,F=k.checkApplicantStatus,L=k.isApplicantValid,B=Object(be.useCallback)((function(){return M.apply(this,arguments)}),[r,a]);function M(){return(M=Object(Ue.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&r){e.next=3;break}return A(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.eth.getBalance(r);case 6:t=e.sent,A(a.utils.fromWei(t,"ether")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),A(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function U(e){return G.apply(this,arguments)}function G(){return(G=Object(Ue.a)(Me.a.mark((function e(t){var n,a,c,s,i,d,b,f,O,m,v;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(r){e.next=5;break}throw new Error("No account found.");case 5:if(R&&console.warn("Error checking if the applicant address is valid: ".concat(R.message)),F!==Ce.a.FULFILLED||L||!P){e.next=8;break}throw new Error(P);case 8:if(n=(null===o||void 0===o?void 0:o.uniqueId)||"",a=t.ethAddress,c=t.ethAmount,s=Object(Ga.toChecksumAddress)(a),i=Object(Ga.toWei)(Object(p.k)(c),"ether"),d=Object(Ga.toChecksumAddress)(r),b={tributeAmount:c,tributeAmountUnit:"ETH"},f=[s,j.H,i],n){e.next=22;break}return O=Object(p.i)(a)===Object(p.i)(r)?"Membership for ".concat(Object(p.l)(s,7),"."):"Membership proposal from ".concat(Object(p.l)(d,7)," for applicant ").concat(Object(p.l)(s,7),"."),e.next=19,u({partialProposalData:{name:s,body:O,metadata:{proposalAmountValues:b,submitActionArgs:f,accountAuthorizedToProcessPassedProposal:d}},adapterName:pa.a.onboarding,type:ka.SnapshotType.draft});case 19:m=e.sent,v=m.uniqueId,n=v;case 22:l.push("/membership/".concat(n)),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),h(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){B()}),[B]),Object(be.useEffect)((function(){E(Ua.ethAddress,r)}),[r,E]),!C||e?Object(fe.jsx)(Ya,{children:Object(fe.jsx)("div",{className:"form__description--unauthorized",children:Object(fe.jsx)("p",{children:C?e?e.message:void 0:"Connect your wallet to submit a membership proposal."})})}):Object(fe.jsx)(Ya,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",htmlFor:Ua.ethAddress,children:"Applicant Address"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Ua.ethAddress),"aria-invalid":g.ethAddress?"true":"false",id:Ua.ethAddress,name:Ua.ethAddress,ref:w({validate:function(e){return e?!!Object(Va.a)(e)||oa.a.INVALID_ETHEREUM_ADDRESS:oa.a.REQUIRED}}),type:"text",disabled:D}),Object(fe.jsx)(ma,{error:Object(p.g)(Ua.ethAddress,g),id:"error-".concat(Ua.ethAddress)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",htmlFor:Ua.ethAmount,children:"Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Ua.ethAmount),"aria-invalid":g.ethAmount?"true":"false",id:Ua.ethAmount,name:Ua.ethAmount,onChange:function(){return E(Ua.ethAmount,Object(p.e)(N().ethAmount))},ref:w({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(x))||"Insufficient funds."}}),type:"text",disabled:D}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(fe.jsx)(ma,{error:Object(p.g)(Ua.ethAmount,g),id:"error-".concat(Ua.ethAmount)})]}),Object(fe.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(fe.jsx)("span",{children:x?Number.isInteger(Number(x))?x:Object(p.d)(Number(x)):"---"})]})]}),Object(fe.jsx)("button",{"aria-label":S?"Submitting your proposal.":"",className:"button",disabled:D,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:U(N());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:S?Object(fe.jsx)(va.a,{}):T?"Done":"Submit"}),D&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(i){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Awaiting your confirmation",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:["Submitting",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.FULFILLED:return"Done!";default:return""}}()}),I&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while submitting the proposal.",error:I})})]})})}function Ya(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsxs)("div",{className:"form__description",children:[Object(fe.jsxs)("p",{children:["The min amount to participate in the DAO is ",Object(fe.jsx)("strong",{children:"0.1 "})," ETH"]}),Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})]}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(Ua||(Ua={}));var Ka,Ha,za=n(538);function qa(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),a=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),o=Object(Ie.d)().defaultChainError,s=Object(Ie.f)(),i=s.connected,u=s.account,d=s.web3Instance,l=Object(Ie.b)().average,b=Object(Ie.a)(),f=b.txError,O=b.txEtherscanURL,h=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,A=Object(Pa.i)(),g=A.proposalData,N=A.proposalSignAndSendStatus,E=A.signAndSendProposal,w=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),y=Object(le.f)(),_=Object(be.useState)(),I=Object(_e.a)(_,2),C=I[0],S=I[1],T=Object(be.useState)(),D=Object(_e.a)(T,2),k=D[0],R=D[1],P=Object(be.useState)(),F=Object(_e.a)(P,2),L=F[0],B=F[1],M=w.errors,U=w.getValues,G=w.setValue,V=w.register,W=w.trigger,Y=w.watch,K="all members"===Y("type"),H=Y("selectedToken"),z=C||f,q=i&&u,Q=za,J=v===pa.f.AWAITING_CONFIRM||v===pa.f.PENDING||N===pa.f.AWAITING_CONFIRM||N===pa.f.PENDING,X=v===pa.f.FULFILLED&&N===pa.f.FULFILLED,Z=J||X||h,$=Object(be.useCallback)((function(){return te.apply(this,arguments)}),[n,u,Q,d]),ee=Object(be.useCallback)((function(){return ne.apply(this,arguments)}),[u,H]);function te(){return(te=Object(Ue.a)(Me.a.mark((function e(){var t,a,c,o,s,i,l,b,f,p,O,h,m,v,A,g,N,E,w,y,_,I,C,S,T,D,k;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&n&&d){e.next=3;break}return R(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,a=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(o=e.sent,!(Number(o)<1)){e.next=12;break}R([]),e.next=44;break;case 12:return s=[],i=t.find((function(e){return"getToken"===e.name})),l=Object(r.a)(Array(Number(o)).keys()).map((function(e){return[a,i,[e.toString()]]})),e.next=17,Object(ia.j)({calls:l,web3Instance:d});case 17:return b=e.sent,f=t.find((function(e){return"balanceOf"===e.name})),p=b.map((function(e){return[a,f,[j.u,e]]})),e.next=22,Object(ia.j)({calls:p,web3Instance:d});case 22:if(O=e.sent,h=b.map((function(e,t){return{address:e,daoBalance:O[t]}})).filter((function(e){return Object(Ga.toBN)(e.daoBalance).gt(Object(Ga.toBN)(0))})),(m=h.find((function(e){return e.address===j.p})))&&s.push(Object(x.a)(Object(x.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((v=h.filter((function(e){return e.address!==j.p}))).length>0)){e.next=43;break}return A=Q.find((function(e){return"name"===e.name})),g=v.map((function(e){return[e.address,A,[]]})),N=Q.find((function(e){return"symbol"===e.name})),E=v.map((function(e){return[e.address,N,[]]})),w=Q.find((function(e){return"decimals"===e.name})),y=v.map((function(e){return[e.address,w,[]]})),_=[].concat(Object(r.a)(g),Object(r.a)(E),Object(r.a)(y)),e.next=37,Object(ia.j)({calls:_,web3Instance:d});case 37:for(I=e.sent,C=[];I.length;)C.push(I.splice(0,v.length));S=C[0],T=C[1],D=C[2],k=v.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{name:S[t],symbol:T[t],decimals:D[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),s=[].concat(Object(r.a)(s),Object(r.a)(k));case 43:R(s);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),R(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function ne(){return(ne=Object(Ue.a)(Me.a.mark((function e(){var t,n,r,a,c,o,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&H){e.next=3;break}return B(void 0),e.abrupt("return");case 3:try{t=JSON.parse(H),n=t.daoBalance,r=Object(Ga.toBN)(n),a=t.decimals,c=Object(Ga.toBN)(10).pow(Object(Ga.toBN)(a)),o=r.div(c),s=r.mod(c),i=s.eq(Object(Ga.toBN)(0))?o.toString():"".concat(o.toString(),".").concat(s.toString()),B(i)}catch(d){console.error(d),B(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(Ue.a)(Me.a.mark((function n(r){var a,c,o,s,i,b,f,O,h,v,A,N,w,_,I,C,T,D,k,R,P,F,L,B,M,U,G,V;return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,q){n.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(u){n.next=9;break}throw new Error("No account found.");case 9:if(d){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,o=r.amount,s=r.notes,i=Object(Ga.toChecksumAddress)(c),b=JSON.parse(a),f=b.symbol,O=b.decimals,(h=b.address)===j.p?v=Object(Ga.toWei)(Object(p.k)(o),"ether"):(A=Object(Ga.toBN)(10).pow(Object(Ga.toBN)(O)),N=Object(Ga.toBN)(Object(p.k)(o)).mul(A),v=N.toString()),w=(null===g||void 0===g?void 0:g.uniqueId)||"",_=null===g||void 0===g?void 0:g.data,I=(null===g||void 0===g?void 0:g.signature)||"",C=K?"Transfer to all members pro rata.":"Transfer to ".concat(Object(p.l)(i,7),"."),T={transferAmount:o,transferAmountUnit:f},w){n.next=34;break}return D=s?"".concat(C,"\n").concat(s):C,k=K?"All members":i,R=Math.floor(Date.now()/1e3),n.next=27,E({partialProposalData:{name:k,body:D,metadata:{proposalAmountValues:T,isTypeAllMembers:K},timestamp:R.toString()},adapterName:pa.a.distribute,type:ka.SnapshotType.proposal});case 27:P=n.sent,F=P.uniqueId,L=P.data,B=P.signature,w=F,_=L,I=B;case 34:return M=K?fa.a:i,U=_?Object(ka.prepareVoteProposalData)({payload:{name:_.payload.name,body:_.payload.body,choices:_.payload.choices,snapshot:_.payload.snapshot.toString(),start:_.payload.start,end:_.payload.end},submitter:u||"",sig:I,space:_.space,timestamp:parseInt(_.timestamp)},d):"",G=[t.contractAddress,w,M,h,v,U],V=Object(x.a)({from:u||""},l?{gasPrice:l}:null),n.next=40,m("submitProposal",e.instance.methods,G,V);case 40:y.push("/transfers/".concat(w)),n.next=46;break;case 43:n.prev=43,n.t0=n.catch(0),S(n.t0);case 46:case"end":return n.stop()}}),n,null,[[0,43]])})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(Ue.a)(Me.a.mark((function e(t){var r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,j.H).call();case 5:return r=e.sent,e.abrupt("return",Object(Ga.toBN)(r).gt(Object(Ga.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(be.useEffect)((function(){$()}),[$]),Object(be.useEffect)((function(){ee()}),[ee]),q&&!o&&a?Object(fe.jsx)(Qa,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsxs)("select",{name:Ka.type,ref:V,disabled:Z,children:[Object(fe.jsx)("option",{value:"single member",children:"Single member"}),Object(fe.jsx)("option",{value:"all members",children:"All members"})]})})]}),!K&&Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Ka.memberAddress),"aria-invalid":M.memberAddress?"true":"false",name:Ka.memberAddress,ref:V({validate:function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=oa.a.REQUIRED,e.next=17;break;case 4:if(Object(Va.a)(t)){e.next=8;break}e.t1=oa.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,ce(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with membership tokens.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:Z}),Object(fe.jsx)(ma,{error:Object(p.g)(Ka.memberAddress,M),id:"error-".concat(Ka.memberAddress)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsxs)("select",{"aria-describedby":"error-".concat(Ka.selectedToken),"aria-invalid":M.selectedToken?"true":"false",name:Ka.selectedToken,ref:V({validate:function(e){return!k||k.length<1?"No tokens available for distribution.":!!e||oa.a.REQUIRED}}),disabled:Z,children:[Object(fe.jsx)("option",{value:"",children:"Select from DAO assets"}),null===k||void 0===k?void 0:k.map((function(e){return Object(fe.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(fe.jsx)(ma,{error:Object(p.g)(Ka.selectedToken,M),id:"error-".concat(Ka.selectedToken)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Ka.amount),"aria-invalid":M.amount?"true":"false",name:Ka.amount,onChange:function(){return G(Ka.amount,Object(p.e)(U().amount))},ref:V({validate:function(e){var t=Number(Object(p.k)(e)),n=H&&JSON.parse(H),r=(null===n||void 0===n?void 0:n.address)===j.p;return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(L)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:Z}),Object(fe.jsx)("div",{className:"input__suffix-item",children:H&&JSON.parse(H).symbol||"___"})]}),Object(fe.jsx)(ma,{error:Object(p.g)(Ka.amount,M),id:"error-".concat(Ka.amount)}),Object(fe.jsx)("div",{className:"form__input-description",children:K?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of membership tokens held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(fe.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(fe.jsx)("span",{children:L?Number.isInteger(Number(L))?L:Object(p.d)(Number(L)):"---"})]})]}),Object(fe.jsxs)("div",{className:"form__textarea-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsx)("textarea",{name:Ka.notes,placeholder:"Transactions purpose...",ref:V,disabled:Z})})]}),Object(fe.jsx)("button",{className:"button",disabled:Z,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:re(U());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:J?Object(fe.jsx)(va.a,{}):X?"Done":"Submit"}),Z&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){if(v===pa.f.AWAITING_CONFIRM||N===pa.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(v){case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:O,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Proposal submitted!"}),Object(fe.jsx)(wa.a,{url:O})]});default:return null}}()}),z&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while submitting the proposal.",error:z})})]})}):Object(fe.jsx)(Qa,{children:Object(fe.jsx)("div",{className:"form__description--unauthorized",children:Object(fe.jsx)("p",{children:q?o?o.message:a?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function Qa(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function Ja(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(Ie.d)().defaultChainError,r=Object(Ie.f)(),a=r.connected,o=r.account,s=r.web3Instance,i=Object(Pa.i)(),u=i.proposalData,d=i.proposalSignAndSendError,l=i.proposalSignAndSendStatus,b=i.signAndSendProposal,f=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),O=Object(le.f)(),h=Object(be.useState)(),m=Object(_e.a)(h,2),v=m[0],x=m[1],A=Object(be.useState)(),g=Object(_e.a)(A,2),N=g[0],E=g[1],w=Object(be.useState)(),y=Object(_e.a)(w,2),_=y[0],I=y[1],C=Object(be.useState)(),S=Object(_e.a)(C,2),T=S[0],D=S[1],k=f.errors,R=f.getValues,P=f.setValue,F=f.register,L=f.trigger,B=f.watch,M=B(Ha.erc20Address),U=B(Ha.applicantAddress),G=v||d,V=a&&o,W=l===pa.f.AWAITING_CONFIRM||l===pa.f.PENDING,Y=l===pa.f.FULFILLED,K=W||Y,H=Object(Pa.a)(U),z=H.checkApplicantError,q=H.checkApplicantInvalidMsg,Q=H.checkApplicantStatus,J=H.isApplicantValid,X=Object(be.useCallback)((function(){return ee.apply(this,arguments)}),[M,s]),Z=Object(be.useCallback)((function(){return te.apply(this,arguments)}),[o,T]),$=Object(be.useCallback)((function(){return ne.apply(this,arguments)}),[o,T]);function ee(){return(ee=Object(Ue.a)(Me.a.mark((function e(){var t,r,a,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&M){e.next=3;break}return D(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,538,3));case 6:t=e.sent,r=t.default,a=r,c=new s.eth.Contract(a,M),D(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),D(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function te(){return(te=Object(Ue.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&T){e.next=3;break}return I(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,T.methods.symbol().call();case 6:return t=e.sent,e.next=9,T.methods.decimals().call();case 9:n=e.sent,I({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),I(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ne(){return(ne=Object(Ue.a)(Me.a.mark((function e(){var t,n,r,a,c,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&T){e.next=3;break}return E(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,T.methods.balanceOf(o).call();case 6:return t=e.sent,n=Object(Ga.toBN)(t),e.next=10,T.methods.decimals().call();case 10:r=e.sent,a=Object(Ga.toBN)(10).pow(Object(Ga.toBN)(r)),c=n.div(a),s=n.mod(a),i=s.eq(Object(Ga.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(s.toString()),E(i),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),E(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function re(){return ae.apply(this,arguments)}function ae(){return(ae=Object(Ue.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.abrupt("return","UNITS");case 4:return t.prev=4,t.next=7,e.instance.methods.symbol().call();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return","UNITS");case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(Ue.a)(Me.a.mark((function e(t){var n,r,a,c,s,i,d,l,f,h,m,v,A,g,N,E,w;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,V){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(o){e.next=5;break}throw new Error("No account found.");case 5:if(T){e.next=7;break}throw new Error("No ERC20Contract found.");case 7:if(_){e.next=9;break}throw new Error("No ERC20 details found.");case 9:if(z&&console.warn("Error checking if the applicant address is valid: ".concat(z.message)),Q!==Ce.a.FULFILLED||J||!q){e.next=12;break}throw new Error(q);case 12:if(n=t.applicantAddress,r=t.erc20Address,a=t.tributeAmount,c=t.requestAmount,s=t.description,i=Object(Ga.toBN)(10).pow(Object(Ga.toBN)(_.decimals)),d=Object(Ga.toBN)(Object(p.k)(a)).mul(i),l=Object(p.k)(c),f=Object(Ga.toChecksumAddress)(n),h=Object(Ga.toChecksumAddress)(o),m=(null===u||void 0===u?void 0:u.uniqueId)||""){e.next=35;break}return v=Object(p.i)(n)===Object(p.i)(o)?"Tribute from ".concat(Object(p.l)(f,7),"."):"Tribute from ".concat(Object(p.l)(h,7)," for applicant ").concat(Object(p.l)(f,7),"."),A=s?"".concat(v,"\n").concat(s):v,e.t0=c,e.next=25,re();case 25:return e.t1=e.sent,e.t2=a,e.t3=_.symbol,g={requestAmount:e.t0,requestAmountUnit:e.t1,tributeAmount:e.t2,tributeAmountUnit:e.t3},N=[f,j.H,l,Object(Ga.toChecksumAddress)(r),d.toString(),h],e.next=32,b({partialProposalData:{name:f,body:A,metadata:{proposalAmountValues:g,submitActionArgs:N,accountAuthorizedToProcessPassedProposal:h}},adapterName:pa.a.tribute,type:ka.SnapshotType.draft});case 32:E=e.sent,w=E.uniqueId,m=w;case 35:O.push("/tributes/".concat(m)),e.next=41;break;case 38:e.prev=38,e.t4=e.catch(0),x(e.t4);case 41:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){X()}),[X]),Object(be.useEffect)((function(){Z()}),[Z]),Object(be.useEffect)((function(){$()}),[$]),Object(be.useEffect)((function(){P(Ha.applicantAddress,o)}),[o,P]),!V||t?Object(fe.jsx)(Xa,{children:Object(fe.jsx)("div",{className:"form__description--unauthorized",children:Object(fe.jsx)("p",{children:V?t?t.message:void 0:"Connect your wallet to submit a tribute proposal."})})}):Object(fe.jsx)(Xa,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Ha.applicantAddress),"aria-invalid":k.applicantAddress?"true":"false",name:Ha.applicantAddress,ref:F({validate:function(e){return e?!!Object(Va.a)(e)||oa.a.INVALID_ETHEREUM_ADDRESS:oa.a.REQUIRED}}),type:"text",disabled:K}),Object(fe.jsx)(ma,{error:Object(p.g)(Ha.applicantAddress,k),id:"error-".concat(Ha.applicantAddress)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Ha.erc20Address),"aria-invalid":k.erc20Address?"true":"false",name:Ha.erc20Address,ref:F({validate:function(e){return e?!!Object(Va.a)(e)||oa.a.INVALID_ETHEREUM_ADDRESS:oa.a.REQUIRED}}),type:"text",disabled:K}),Object(fe.jsx)(ma,{error:Object(p.g)(Ha.erc20Address,k),id:"error-".concat(Ha.erc20Address)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Ha.tributeAmount),"aria-invalid":k.tributeAmount?"true":"false",name:Ha.tributeAmount,onChange:function(){return P(Ha.tributeAmount,Object(p.e)(R().tributeAmount))},ref:F({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(N)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:K}),Object(fe.jsx)("div",{className:"input__suffix-item",children:(null===_||void 0===_?void 0:_.symbol)||"___"})]}),Object(fe.jsx)(ma,{error:Object(p.g)(Ha.tributeAmount,k),id:"error-".concat(Ha.tributeAmount)}),Object(fe.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(fe.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(fe.jsx)("span",{children:N?Number.isInteger(Number(N))?N:Object(p.d)(Number(N)):"---"})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(Ha.requestAmount),"aria-invalid":k.requestAmount?"true":"false",name:Ha.requestAmount,onChange:function(){return P(Ha.requestAmount,Object(p.e)(R().requestAmount))},ref:F({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:K}),Object(fe.jsx)(ma,{error:Object(p.g)(Ha.requestAmount,k),id:"error-".concat(Ha.requestAmount)}),Object(fe.jsx)("div",{className:"form__input-description",children:"This is the amount of DAO membership tokens you are requesting be sent to the Applicant Address in exchange for your tribute."})]})]}),Object(fe.jsxs)("div",{className:"form__textarea-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsx)("textarea",{name:Ha.description,placeholder:"Say something about your tribute...",ref:F,disabled:K})})]}),Object(fe.jsx)("button",{className:"button",disabled:K,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:ce(R());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:W?Object(fe.jsx)(va.a,{}):Y?"Done":"Submit"}),K&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(l){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Awaiting your confirmation",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:["Submitting",Object(fe.jsx)(ga.a,{intervalMs:500})]});case pa.f.FULFILLED:return"Done!";default:return""}}()}),G&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while submitting the proposal.",error:G})})]})})}function Xa(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(Ka||(Ka={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(Ha||(Ha={}));var Za=n(539),$a=n.n(Za),ec=(n(1050),Object(be.memo)((function(){return Object(fe.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(fe.jsx)("div",{className:"cube__segment--top"}),Object(fe.jsx)("div",{className:"cube__segment--left"}),Object(fe.jsx)("div",{className:"cube__segment--right"})]})})));function tc(){return Object(fe.jsxs)("div",{"data-testid":"get-started-header",className:"landing__header",children:[Object(fe.jsx)(we,{}),Object(fe.jsx)(Hr,{})]})}function nc(){var e=Object(le.f)();return Object(be.useEffect)((function(){$a.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(tc,{}),Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)(Le,{}),Object(fe.jsxs)("div",{className:"landing",children:[Object(fe.jsx)("div",{className:"landing__subtitle",children:"A next generation DAO framework"}),Object(fe.jsx)("div",{className:"landing__img",children:Object(fe.jsx)(ec,{})}),Object(fe.jsx)("div",{className:"landing__button",children:Object(fe.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})})]})]})})]})}var rc=n(156);function ac(e){var t,n=e.proposal,r=n.snapshotProposal,a=1e3*Number((null===r||void 0===r?void 0:r.msg.payload.start)||0),c=1e3*Number((null===r||void 0===r?void 0:r.msg.payload.end)||0),o=Object(be.useState)({hasVotingStarted:!1,hasVotingEnded:!1,votingStartEndInitReady:!1}),s=Object(_e.a)(o,2),i=s[0],u=s[1],d=Object(Pa.c)(r).offchainVotingResults,l=Object(be.useCallback)((function(e){u(e)}),[]),b=null===(t=d[0])||void 0===t?void 0:t[1],j=i.hasVotingEnded,f=i.hasVotingStarted,p=i.votingStartEndInitReady;return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(rc.c,{countdownVotingEndMs:c,countdownVotingStartMs:a,onVotingPeriodChange:l,votingResult:b}),p&&f&&!j&&Object(fe.jsx)(rc.b,{proposal:n})]})}var cc=n(67);function oc(){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsx)(Un.a,{children:Object(fe.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(fe.jsxs)("h3",{children:["4",Object(fe.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}function sc(e){var t=e.proposal,n=e.renderAmountBadge,r=e.renderActions,a=t.getCommonSnapshotProposalData(),c=!!a&&12===Object.keys(a.msg.payload.metadata).length,o={annualizedDeflationFee:{title:"Annualized Deflation Fee",suffix:"%"},fixedBuySideTransactionFee:{title:"Fixed Buy Side Transaction Fee",suffix:"%"},fixedSellSideTransactionFee:{title:"Fixed Sell Side Transaction Fee",suffix:"%"},fundingGoal:{title:"Funding Goal",suffix:"$"},projectVotingPeriod:{title:"Project Voting Period",suffix:"weeks"},shortDescription:{title:"Short Description",suffix:null},startPrice:{title:"Start Price",suffix:"$"},startingReservers:{title:"Starting Reservers",suffix:"$"},stopPrice:{title:"Stop Price",suffix:"$"},sypplementalVestingPenalty:{title:"Sypplemental Vesting Penalty",suffix:"%"},tokenSymbol:{title:"Token Symbol",suffix:null},vestingPeriod:{title:"Vesting period",suffix:"weeks"}};return a?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(fe.jsxs)("div",{className:"proposaldetails",children:[Object(fe.jsxs)("div",{className:"proposaldetails__content",children:[Object(fe.jsx)("h3",{children:Object(p.l)(a.msg.payload.name||"",7)}),c&&a&&c?Object.keys(a.msg.payload.metadata).map((function(e,t){return Object(fe.jsxs)("p",{children:[" ",Object(fe.jsx)("b",{children:o[e]?o[e].title:null})," : ",a.msg.payload.metadata[e]," ",o[e]?o[e].suffix:null," "]},t)})):null,Object(fe.jsx)(Fa.a,{children:a.msg.payload.body})]}),Object(fe.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),r()]})]})]}):null}function ic(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e,ka.SnapshotType.proposal),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;return c===Ce.a.PENDING&&!s?Object(fe.jsx)(uc,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})}):a?Object(fe.jsx)(uc,{children:Object(fe.jsx)(oc,{})}):s?Object(fe.jsx)(uc,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong while getting the proposal."})})}):n?Object(fe.jsx)(uc,{children:Object(fe.jsx)(sc,{proposal:n,renderActions:function(){return Object(fe.jsx)(ac,{proposal:n})}})}):Object(fe.jsx)(fe.Fragment,{})}function uc(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance")},children:"View all"})]}),e.children]})})}var dc=n(540),lc=n(541),bc="View Proposal",jc=n.n(lc)()()(dc.a);function fc(e){var t=e.buttonText,n=void 0===t?bc:t,r=e.proposalOnClickId,a=e.linkPath,c=e.onClick,s=e.name,i=e.renderStatus,u=Object(le.f)().location,d="/"===u.pathname?"":u.pathname,l="function"===typeof a?a(r):a||"".concat(d,"/").concat(r);return Object(fe.jsx)(o.b,{className:"proposalcard__link",to:l,onClick:function(){null===c||void 0===c||c(r)},children:Object(fe.jsxs)("div",{className:"proposalcard",children:[Object(fe.jsx)("h3",{className:"proposalcard__title",children:function(e){return Object(Va.a)(e)?Object(p.l)(e,7):Object(fe.jsx)(jc,{text:e,maxLine:1,ellipsis:"...",trimRight:!0,basedOn:"letters"})}(s)}),i&&i(),Object(fe.jsx)("button",{className:"proposalcard__button",children:n||bc})]})})}function pc(e){var t=e.actionId,n=void 0===t?fa.a:t,r=e.onProposalClick,a=void 0===r?function(){}:r,c=e.proposalLinkPath,o=e.renderProposalCard,s=Object(be.useState)([]),i=Object(_e.a)(s,2),u=i[0],d=i[1],l=Object(be.useState)({failedProposals:[],passedProposals:[],votingProposals:[]}),f=Object(_e.a)(l,2),O=f[0],h=f[1],m=function(e){var t=e.actionId,n=void 0===t?fa.a:t,r=Object(be.useState)([]),a=Object(_e.a)(r,2),c=a[0],o=a[1],s=Object(be.useState)(),i=Object(_e.a)(s,2),u=i[0],d=i[1],l=Object(be.useState)(Ce.a.STANDBY),f=Object(_e.a)(l,2),p=f[0],O=f[1],h=Object(Xt.f)().isMountedRef,m=Object(b.useQuery)(["snapshotProposalEntries",n],Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{enabled:!!n}),v=m.data,A=m.error,g=Object(be.useCallback)((function(){return w.apply(this,arguments)}),[h,v,A]);function N(e){return E.apply(this,arguments)}function E(){return E=Object(Ue.a)(Me.a.mark((function e(t){var n,r,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(j.C,"/api/").concat(j.D),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,e.abrupt("return",Object.entries(a).map((function(e){var t=Object(_e.a)(e,2),n=t[0],r=t[1];return{daoProposal:void 0,snapshotDraft:void 0,snapshotProposal:Object(x.a)(Object(x.a)({},r),{},{idInSnapshot:n,idInDAO:""}),getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotType:ka.SnapshotType.proposal}})));case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),E.apply(this,arguments)}function w(){return(w=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(Ce.a.PENDING),!A){e.next=4;break}throw A;case 4:if(!v){e.next=9;break}if(h.current){e.next=7;break}return e.abrupt("return");case 7:O(Ce.a.FULFILLED),o(v);case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),h.current){e.next=15;break}return e.abrupt("return");case 15:O(Ce.a.REJECTED),o([]),d(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){g()}),[g]),{governanceProposals:c,governanceProposalsError:u,governanceProposalsStatus:p}}({actionId:n}),v=m.governanceProposals,A=m.governanceProposalsError,g=m.governanceProposalsStatus,N=Object(Pa.c)(u),E=N.offchainVotingResults,w=N.offchainVotingResultsError,y=N.offchainVotingResultsStatus,_=Object(Ie.d)().defaultChainError,I=O.failedProposals,C=O.passedProposals,S=O.votingProposals,T=g===Ce.a.STANDBY||g===Ce.a.PENDING||y===Ce.a.STANDBY&&u.length>0||y===Ce.a.PENDING,D=A||w||_;function k(e){return e.map((function(e){var t,n=e.snapshotProposal,r=null===n||void 0===n?void 0:n.idInSnapshot,s=(null===n||void 0===n?void 0:n.msg.payload.name)||"",i=1e3*Number((null===n||void 0===n?void 0:n.msg.payload.start)||0),u=1e3*Number((null===n||void 0===n?void 0:n.msg.payload.end)||0);if(!r)return null;var d=null===(t=E.find((function(e){var t=Object(_e.a)(e,2),n=t[0];t[1];return Object(p.i)(n)===Object(p.i)(r)})))||void 0===t?void 0:t[1];return o?Object(fe.jsx)(be.Fragment,{children:o({proposalData:e,votingResult:d})},r):Object(fe.jsx)(fc,{name:s,linkPath:c,onClick:a,proposalOnClickId:r,renderStatus:function(){return Object(fe.jsx)(rc.c,{votingResult:d,countdownVotingEndMs:u,countdownVotingStartMs:i})}},r)}))}return Object(be.useEffect)((function(){d(v.map((function(e){return e.snapshotProposal})))}),[v]),Object(be.useEffect)((function(){if(g===Ce.a.FULFILLED){var e={failedProposals:[],passedProposals:[],votingProposals:[]};v.forEach((function(t){var n,r;if(((null===(n=t.snapshotProposal)||void 0===n?void 0:n.msg.payload.end)||0)<Math.ceil(Date.now()/1e3)){var a=null===(r=E.find((function(e){var n,r=Object(_e.a)(e,2),a=r[0];r[1];return Object(p.i)(a)===Object(p.i)((null===(n=t.snapshotProposal)||void 0===n?void 0:n.idInSnapshot)||"")})))||void 0===r?void 0:r[1],c=!!a&&a.Yes.units>a.No.units;c?e.passedProposals.push(t):c||e.failedProposals.push(t)}else e.votingProposals.push(t)})),h((function(t){return Object(x.a)(Object(x.a)({},t),e)}))}}),[v,g,E]),T&&!D?Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})}):v.length||Object.values(O).flatMap((function(e){return e})).length||g!==Ce.a.FULFILLED?D?Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:D,renderText:"Something went wrong while getting the proposals."})}):Object(fe.jsxs)("div",{className:"grid--fluid grid-container",children:[S.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.VOTING}),Object(fe.jsx)("div",{className:"grid__cards",children:k(S)})]}),C.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.PASSED}),Object(fe.jsx)("div",{className:"grid__cards",children:k(C)})]}),I.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.FAILED}),Object(fe.jsx)("div",{className:"grid__cards",children:k(I)})]})]}):Object(fe.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function Oc(){return Object(fe.jsx)(hc,{children:Object(fe.jsx)(pc,{actionId:fa.a,proposalLinkPath:function(e){return"/governance/".concat(e)}})})}function hc(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}var mc=["createdAt","didFullyRagequit"];function vc(){var e=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(c.c)((function(e){return e.contracts.BankExtensionContract})),n=Object(c.c)((function(e){return e.subgraphNetworkStatus.status})),a=Object(Ie.f)().web3Instance,o=Object(Vn.a)(O.c,{variables:{daoAddress:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),s=Object(_e.a)(o,2),i=s[0],u=s[1],d=u.called,l=u.loading,b=u.data,f=u.error,h=Object(be.useState)([]),m=Object(_e.a)(h,2),v=m[0],g=m[1],N=Object(be.useState)(Ce.a.STANDBY),E=Object(_e.a)(N,2),w=E[0],y=E[1],_=Object(be.useState)(),I=Object(_e.a)(_,2),C=I[0],S=I[1],T=Object(be.useCallback)((function(){return k.apply(this,arguments)}),[t,e,a]),D=Object(be.useCallback)((function(){try{if(y(Ce.a.PENDING),!l&&b){var e=b.tributeDaos[0].members.filter((function(e){return!e.didFullyRagequit})).map((function(e){e.createdAt,e.didFullyRagequit;var t=Object(A.a)(e,mc);return Object(x.a)(Object(x.a)({},t),{},{address:Object(Ga.toChecksumAddress)(e.address),delegateKey:Object(Ga.toChecksumAddress)(e.delegateKey)})}));y(Ce.a.FULFILLED),g(e)}else if(f)throw new Error(f.message)}catch(f){console.log("subgraph query error: ".concat(f.message)),T()}}),[b,f,T,l]);function k(){return(k=Object(Ue.a)(Me.a.mark((function n(){var c,o,s,i,u,d,l,b,f,O,h,m,v,x,A,N,E;return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,y(Ce.a.PENDING),c=e.abi,o=e.contractAddress,s=e.instance.methods,n.next=7,s.getNbMembers().call();case 7:if(i=n.sent,!(Number(i)>0)){n.next=28;break}return u=c.find((function(e){return"getMemberAddress"===e.name})),d=Object(r.a)(Array(Number(i)).keys()).map((function(e){return[o,u,[e.toString()]]})),n.next=13,Object(ia.j)({calls:d,web3Instance:a});case 13:return l=n.sent,b=c.find((function(e){return"memberAddressesByDelegatedKey"===e.name})),f=l.map((function(e){return[o,b,[e]]})),n.next=18,Object(ia.j)({calls:f,web3Instance:a});case 18:return O=n.sent,h=t.abi,m=t.contractAddress,v=h.find((function(e){return"balanceOf"===e.name})),x=O.map((function(e){return[m,v,[e,j.H]]})),n.next=24,Object(ia.j)({calls:x,web3Instance:a});case 24:A=n.sent,N=l.map((function(e,t){return{address:e,delegateKey:O[t],isDelegated:Object(p.i)(e)!==Object(p.i)(O[t]),units:A[t]}})),E=N.filter((function(e){return Object(Ga.toBN)(e.units).gt(Object(Ga.toBN)(0))})).reverse(),g(E);case 28:y(Ce.a.FULFILLED),n.next=36;break;case 31:n.prev=31,n.t0=n.catch(2),y(Ce.a.REJECTED),g([]),S(n.t0);case 36:case"end":return n.stop()}}),n,null,[[2,31]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){d||i()}),[d,i]),Object(be.useEffect)((function(){n===ce.a.OK?!l&&(null===e||void 0===e?void 0:e.contractAddress)&&D():T()}),[null===e||void 0===e?void 0:e.contractAddress,T,D,l,n]),{members:v,membersError:C,membersStatus:w}}var xc,Ac,gc,Nc=n(240);function Ec(e){return Object(fe.jsx)("svg",Object(x.a)(Object(x.a)({"aria-hidden":"true",focusable:"false","data-icon":"copy",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),{},{children:Object(fe.jsx)("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"})}))}function wc(e){return Object(fe.jsx)("svg",Object(x.a)(Object(x.a)({"aria-hidden":"true",focusable:"false","data-icon":"wallet",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:Object(fe.jsx)("path",{fill:"currentColor",d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"})}))}function yc(e){var t=e.daoTokenDetails;function n(){return(n=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return t?Object(fe.jsxs)("div",{children:["Token: ",Object(fe.jsx)("span",{children:Object(Nc.a)(t.address,7)}),Object(fe.jsx)("div",{className:"daotoken__tooltip",children:Object(fe.jsxs)("button",{className:"daotoken__button",onClick:function(){if(t){var e=document.createElement("input");document.body.appendChild(e),e.setAttribute("value",t.address),e.select(),document.execCommand("copy"),document.body.removeChild(e),document.getElementById("copyTooltip").innerHTML="copied!"}},onMouseLeave:function(){document.getElementById("copyTooltip").innerHTML="copy address"},children:[Object(fe.jsx)("span",{className:"daotoken__tooltiptext",id:"copyTooltip",children:"copy address"}),Object(fe.jsx)(Ec,{})]})}),Object(fe.jsx)("div",{className:"daotoken__tooltip",children:Object(fe.jsxs)("button",{className:"daotoken__button",onClick:function(){return n.apply(this,arguments)},children:[Object(fe.jsx)("span",{className:"daotoken__tooltiptext",children:"add to wallet"}),Object(fe.jsx)(wc,{})]})})]}):Object(fe.jsx)(fe.Fragment,{})}function _c(e){return Object(fe.jsx)("svg",Object(x.a)(Object(x.a)({"aria-hidden":"true",focusable:"false","data-icon":"user",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),{},{children:Object(fe.jsx)("path",{fill:"currentColor",d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"})}))}function Ic(e){var t=e.isOpen,n=e.closeHandler,r=e.currentStep,a=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),o=Object(c.c)((function(e){return e.contracts.DaoRegistryAdapterContract})),s=Object(c.c)((function(e){return e.connectedMember})),i=Object(Ie.f)(),u=i.account,d=i.web3Instance,l=Object(Ie.b)().average,b=Object(Ie.a)(),j=b.txError,O=b.txEtherscanURL,h=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,A=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),g=Object(c.b)(),N=Object(be.useState)(),E=Object(_e.a)(N,2),w=E[0],y=E[1],_=A.errors,I=A.getValues,C=A.register,S=A.trigger,T=A.watch,D=v===pa.f.AWAITING_CONFIRM||v===pa.f.PENDING,k=v===pa.f.FULFILLED,R=D||k||h,P=w||j,F=T(gc.delegateAddress),L=T(gc.confirmDelegation),B=!F||!L,M={setDelegation:function(){return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"modal__title",children:"Delegate"}),Object(fe.jsx)("p",{children:"Transfer your voting rights"}),Object(fe.jsx)("div",{className:"delegation-modal__arrow-down",children:"\u2193"}),Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsx)("div",{className:"form__input-row",children:Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(gc.delegateAddress),"aria-invalid":_.delegateAddress?"true":"false",name:gc.delegateAddress,ref:C({validate:function(e){return e?!(!Object(Va.a)(e)||e===fa.a)||oa.a.INVALID_ETHEREUM_ADDRESS:oa.a.REQUIRED}}),type:"text",disabled:R,placeholder:"Enter delegate address"}),Object(p.g)(gc.delegateAddress,_).includes("invalid")&&Object(fe.jsx)(ma,{error:Object(p.g)(gc.delegateAddress,_),id:"error-".concat(gc.delegateAddress)})]})}),Object(fe.jsx)("div",{className:"form__input-row",style:{marginTop:0},children:Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{className:"checkbox-input","aria-describedby":"error-".concat(gc.confirmDelegation),"aria-invalid":_.confirmDelegation?"true":"false",id:gc.confirmDelegation,name:gc.confirmDelegation,ref:C({required:oa.a.REQUIRED}),type:"checkbox",disabled:R}),Object(fe.jsxs)("label",{className:"checkbox-label",htmlFor:gc.confirmDelegation,children:[Object(fe.jsx)("span",{className:"checkbox-box ".concat(da.SMALL)}),Object(fe.jsx)("span",{className:"checkbox-text",children:"Confirm delegation to the above address. You can revoke this at any time from your profile."})]})]})}),Object(fe.jsx)("button",{"aria-label":D?"Updating your delegate key...":"",className:"button",disabled:R||B,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:U(I());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:D?Object(fe.jsx)(va.a,{}):k?"Done":"Confirm"}),R&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:Y()}),P&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong with your delegation.",error:P})})]})]})},revokeDelegation:function(){if(s)return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"modal__title",children:"Revoke Delegation"}),Object(fe.jsx)("p",{children:Object(p.l)(s.delegateKey,7)}),Object(fe.jsx)("div",{className:"delegation-modal__arrow-down",children:"\u2193"}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)(_c,{}),"Back to you"]}),Object(fe.jsx)("div",{className:"delegation-modal__text",children:"You'll be able to resume voting from your account. You can delegate again at any time from your profile."}),Object(fe.jsx)("button",{"aria-label":D?"Updating your delegate key...":"",className:"button",disabled:R,onClick:V,children:D?Object(fe.jsx)(va.a,{}):k?"Done":"Confirm"}),R&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:Y()}),P&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong with your revocation.",error:P})})]});return Object(fe.jsx)(fe.Fragment,{})}};function U(e){return G.apply(this,arguments)}function G(){return(G=Object(Ue.a)(Me.a.mark((function e(t){var r,c,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(o){e.next=5;break}throw new Error("No DAO Registry Adapter contract was found.");case 5:if(u){e.next=7;break}throw new Error("No account found.");case 7:if(d){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return r=t.delegateAddress,c=[a.contractAddress,Object(Ga.toChecksumAddress)(r)],s=Object(x.a)({from:u||""},l?{gasPrice:l}:null),e.next=14,m("updateDelegateKey",o.instance.methods,c,s);case 14:e.sent&&setTimeout(Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(f.A)({account:u,daoRegistryContract:a,web3Instance:d}));case 2:n();case 3:case"end":return e.stop()}}),e)}))),2e3),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),i=e.t0,(e.t0.message.includes("cannot overwrite existing delegated keys")||e.t0.message.includes("address already taken as delegated key"))&&(i=new Error("The provided address cannot be another member or already in use as a delegate.")),y(i);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return(W=Object(Ue.a)(Me.a.mark((function e(){var t,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(o){e.next=5;break}throw new Error("No DAO Registry Adapter contract was found.");case 5:if(u){e.next=7;break}throw new Error("No account found.");case 7:if(d){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return t=[a.contractAddress,Object(Ga.toChecksumAddress)(u)],r=Object(x.a)({from:u||""},l?{gasPrice:l}:null),e.next=13,m("updateDelegateKey",o.instance.methods,t,r);case 13:e.sent&&setTimeout(Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(f.A)({account:u,daoRegistryContract:a,web3Instance:d}));case 2:n();case 3:case"end":return e.stop()}}),e)}))),2e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),y(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function Y(){switch(v){case pa.f.AWAITING_CONFIRM:return"Awaiting your confirmation\u2026";case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:O,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Submitted!"}),Object(fe.jsx)(wa.a,{url:O})]});default:return null}}return Object(fe.jsxs)(lr.a,{keyProp:"delegation",isOpen:t,isOpenHandler:function(){},modalClassNames:"delegation-modal",children:[Object(fe.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(fe.jsx)(qe.a,{})}),M[r]()]})}function Cc(){var e=Object(c.c)((function(e){return e.connectedMember})),t=Object(be.useState)(Ac.SET_DELEGATION),n=Object(_e.a)(t,2),r=n[0],a=n[1],o=Object(be.useState)(""),s=Object(_e.a)(o,2),i=s[0],u=s[1],d=Object(be.useState)(!1),l=Object(_e.a)(d,2),b=l[0],j=l[1],f=Object(be.useCallback)((function(){return O.apply(this,arguments)}),[e]);function O(){return(O=Object(Ue.a)(Me.a.mark((function t(){var n,r;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No connected account found.");case 3:n=e.isAddressDelegated?Ac.REVOKE_DELEGATION:Ac.SET_DELEGATION,a(n),r=e.isAddressDelegated?xc.REVOKE_DELEGATION:xc.DELEGATE_VOTES,u(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){f()}),[f]),e?Object(fe.jsxs)(fe.Fragment,{children:[""!==i&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"memberprofile__action-description",children:e.isAddressDelegated?Object(fe.jsxs)(fe.Fragment,{children:["Your voting rights have been delegated to"," ",Object(fe.jsx)("span",{className:"delegation__delegate-address-text",children:Object(p.l)(e.delegateKey,7)}),". You can revoke this at any time."]}):Object(fe.jsx)(fe.Fragment,{children:"You can delegate your voting rights to a different ETH address. The address cannot be another member or already in use as a delegate."})}),Object(fe.jsx)("button",{className:"memberprofile__action-button",onClick:function(){return j(!0)},children:i})]}),b&&Object(fe.jsx)(Ic,{isOpen:b,closeHandler:function(){j(!1)},currentStep:r})]}):Object(fe.jsx)(fe.Fragment,{})}function Sc(){var e=vc(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(Ie.d)().defaultChainError,c=Object(Ie.f)().account,o=Gn(),s=o.daoTokenDetails,i=o.daoTokenDetailsStatus,u=Object(Xt.e)(),d=u.totalUnits,l=u.totalUnitsStatus,b=Object(le.h)().ethereumAddress,j=Object(be.useState)(),f=Object(_e.a)(j,2),O=f[0],h=f[1],m=Object(be.useState)(!1),v=Object(_e.a)(m,2),x=v[0],A=v[1];Object(be.useEffect)((function(){if(r===Ce.a.FULFILLED){var e=t.find((function(e){return Object(p.i)(e.address)===Object(p.i)(b)}));h(e),e||A(!0)}}),[b,t,r]);var g=r===Ce.a.STANDBY||r===Ce.a.PENDING||i===Ce.a.STANDBY||i===Ce.a.PENDING||l===Ce.a.STANDBY||l===Ce.a.PENDING,N=r===Ce.a.FULFILLED,E=n||a,w=!(!c||!O||Object(p.i)(c)!==Object(p.i)(O.address)),y=O&&"number"===typeof d?(Number(O.units)/d*100).toFixed(2):"";return g&&!E?Object(fe.jsx)(Tc,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})}):E?Object(fe.jsx)(Tc,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:E,renderText:"Something went wrong while getting the member."})})}):x&&N?Object(fe.jsx)(Tc,{children:Object(fe.jsx)("div",{className:"text-center error-message",children:Object(fe.jsx)("p",{children:"Member not found."})})}):Object(fe.jsx)(Tc,{children:O?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(fe.jsxs)("div",{className:"proposaldetails",children:[Object(fe.jsxs)("div",{className:"memberprofile__left-column",children:[Object(fe.jsx)("h3",{children:Object(p.l)(O.address,7)}),function(){if(O)return Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{className:"memberprofile__info-item",children:s?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"DAO Tokens"}),Object(fe.jsx)("div",{children:"".concat(Object(p.e)(O.units)," ").concat(s.symbol||"tokens")}),w&&Object(fe.jsx)("small",{children:Object(fe.jsx)(yc,{daoTokenDetails:s})})]}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Membership Units"}),Object(fe.jsx)("div",{children:Object(p.e)(O.units)})]})}),Object(fe.jsxs)("div",{className:"memberprofile__info-item",children:[Object(fe.jsx)("div",{children:"Voting Weight"}),Object(fe.jsx)("div",{children:"".concat(y,"%")})]})]})}()]}),Object(fe.jsx)("div",{className:"memberprofile__right-column",children:w?Object(fe.jsx)("div",{children:Object(fe.jsxs)("div",{className:"memberprofile__action",children:[Object(fe.jsx)("div",{className:"memberprofile__action-header",children:"Delegation"}),Object(fe.jsx)(Cc,{})]})}):Object(fe.jsx)("div",{className:"memberprofile__actions-unavailable",children:"Connect your wallet with this member address to view available actions."})})]})]}):Object(fe.jsx)(fe.Fragment,{})})}function Tc(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}!function(e){e.DELEGATE_VOTES="Delegate Votes",e.REVOKE_DELEGATION="Revoke Delegation"}(xc||(xc={})),function(e){e.SET_DELEGATION="setDelegation",e.REVOKE_DELEGATION="revokeDelegation"}(Ac||(Ac={})),function(e){e.delegateAddress="delegateAddress",e.confirmDelegation="confirmDelegation"}(gc||(gc={}));function Dc(e){var t=e.member,n=e.to,r=void 0===n?"#":n,a=Object(Ie.f)().account;return Object(fe.jsx)(o.b,{className:"membercard__link",to:r,children:Object(fe.jsx)("div",{className:"membercard ".concat(a&&a.toLowerCase()===t.address.toLowerCase()?"membercard--connected-account":""),children:Object(fe.jsx)("h3",{className:"membercard__title",children:Object(p.l)(t.address,7)})})})}function kc(){var e=vc(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(Ie.d)().defaultChainError,c=r===Ce.a.STANDBY||r===Ce.a.PENDING,o=r===Ce.a.FULFILLED,s=n||a;return c&&!s?Object(fe.jsx)(Rc,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})}):s?Object(fe.jsx)(Rc,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong while getting the members."})})}):!Object.values(t).length&&o?Object(fe.jsx)(Rc,{children:Object(fe.jsx)("p",{className:"text-center",children:"No members, yet!"})}):Object(fe.jsx)(Rc,{children:Object(fe.jsx)("div",{className:"grid--fluid grid-container",children:Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(fe.jsx)("div",{className:"grid__cards",children:function(e){return e.map((function(e){return Object(fe.jsx)(Dc,{to:"/members/".concat(e.address),member:e},e.address)}))}(t)})]})})})}function Rc(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}var Pc=n(58),Fc=n(47),Lc=[pa.b.offchainVotingVotingPeriod,pa.b.offchainVotingGracePeriod];function Bc(e){var t=e.adapterName,n=e.onProposalClick,r=void 0===n?function(){}:n,a=e.proposalLinkPath,c=e.renderProposalCard,o=e.includeProposalsExistingOnlyOffchain,s=void 0!==o&&o,i=Object(be.useState)([]),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Object(be.useState)({failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]}),j=Object(_e.a)(b,2),f=j[0],O=j[1],h=Object(Xt.d)(Lc),m=Object(_e.a)(h.daoConfigurations,2),v=m[0],A=m[1],g=Object(Pa.f)(Object(be.useMemo)((function(){return{adapterName:t,includeProposalsExistingOnlyOffchain:s}}),[t,s])),N=g.proposals,E=g.proposalsError,w=g.proposalsStatus,y=Object(Pa.c)(d),_=y.offchainVotingResults,I=y.offchainVotingResultsError,C=y.offchainVotingResultsStatus,S=Object(Ie.d)().defaultChainError,T=f.failedProposals,D=f.nonsponsoredProposals,k=f.passedProposals,R=f.votingProposals,P=w===Ce.a.STANDBY||w===Ce.a.PENDING||C===Ce.a.STANDBY&&d.length>0||C===Ce.a.PENDING,F=E||I||S;function L(e){return e.map((function(e){var t,n=e.daoProposalVote,o=e.daoProposalVotingAdapter,s=e.snapshotDraft,i=e.snapshotProposal,u=(null===s||void 0===s?void 0:s.idInDAO)||(null===i||void 0===i?void 0:i.idInDAO),d=null===o||void 0===o?void 0:o.votingAdapterName,l=0,b=0,j=0,f=0;if(d===Jr.c.OffchainVotingContract){var O=(null===n||void 0===n?void 0:n[Jr.c.OffchainVotingContract])||{},h=O.startingTime,m=O.gracePeriodStartingTime,x=Object(Pc.a)({gracePeriodLength:A,gracePeriodStartingTime:m,votePeriodLength:v,voteStartingTime:h});l=x.gracePeriodEndMs,b=x.gracePeriodStartMs,j=x.voteEndMs,f=x.voteStartMs}if(!u)return null;if(c)return Object(fe.jsx)(be.Fragment,{children:c({proposalData:e})},u);var g=(null===s||void 0===s?void 0:s.msg.payload.name)||(null===i||void 0===i?void 0:i.msg.payload.name)||"",N=null===(t=_.find((function(e){var t=Object(_e.a)(e,2),n=t[0];t[1];return Object(p.i)(n)===Object(p.i)(u)})))||void 0===t?void 0:t[1];return Object(fe.jsx)(fc,{linkPath:a,name:g,onClick:r,proposalOnClickId:u,renderStatus:function(){return d===Jr.c.OffchainVotingContract?Object(fe.jsx)(rc.c,{countdownGracePeriodEndMs:l,countdownGracePeriodStartMs:b,countdownVotingEndMs:j,countdownVotingStartMs:f,votingResult:N}):Object(fe.jsx)(fe.Fragment,{})}},u)}))}return Object(be.useEffect)((function(){l(N.map((function(e){return e.snapshotProposal})))}),[N]),Object(be.useEffect)((function(){if(w===Ce.a.FULFILLED){var e={failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]};N.forEach((function(t){var n,r,a,c,o=t.daoProposal,i=t.daoProposalVotingState,u=t.daoProposalVote;if(o){var d=0===(null===(n=t.snapshotProposal)||void 0===n||null===(r=n.votes)||void 0===r?void 0:r.length),l=void 0!==i&&(Object(Pc.f)(Fc.b.GRACE_PERIOD,i)||Object(Pc.f)(Fc.b.TIE,i))&&Object(Pc.e)(Ra.b.SPONSORED,o.flags)&&(null===u||void 0===u||null===(a=u.OffchainVotingContract)||void 0===a?void 0:a.reporter)===fa.a;if(void 0!==i)if(void 0!==i&&Object(Pc.f)(Fc.b.PASS,i)&&(Object(Pc.e)(Ra.b.SPONSORED,o.flags)||Object(Pc.e)(Ra.b.PROCESSED,o.flags)))e.passedProposals.push(t);else{var b=null===(c=_.find((function(e){var n,r=Object(_e.a)(e,2),a=r[0];r[1];return Object(p.i)(a)===Object(p.i)((null===(n=t.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"")})))||void 0===c?void 0:c[1],j=!!b&&b.Yes.units>b.No.units;l&&!1===d&&j?e.votingProposals.push(t):void 0===i||!Object(Pc.f)(Fc.b.NOT_PASS,i)&&!Object(Pc.f)(Fc.b.TIE,i)||!Object(Pc.e)(Ra.b.SPONSORED,o.flags)&&!Object(Pc.e)(Ra.b.PROCESSED,o.flags)?void 0!==i&&l&&d?e.failedProposals.push(t):void 0===i||!l||j?void 0!==i&&(Object(Pc.f)(Fc.b.GRACE_PERIOD,i)||Object(Pc.f)(Fc.b.IN_PROGRESS,i))&&Object(Pc.e)(Ra.b.SPONSORED,o.flags)&&e.votingProposals.push(t):e.failedProposals.push(t):e.failedProposals.push(t)}else(s||Object(Pc.e)(Ra.b.EXISTS,o.flags))&&e.nonsponsoredProposals.push(t)}})),O((function(t){return Object(x.a)(Object(x.a)({},t),e)}))}}),[s,_,N,w]),P&&!F?Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})}):F?Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:F,renderText:"Something went wrong while getting the proposals."})}):Object.values(f).flatMap((function(e){return e})).length||w!==Ce.a.FULFILLED?Object(fe.jsxs)("div",{className:"grid--fluid grid-container",children:[R.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.VOTING}),Object(fe.jsx)("div",{className:"grid__cards",children:L(R)})]}),D.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.REQUESTS}),Object(fe.jsx)("div",{className:"grid__cards",children:L(D)})]}),k.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.PASSED}),Object(fe.jsx)("div",{className:"grid__cards",children:L(k)})]}),T.length>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"grid__header",children:oa.d.FAILED}),Object(fe.jsx)("div",{className:"grid__cards",children:L(T)})]})]}):Object(fe.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function Mc(){return Object(fe.jsx)(Uc,{children:Object(fe.jsx)(Bc,{adapterName:Jr.a.ONBOARDING,proposalLinkPath:function(e){return"/membership/".concat(e)},includeProposalsExistingOnlyOffchain:!0})})}function Uc(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var Gc={skipIsActiveMemberCheck:!0};function Vc(e){var t=e.disabled,n=e.proposal.snapshotProposal,r=Object(be.useState)(),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=Object(be.useState)(),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Object(be.useRef)({notProposerMessage:""}),j=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),p=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),O=Object(Ie.f)(),h=O.account,m=O.web3Instance,v=Object(Ie.a)(),A=v.txEtherscanURL,g=v.txIsPromptOpen,N=v.txSend,E=v.txStatus,w=Object(Ie.b)().average,y=Object(Xt.g)(Gc),_=y.isDisabled,I=y.openWhyDisabledModal,C=y.WhyDisabledModal,S=y.setOtherDisabledReasons,T=Gn().daoTokenDetails,D=Object(c.b)(),k=E===pa.f.AWAITING_CONFIRM||E===pa.f.PENDING,R=E===pa.f.FULFILLED,P=k||R||g,F=_||P||t,L=Object(be.useCallback)((function(){return B.apply(this,arguments)}),[j,null===p||void 0===p?void 0:p.contractAddress,n]);function B(){return(B=Object(Ue.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===p||void 0===p?void 0:p.contractAddress)&&j&&n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.instance.methods.proposals(p.contractAddress,n.idInDAO).call();case 5:t=e.sent,l(t.amount),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),l(void 0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function M(){return(M=Object(Ue.a)(Me.a.mark((function e(){var t,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(j){e.next=7;break}throw new Error("No OnboardingContract found.");case 7:if(h){e.next=9;break}throw new Error("No account found.");case 9:if(m){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:return t=[p.contractAddress,n.idInDAO],r=Object(x.a)({from:h||"",value:d},w?{gasPrice:w}:null),e.next=15,N("processProposal",j.instance.methods,t,r);case 15:if(!e.sent){e.next=22;break}return e.next=19,D(Object(f.A)({account:h,daoRegistryContract:p,web3Instance:m}));case 19:if(h.toLowerCase()!==n.msg.payload.metadata.submitActionArgs[0].toLowerCase()){e.next=22;break}return e.next=22,U();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),s(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}function U(){return G.apply(this,arguments)}function G(){return(G=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:T}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){L()}),[L]),Object(be.useEffect)((function(){var e=n.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&h&&(b.current=Object(x.a)(Object(x.a)({},b.current),{},{notProposerMessage:e.toLowerCase()!==h.toLowerCase()?"Only the original proposer can process the proposal.":""})),S(Object.values(b.current))}),[h,S,n]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{children:[Object(fe.jsx)("button",{className:"proposaldetails__button",disabled:F,onClick:F?function(){}:function(){return M.apply(this,arguments)},children:k?Object(fe.jsx)(va.a,{}):R?"Done":"Process"}),Object(fe.jsx)(Oa.a,{error:o,renderText:"Something went wrong"}),P&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(E){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Confirm to process the proposal",Object(fe.jsx)(ga.a,{})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:A,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Proposal submitted!"}),Object(fe.jsx)(wa.a,{url:A})]});default:return null}}()}),_&&Object(fe.jsx)("button",{className:"button--help-centered",onClick:I,children:"Why is processing disabled?"})]}),Object(fe.jsx)(C,{title:"Why is processing disabled?"})]})}var Wc=Object(be.lazy)((function(){return n.e(8).then(n.bind(null,1117))})),Yc={duration:150},Kc={display:"inline-block",width:"100%",fontSize:"1.5rem"};function Hc(e){var t,n=e.adapterName,r=e.proposal,a=e.renderAction,o=Object(c.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName})),s=(null===(t=r.daoProposalVotingAdapter)||void 0===t?void 0:t.votingAdapterName)||o;return Object(fe.jsx)(be.Suspense,{fallback:Object(fe.jsx)("span",{className:"text-center",style:Kc,children:Object(fe.jsx)(ga.a,{intervalMs:200,fadeInProps:Yc})}),children:function(){if(!s)return Object(fe.jsx)(fe.Fragment,{});switch(s){case Jr.c.OffchainVotingContract:return Object(fe.jsx)(Wc,{adapterName:n,proposal:r,renderAction:a});case Jr.c.VotingContract:return Object(fe.jsx)(fe.Fragment,{});default:return Object(fe.jsx)(Oa.a,{error:new Error('"'.concat(s,'" is not a valid voting adapter name.')),renderText:"Something went wrong"})}}()})}var zc=n(245);function qc(e){var t=e.amount,n=e.amountUnit,r=e.amount2,a=e.amount2Unit;return Object(fe.jsx)("div",{className:"proposaldetails__amount",children:Object(fe.jsxs)("span",{children:["".concat(t," ").concat(n),r&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("br",{}),Object(fe.jsx)("small",{children:"for"}),Object(fe.jsx)("br",{}),"".concat(r," ").concat(a)]})]})})}function Qc(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;if(a===Ra.c.Submit){var c=r.snapshotDraft,o=null===c||void 0===c?void 0:c.msg.payload.metadata.submitActionArgs[0];return Object(fe.jsx)(zc.a,{checkApplicant:o,proposal:r})}return a===Ra.c.Process||a===Ra.c.OffchainVotingGracePeriod?n&&Fc.b[n]!==Fc.b[Fc.b.PASS]?Object(fe.jsx)(fe.Fragment,{}):Object(fe.jsx)(Vc,{disabled:a===Ra.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Ce.a.PENDING&&!s)return Object(fe.jsx)(Jc,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})});if(a)return Object(fe.jsx)(Jc,{children:Object(fe.jsx)(oc,{})});if(s)return Object(fe.jsx)(Jc,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong while getting the proposal."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.tributeAmount,l=b.tributeAmountUnit}catch(s){d="\u2014",l=""}return Object(fe.jsx)(Jc,{children:Object(fe.jsx)(sc,{proposal:n,renderAmountBadge:function(){return Object(fe.jsx)(qc,{amount:d,amountUnit:l})},renderActions:function(){return Object(fe.jsx)(Hc,{adapterName:pa.a.onboarding,proposal:n,renderAction:i})}})})}return Object(fe.jsx)(fe.Fragment,{})}function Jc(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function Xc(e){var t=e.showAfterMs,n=Object(be.useState)(!1),r=Object(_e.a)(n,2),a=r[0],c=r[1];return Object(be.useEffect)((function(){var e=t&&setTimeout((function(){return c(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&a?Object(fe.jsx)("div",{className:"loader--emoji",children:Object(fe.jsx)("span",{role:"img","aria-label":"Loading content...",children:e.emoji})}):null}var Zc=n(244),$c=n(180),eo={skipIsActiveMemberCheck:!0};function to(e){var t=e.redeemables,n=e.daoTokenDetails;return Object(fe.jsx)(ro,{children:Object(fe.jsx)(no,{redeemable:t[0],daoTokenDetails:n})})}function no(e){var t=e.redeemable,n=e.daoTokenDetails,r=Object(be.useRef)({invalidApplicantMessage:""}),a=Object($c.b)(),c=a.redeemCoupon,o=a.submitStatus,s=a.submitError,i=a.txStatus,u=a.txEtherscanURL,d=a.txIsPromptOpen,l=Object(Xt.g)(eo),b=l.isDisabled,j=l.openWhyDisabledModal,f=l.WhyDisabledModal,O=l.setOtherDisabledReasons,h=Object(Pa.a)(t.recipient),m=h.checkApplicantError,v=h.checkApplicantInvalidMsg,A=h.checkApplicantStatus,g=h.isApplicantValid,N=o===$c.a.PENDING||i===pa.f.AWAITING_CONFIRM||i===pa.f.PENDING,E=o===$c.a.FULFILLED||i===pa.f.FULFILLED||t.isRedeemd,w=N||E||d;return Object(be.useEffect)((function(){t.recipient&&(m&&console.warn("Error checking if the applicant address '".concat(t.recipient,"' is valid: ").concat(m.message)),A===Ce.a.FULFILLED&&!g&&v&&(r.current=Object(x.a)(Object(x.a)({},r.current),{},{invalidApplicantMessage:v})),O(Object.values(r.current)))}),[m,v,A,g,t.recipient,O]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"redeemcard redeemcard__content ".concat(E?"fireworks":""," "),children:[Object(fe.jsxs)("p",{className:"redeemcard__recipient",children:["Recipient:"," ",Object(p.l)(Object(Ga.toChecksumAddress)(t.recipient),7)]}),Object(fe.jsxs)("p",{className:"redeemcard__unit",children:[Object(p.e)(t.amount),Object(fe.jsx)("sup",{children:Object(fe.jsx)("small",{children:(null===n||void 0===n?void 0:n.symbol)||"tokens"})})]}),Object(fe.jsx)(yc,{daoTokenDetails:n}),E&&Object(fe.jsx)("p",{className:"redeemcard__redeemed",children:Object(fe.jsx)("span",{className:"pulse",role:"img","aria-label":"Redeemed!",style:{display:"inline-block"},children:"\ud83e\udd73"})}),Object(fe.jsx)("button",{className:"button",style:{marginTop:E?"1rem":"1.5rem"},onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,n);case 2:case"end":return e.stop()}}),e)}))),disabled:b||w,children:N?Object(fe.jsx)(va.a,{}):E?"Redeemed!":"Redeem"}),w&&!t.isRedeemd&&Object(fe.jsx)("div",{className:"form__submit-status-container",style:{marginTop:"1rem"},children:function(){switch(i){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Awaiting your confirmation",Object(fe.jsx)(Zc.a,{})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:u,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Finalized!"}),Object(fe.jsx)(wa.a,{url:u})]});default:return null}}()}),b&&Object(fe.jsx)("button",{className:"button--help-centered",onClick:j,style:{margin:"1rem auto 0"},children:"Why is redeeming disabled?"}),s&&Object(fe.jsx)("div",{className:"form__submit-error-container",children:Object(fe.jsx)(Oa.a,{renderText:"Something went wrong while redeeming the coupon.",error:s})})]}),Object(fe.jsx)(f,{title:"Why is redeeming disabled?"})]})}function ro(e){return Object(fe.jsx)(Un.a,{children:Object(fe.jsx)("div",{className:"grid--fluid grid-container",children:e.children})})}function ao(){var e=Object(be.useState)([]),t=Object(_e.a)(e,2),n=t[0],r=t[1],a=Object(be.useState)(Ce.a.STANDBY),c=Object(_e.a)(a,2),o=c[0],s=c[1],i=Object(Ie.f)(),u=i.connected,d=i.account,l=Object(Ie.d)().defaultChainError,b=Object(Xt.a)(),f=b.abortController,p=b.isMountedRef,O=Gn(),h=O.daoTokenDetails,m=O.daoTokenDetailsStatus,v=Object(le.g)(),x=new URLSearchParams(v.search).get("coupon"),A=o===Ce.a.STANDBY||o===Ce.a.PENDING||m===Ce.a.STANDBY||m===Ce.a.PENDING,g=Object(be.useCallback)((function(){return N.apply(this,arguments)}),[null===f||void 0===f?void 0:f.signal,x,p]);function N(){return(N=Object(Ue.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===f||void 0===f?void 0:f.signal){e.next=3;break}return e.abrupt("return");case 3:return s(Ce.a.PENDING),e.next=6,fetch("".concat(j.g,"/api/coupon/redeem"),{method:"POST",body:JSON.stringify({signature:x}),headers:{"Content-Type":"application/json"},signal:f.signal});case 6:if(t=e.sent,p.current){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,t.json();case 11:n=e.sent,r(n),s(Ce.a.FULFILLED),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),p.current){e.next=20;break}return e.abrupt("return");case 20:s(Ce.a.REJECTED);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){d&&u&&!l&&g()}),[d,u,g,l]),u?l?Object(fe.jsx)(co,{children:Object(fe.jsx)("p",{className:"color-brightsalmon",children:l.message})}):u&&A?Object(fe.jsxs)(co,{children:[Object(fe.jsx)(Xc,{emoji:"\ud83c\udf9f"}),Object(fe.jsx)("p",{children:"Checking\u2026 please wait."})]}):void 0!==x&&x?n&&n.length?Object(fe.jsx)(co,{children:Object(fe.jsx)(to,{daoTokenDetails:h,redeemables:n})}):Object(fe.jsx)(co,{children:Object(fe.jsx)("p",{className:"color-brightsalmon",children:"Coupon not found."})}):Object(fe.jsx)(co,{children:Object(fe.jsx)("p",{className:"color-brightsalmon",children:"Coupon signature missing."})}):Object(fe.jsx)(co,{children:Object(fe.jsx)("p",{className:"color-brightsalmon",children:"Connect your wallet to view the coupon."})})}function co(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Redeem Coupon"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Redeem coupon to issue the membership tokens."})}),e.children]})]})})}function oo(e){var t=e.proposal.snapshotProposal,n=Object(be.useState)(),r=Object(_e.a)(n,2),a=r[0],o=r[1],s=Object(be.useRef)({alreadyCompletedMessage:""}),i=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),u=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),d=Object(Ie.f)(),l=d.account,b=d.web3Instance,j=Object(Ie.a)(),p=j.txEtherscanURL,O=j.txIsPromptOpen,h=j.txSend,m=j.txStatus,v=Object(Ie.b)().average,A=Object(Xt.g)(),g=A.isDisabled,N=A.openWhyDisabledModal,E=A.WhyDisabledModal,w=A.setOtherDisabledReasons,y=Object(c.b)(),_=m===pa.f.AWAITING_CONFIRM||m===pa.f.PENDING,I=m===pa.f.FULFILLED,C=_||I||O,S=g||C;function T(){return(T=Object(Ue.a)(Me.a.mark((function e(){var n,r,a,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(t){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:if(l){e.next=9;break}throw new Error("No account found.");case 9:if(b){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(n="0",!(null===t||void 0===t?void 0:t.msg.payload.metadata.isTypeAllMembers)){e.next=24;break}return e.prev=14,e.next=17,u.instance.methods.getNbMembers().call();case 17:r=e.sent,n=r.toString(),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(14),new Error("Error while retrieving number of DAO members");case 24:return a=[u.contractAddress,n],c=Object(x.a)({from:l||""},v?{gasPrice:v}:null),e.next=28,h("distribute",i.instance.methods,a,c);case 28:if(!e.sent){e.next=32;break}return e.next=32,y(Object(f.A)({account:l,daoRegistryContract:u,web3Instance:b}));case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),o(e.t1);case 37:case"end":return e.stop()}}),e,null,[[0,34],[14,21]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){function e(){return(e=Object(Ue.a)(Me.a.mark((function e(){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No Snapshot proposal was found.");case 3:if(u){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:return e.next=9,i.instance.methods.distributions(u.contractAddress,t.idInDAO).call();case 9:n=e.sent,s.current=Object(x.a)(Object(x.a)({},s.current),{},{alreadyCompletedMessage:Ra.a[n.status]!==Ra.a[Ra.a.IN_PROGRESS]?"The transfer has already been completed.":""}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:w(Object.values(s.current));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,u,w,t]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{children:[Object(fe.jsx)("button",{className:"proposaldetails__button",disabled:S,onClick:S?function(){}:function(){return T.apply(this,arguments)},children:_?Object(fe.jsx)(va.a,{}):I?"Transfer done":"Transfer assets"}),Object(fe.jsx)(Oa.a,{error:a,renderText:"Something went wrong"}),C&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){switch(m){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Confirm to transfer assets",Object(fe.jsx)(ga.a,{})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:p,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Assets transferred!"}),Object(fe.jsx)(wa.a,{url:p})]});default:return null}}()}),g&&Object(fe.jsx)("button",{className:"button--help-centered",onClick:N,children:"Why is action disabled?"})]}),Object(fe.jsx)(E,{title:"Why is transfer disabled?"})]})}function so(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal;return t.status===Ra.c.Completed&&n&&Fc.b[n]===Fc.b[Fc.b.PASS]?Object(fe.jsx)(oo,{proposal:r}):null}if(c===Ce.a.PENDING&&!s)return Object(fe.jsx)(io,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})});if(a)return Object(fe.jsx)(io,{children:Object(fe.jsx)(oc,{})});if(s)return Object(fe.jsx)(io,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.transferAmount,l=b.transferAmountUnit}catch(s){d="\u2014",l=""}return Object(fe.jsx)(io,{children:Object(fe.jsx)(sc,{proposal:n,renderAmountBadge:function(){return Object(fe.jsx)(qc,{amount:d,amountUnit:l})},renderActions:function(){return Object(fe.jsx)(Hc,{adapterName:pa.a.distribute,proposal:n,renderAction:i})}})})}return Object(fe.jsx)(fe.Fragment,{})}function io(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function uo(){return Object(fe.jsx)(lo,{children:Object(fe.jsx)(Bc,{adapterName:Jr.a.DISTRIBUTE,proposalLinkPath:function(e){return"/transfers/".concat(e)}})})}function lo(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}var bo={skipIsActiveMemberCheck:!0};function jo(e){var t=e.disabled,r=e.proposal.snapshotProposal,a=Object(be.useState)(),o=Object(_e.a)(a,2),s=o[0],i=o[1],u=Object(be.useState)(),d=Object(_e.a)(u,2),l=d[0],b=d[1],j=Object(be.useRef)({notProposerMessage:""}),p=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),O=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),h=Object(Ie.f)(),m=h.account,v=h.web3Instance,A=Object(Ie.a)(),g=A.txEtherscanURL,N=A.txIsPromptOpen,E=A.txSend,w=A.txStatus,y=Object(Ie.b)().average,_=Object(Ie.a)(),I=_.txEtherscanURL,C=_.txIsPromptOpen,S=_.txSend,T=_.txStatus,D=Object(Xt.g)(bo),k=D.isDisabled,R=D.openWhyDisabledModal,P=D.WhyDisabledModal,F=D.setOtherDisabledReasons,L=Gn().daoTokenDetails,B=Object(c.b)(),M=w===pa.f.AWAITING_CONFIRM||w===pa.f.PENDING||T===pa.f.AWAITING_CONFIRM||T===pa.f.PENDING,U=w===pa.f.FULFILLED,G=M||U||N||C,V=k||G||t,W=Object(be.useCallback)((function(){return Y.apply(this,arguments)}),[p,null===O||void 0===O?void 0:O.contractAddress,r]);function Y(){return(Y=Object(Ue.a)(Me.a.mark((function e(){var t,n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===O||void 0===O?void 0:O.contractAddress)&&r&&p){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p.instance.methods.proposals(O.contractAddress,r.idInDAO).call();case 5:t=e.sent,n=t.token,a=t.tributeAmount,b({tokenAddress:n,tributeAmount:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function K(){return H.apply(this,arguments)}function H(){return(H=Object(Ue.a)(Me.a.mark((function e(){var t,r,a,c,o,s,i,u,d,b,j,f,O;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}throw new Error("No Tribute proposal details found.");case 3:if(p){e.next=5;break}throw new Error("No TributeContract found.");case 5:if(m){e.next=7;break}throw new Error("No account found.");case 7:if(v){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return t=l.tokenAddress,r=l.tributeAmount,e.next=12,Promise.resolve().then(n.t.bind(null,538,3));case 12:return a=e.sent,c=a.default,o=c,s=new v.eth.Contract(o,t),e.next=18,s.methods.allowance(m,p.contractAddress).call();case 18:if(i=e.sent,u=Object(Ga.toBN)(r),d=Object(Ga.toBN)(i),!u.gt(d)){e.next=34;break}return e.prev=22,b=u.sub(d),j=d.add(b),f=[p.contractAddress,j.toString()],O=Object(x.a)({from:m||""},y?{gasPrice:y}:null),e.next=29,S("approve",s.methods,f,O);case 29:e.next=34;break;case 31:throw e.prev=31,e.t0=e.catch(22),e.t0;case 34:e.next=39;break;case 36:throw e.prev=36,e.t1=e.catch(0),e.t1;case 39:case"end":return e.stop()}}),e,null,[[0,36],[22,31]])})))).apply(this,arguments)}function z(){return(z=Object(Ue.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(r){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(p){e.next=7;break}throw new Error("No TributeContract found.");case 7:if(m){e.next=9;break}throw new Error("No account found.");case 9:if(v){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:return e.next=13,K();case 13:return t=[O.contractAddress,r.idInDAO],n=Object(x.a)({from:m||""},y?{gasPrice:y}:null),e.next=17,E("processProposal",p.instance.methods,t,n);case 17:if(!e.sent){e.next=24;break}return e.next=21,B(Object(f.A)({account:m,daoRegistryContract:O,web3Instance:v}));case 21:if(m.toLowerCase()!==r.msg.payload.metadata.submitActionArgs[0].toLowerCase()){e.next=24;break}return e.next=24,q();case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),i(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})))).apply(this,arguments)}function q(){return Q.apply(this,arguments)}function Q(){return(Q=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:L}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){W()}),[W]),Object(be.useEffect)((function(){var e=r.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&m&&(j.current=Object(x.a)(Object(x.a)({},j.current),{},{notProposerMessage:e.toLowerCase()!==m.toLowerCase()?"Only the original proposer can process the proposal.":""})),F(Object.values(j.current))}),[m,F,r]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{children:[Object(fe.jsx)("button",{className:"proposaldetails__button",disabled:V,onClick:V?function(){}:function(){return z.apply(this,arguments)},children:M?Object(fe.jsx)(va.a,{}):U?"Done":"Process"}),Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong"}),G&&Object(fe.jsx)("div",{className:"form__submit-status-container",children:function(){if(T===pa.f.AWAITING_CONFIRM)return Object(fe.jsxs)(fe.Fragment,{children:["Confirm to transfer your tokens",Object(fe.jsx)(ga.a,{})]});if(T===pa.f.PENDING)return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{children:["Approving your tokens for transfer",Object(fe.jsx)(ga.a,{})]}),Object(fe.jsx)(wa.a,{url:I,isPending:!0})]});switch(w){case pa.f.AWAITING_CONFIRM:return Object(fe.jsxs)(fe.Fragment,{children:["Confirm to process the proposal",Object(fe.jsx)(ga.a,{})]});case pa.f.PENDING:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ea.a,{intervalMs:2e3,messages:Na.b,useFirstItemStart:!0,render:function(e){return Object(fe.jsx)(Un.a,{children:e},e)}}),Object(fe.jsx)(wa.a,{url:g,isPending:!0})]});case pa.f.FULFILLED:return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{children:"Proposal submitted!"}),Object(fe.jsx)(wa.a,{url:g})]});default:return null}}()}),k&&Object(fe.jsx)("button",{className:"button--help-centered",onClick:R,children:"Why is processing disabled?"})]}),Object(fe.jsx)(P,{title:"Why is processing disabled?"})]})}var fo,po="\u2014";function Oo(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;if(a===Ra.c.Submit){var c=r.snapshotDraft,o=null===c||void 0===c?void 0:c.msg.payload.metadata.submitActionArgs[0];return Object(fe.jsx)(zc.a,{checkApplicant:o,proposal:r})}return a===Ra.c.Process||a===Ra.c.OffchainVotingGracePeriod?n&&Fc.b[n]!==Fc.b[Fc.b.PASS]?Object(fe.jsx)(fe.Fragment,{}):Object(fe.jsx)(jo,{disabled:a===Ra.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Ce.a.PENDING&&!s)return Object(fe.jsx)(ho,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})});if(a)return Object(fe.jsx)(ho,{children:Object(fe.jsx)(oc,{})});if(s)return Object(fe.jsx)(ho,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d=po,l="",b=po,j="";try{var f=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=f.tributeAmount,l=f.tributeAmountUnit,b=f.requestAmount,j=f.requestAmountUnit}catch(s){d=po,l="",b=po,j=""}return Object(fe.jsx)(ho,{children:Object(fe.jsx)(sc,{proposal:n,renderAmountBadge:function(){return Object(fe.jsx)(qc,{amount:d,amountUnit:l,amount2:b,amount2Unit:j})},renderActions:function(){return Object(fe.jsx)(Hc,{adapterName:pa.a.tribute,proposal:n,renderAction:i})}})})}return Object(fe.jsx)(fe.Fragment,{})}function ho(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function mo(){return Object(fe.jsx)(vo,{children:Object(fe.jsx)(Bc,{adapterName:Jr.a.TRIBUTE,proposalLinkPath:function(e){return"/tributes/".concat(e)},includeProposalsExistingOnlyOffchain:!0})})}function vo(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function xo(e){var t=function(e){var t=e.replace(" ","-").toLowerCase();return"https://".concat(t,".ted-dao.local")}(e.movement.name);return Object(fe.jsx)("a",{className:"proposalcard__link",href:t,target:"_blank",rel:"noreferrer",children:Object(fe.jsxs)("div",{className:"proposalcard",children:[Object(fe.jsx)("h3",{className:"proposalcard__title",children:e.movement.name}),Object(fe.jsx)("p",{children:Object(fe.jsxs)("small",{children:["FactoryAddress: ",e.movement.factoryAddress]})}),Object(fe.jsx)("p",{children:Object(fe.jsxs)("small",{children:["MovementAddress: ",e.movement.movementAddress]})})]})})}function Ao(){var e=Object(Ie.f)().account,t=Object(be.useState)(!0),n=Object(_e.a)(t,2),a=n[0],o=n[1],s=Object(be.useState)([]),i=Object(_e.a)(s,2),u=i[0],d=i[1],l=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract}));return Object(be.useEffect)((function(){var e=function(){var e=Object(Ue.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=null===l||void 0===l?void 0:l.instance.methods.getMovements())){e.next=8;break}return e.next=4,t.call();case 4:n=e.sent,console.log(n),d(u.concat.apply(u,Object(r.a)(n.map((function(e){var t=e.substr(2),n="0x".concat(t.substring(40,t.length-40));return{factoryAddress:"0x".concat(t.substr(0,40)),movementAddress:"0x".concat(t.substr(40+n.length-2,40)),name:Object(Ga.hexToAscii)(n)}}))))),o(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l,e]),Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)(Ca,{className:"section-wrapper",children:[Object(fe.jsx)("h3",{children:"Createad Movemets"}),a?Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})}):Object(fe.jsx)("div",{className:"grid--fluid grid-container",children:Object(fe.jsx)(fe.Fragment,{children:0!==(null===u||void 0===u?void 0:u.length)&&u?Object(fe.jsx)("div",{className:"grid__cards",children:null===u||void 0===u?void 0:u.map((function(e){return Object(fe.jsx)(xo,{movement:e},e.factoryAddress)}))}):Object(fe.jsx)("p",{className:"text-center",children:"No active movement, yet!"})})})]})})}function go(){return Object(fe.jsxs)(No,{children:[Object(fe.jsx)(Bc,{adapterName:Jr.a.MOVEMENT,proposalLinkPath:function(e){return"/movements/".concat(e)}}),Object(fe.jsx)(Ao,{})]})}function No(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Movements"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/movement")},children:"Make Movement"})]}),e.children]})})}function Eo(){var e=Object(le.f)(),t=Object(Ie.f)(),n=t.connected,r=t.account,a=t.web3Instance,o=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.MovementContract})),s=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),i=Object(Pa.i)(),u=i.proposalData,d=(i.proposalSignAndSendStatus,i.signAndSendProposal),l=Object(Ie.b)().average,b=Object(Ie.a)(),j=(b.txError,b.txEtherscanURL,b.txIsPromptOpen,b.txSend),f=(b.txStatus,Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"})),O=f.errors,h=f.getValues,m=f.setValue,v=f.register,A=f.trigger,g=(f.watch,Object(be.useState)()),N=Object(_e.a)(g,2),E=(N[0],N[1]),w=Object(be.useState)(!1),y=Object(_e.a)(w,2),_=y[0],I=(y[1],Object(be.useState)(!1)),C=Object(_e.a)(I,2),S=C[0],T=(C[1],!1),D=n&&r;function k(e){return R.apply(this,arguments)}function R(){return(R=Object(Ue.a)(Me.a.mark((function t(n){var c,i,b,f,p,O,h,m,v,A,g,N,w,y,_,I,C,S,T,k,R,P,F,L,B;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,D){t.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(o){t.next=5;break}throw new Error("No MovementContract found.");case 5:if(r){t.next=7;break}throw new Error("No account found.");case 7:if(a){t.next=9;break}throw new Error("No Web3 instance was found.");case 9:if(c=n.tokenSymbol,i=n.shortDescription,b=n.name,f=n.description,p=n.fundingGoal,O=n.startingReservers,h=n.startPrice,m=n.stopPrice,v=n.annualizedDeflationFee,A=n.fixedBuySideTransactionFee,g=n.fixedSellSideTransactionFee,N=n.vestingPeriod,w=n.sypplementalVestingPenalty,y=n.projectVotingPeriod,{fundingGoal:p,startingReservers:O,startPrice:h,stopPrice:m,annualizedDeflationFee:v,fixedBuySideTransactionFee:A,fixedSellSideTransactionFee:g,vestingPeriod:N,sypplementalVestingPenalty:w,projectVotingPeriod:y},_=(null===u||void 0===u?void 0:u.uniqueId)||"",I=null===u||void 0===u?void 0:u.data,C=(null===u||void 0===u?void 0:u.signature)||"",_){t.next=25;break}return S=Math.floor(Date.now()/1e3),t.next=18,d({partialProposalData:{name:b,body:f,metadata:{tokenSymbol:c,shortDescription:i,fundingGoal:p,startingReservers:O,startPrice:h,stopPrice:m,annualizedDeflationFee:v,fixedBuySideTransactionFee:A,fixedSellSideTransactionFee:g,vestingPeriod:N,sypplementalVestingPenalty:w,projectVotingPeriod:y},timestamp:S.toString()},adapterName:pa.a.movement,type:ka.SnapshotType.proposal});case 18:T=t.sent,k=T.uniqueId,R=T.data,P=T.signature,_=k,I=R,C=P;case 25:return F=I?Object(ka.prepareVoteProposalData)({payload:{name:I.payload.name,body:I.payload.body,choices:I.payload.choices,snapshot:I.payload.snapshot.toString(),start:I.payload.start,end:I.payload.end},submitter:r||"",sig:C,space:I.space,timestamp:parseInt(I.timestamp)},a):"",L=[(null===s||void 0===s?void 0:s.contractAddress)||"",_,b,"https://google.com/",F],B=Object(x.a)({from:r||""},l?{gasPrice:l}:null),t.next=30,j("submitProposal",o.instance.methods,L,B);case 30:e.push("/movements/".concat(_)),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(0),console.log(t.t0),E(t.t0);case 37:case"end":return t.stop()}}),t,null,[[0,33]])})))).apply(this,arguments)}return Object(fe.jsx)(wo,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Name"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(fo.name),"aria-invalid":O.name?"true":"false",name:fo.name,placeholder:"Turtle Nation",ref:v({validate:function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?!(t.length>30)||oa.a.MAX_LENGHT_STRING:oa.a.REQUIRED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:T}),Object(fe.jsx)("small",{children:"30 characters max"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.name,O),id:"error-".concat(fo.name)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Short Description"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(fo.shortDescription),"aria-invalid":O.shortDescription?"true":"false",name:fo.shortDescription,placeholder:"Bringing visability to the turtles.",ref:v({validate:function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?!(t.length>140)||oa.a.MAX_LENGHT_STRING:oa.a.REQUIRED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:T}),Object(fe.jsx)("small",{children:"140 characters max"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.shortDescription,O),id:"error-".concat(fo.shortDescription)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Token Symbol"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(fe.jsx)("input",{"aria-describedby":"error-".concat(fo.tokenSymbol),"aria-invalid":O.tokenSymbol?"true":"false",name:fo.tokenSymbol,placeholder:"TED",ref:v({validate:function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?!(t.length>4)||oa.a.MAX_LENGHT_STRING:oa.a.REQUIRED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:T}),Object(fe.jsx)("small",{children:"4 characters max"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.tokenSymbol,O),id:"error-".concat(fo.tokenSymbol)})]})]}),Object(fe.jsxs)("div",{className:"form__textarea-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsx)("textarea",{name:fo.description,placeholder:"Transactions purpose...",ref:v,disabled:T})})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Funding Goal"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.fundingGoal),"aria-invalid":O.fundingGoal?"true":"false",name:fo.fundingGoal,placeholder:"50,000",onChange:function(){return m(fo.fundingGoal,Object(p.e)(h().fundingGoal))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"$"})]}),Object(fe.jsx)("small",{children:"Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.fundingGoal,O),id:"error-".concat(fo.fundingGoal)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Starting Reservers"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.startingReservers),"aria-invalid":O.startingReservers?"true":"false",name:fo.startingReservers,placeholder:"1,000",onChange:function(){return m(fo.startingReservers,Object(p.e)(h().startingReservers))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"$"})]}),Object(fe.jsx)("small",{children:"Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.startingReservers,O),id:"error-".concat(fo.startingReservers)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Start Price"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.startPrice),"aria-invalid":O.startPrice?"true":"false",name:fo.startPrice,placeholder:"0.001",onChange:function(){return m(fo.startPrice,Object(p.e)(h().startPrice))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"$"})]}),Object(fe.jsx)("small",{children:"Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.startPrice,O),id:"error-".concat(fo.startPrice)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Stop Price"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.stopPrice),"aria-invalid":O.stopPrice?"true":"false",name:fo.stopPrice,placeholder:"5",onChange:function(){return m(fo.stopPrice,Object(p.e)(h().stopPrice))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"$"})]}),Object(fe.jsx)("small",{children:"OPTIONAL. Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.stopPrice,O),id:"error-".concat(fo.stopPrice)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Annualized Deflation Fee"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.annualizedDeflationFee),"aria-invalid":O.annualizedDeflationFee?"true":"false",name:fo.annualizedDeflationFee,placeholder:"5",onChange:function(){return m(fo.annualizedDeflationFee,Object(p.e)(h().annualizedDeflationFee))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"%"})]}),Object(fe.jsx)("small",{children:"OPTIONAL. Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.annualizedDeflationFee,O),id:"error-".concat(fo.annualizedDeflationFee)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Fixed Buy Side Transaction Fee"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.fixedBuySideTransactionFee),"aria-invalid":O.fixedBuySideTransactionFee?"true":"false",name:fo.fixedBuySideTransactionFee,placeholder:"0.25",onChange:function(){return m(fo.fixedBuySideTransactionFee,Object(p.e)(h().fixedBuySideTransactionFee))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"%"})]}),Object(fe.jsx)("small",{children:"OPTIONAL. Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.fixedBuySideTransactionFee,O),id:"error-".concat(fo.fixedBuySideTransactionFee)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Fixed Sell Side Transaction Fee"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.fixedSellSideTransactionFee),"aria-invalid":O.fixedSellSideTransactionFee?"true":"false",name:fo.fixedSellSideTransactionFee,placeholder:"0.50",onChange:function(){return m(fo.fixedSellSideTransactionFee,Object(p.e)(h().fixedSellSideTransactionFee))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"%"})]}),Object(fe.jsx)("small",{children:"OPTIONAL. Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.fixedSellSideTransactionFee,O),id:"error-".concat(fo.fixedSellSideTransactionFee)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Vesting period"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.vestingPeriod),"aria-invalid":O.vestingPeriod?"true":"false",name:fo.vestingPeriod,placeholder:"2",onChange:function(){return m(fo.vestingPeriod,Object(p.e)(h().vestingPeriod))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:!isNaN(t)||oa.a.INVALID_NUMBER}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"weeks"})]}),Object(fe.jsx)("small",{children:'Enter "0" to remove vesting. Numbers only'}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.vestingPeriod,O),id:"error-".concat(fo.vestingPeriod)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Sypplemental Vesting Penalty"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.sypplementalVestingPenalty),"aria-invalid":O.sypplementalVestingPenalty?"true":"false",name:fo.sypplementalVestingPenalty,placeholder:"20",onChange:function(){return m(fo.sypplementalVestingPenalty,Object(p.e)(h().sypplementalVestingPenalty))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:!(t<=0)||"The value must be greater than 0."}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"%"})]}),Object(fe.jsx)("small",{children:"Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.sypplementalVestingPenalty,O),id:"error-".concat(fo.sypplementalVestingPenalty)})]})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Project Voting Period"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(fo.projectVotingPeriod),"aria-invalid":O.projectVotingPeriod?"true":"false",name:fo.projectVotingPeriod,placeholder:"2",onChange:function(){return m(fo.projectVotingPeriod,Object(p.e)(h().projectVotingPeriod))},ref:v({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:!isNaN(t)||oa.a.INVALID_NUMBER}}),type:"text",disabled:T}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"weeks"})]}),Object(fe.jsx)("small",{children:"Numbers only"}),Object(fe.jsx)(ma,{error:Object(p.g)(fo.projectVotingPeriod,O),id:"error-".concat(fo.projectVotingPeriod)})]})]}),Object(fe.jsx)("button",{className:"button",disabled:T,onClick:Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.next=4,A();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:k(h());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:_?Object(fe.jsx)(va.a,{}):S?"Done":"Next"})]})})}function wo(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Movement Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.type="type",e.tokenSymbol="tokenSymbol",e.shortDescription="shortDescription",e.name="name",e.amount="amount",e.description="description",e.fundingGoal="fundingGoal",e.startingReservers="startingReservers",e.startPrice="startPrice",e.stopPrice="stopPrice",e.annualizedDeflationFee="annualizedDeflationFee",e.fixedBuySideTransactionFee="fixedBuySideTransactionFee",e.fixedSellSideTransactionFee="fixedSellSideTransactionFee",e.vestingPeriod="vestingPeriod",e.sypplementalVestingPenalty="sypplementalVestingPenalty",e.projectVotingPeriod="projectVotingPeriod"}(fo||(fo={}));function yo(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal;return t.status===Ra.c.Completed&&n&&Fc.b[n]===Fc.b[Fc.b.PASS]?Object(fe.jsx)(oo,{proposal:r}):null}if(c===Ce.a.PENDING&&!s)return Object(fe.jsx)(_o,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})});if(a)return Object(fe.jsx)(_o,{children:Object(fe.jsx)(oc,{})});if(s)return Object(fe.jsx)(_o,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.transferAmount,l=b.transferAmountUnit}catch(s){d="\u2014",l=""}return Object(fe.jsx)(_o,{children:Object(fe.jsx)(sc,{proposal:n,renderAmountBadge:function(){return Object(fe.jsx)(qc,{amount:d,amountUnit:l})},renderActions:function(){return Object(fe.jsx)(Hc,{adapterName:pa.a.movement,proposal:n,renderAction:i})}})})}return Object(fe.jsx)(fe.Fragment,{})}function _o(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Movements"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/movements")},children:"View all"})]}),e.children]})})}function Io(){function e(e){return"/unagii-vaults/".concat(e)}return Object(fe.jsxs)(Co,{children:[Object(fe.jsx)("h2",{children:"Unagii Vaults Deposit"}),Object(fe.jsx)(Bc,{adapterName:Jr.a.UNAGII_DEPOSIT,proposalLinkPath:e}),Object(fe.jsx)("h2",{children:"Unagii Vaults Withdraw"}),Object(fe.jsx)(Bc,{adapterName:Jr.a.UNAGII_WITHDRAW,proposalLinkPath:e})]})}function Co(e){var t=Object(le.f)();function n(e,n){e.preventDefault(),t.push("/unagii-vaults/".concat(n))}return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Unagii Vaults"}),Object(fe.jsxs)("div",{className:"button-action",children:[Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){return n(e,"deposit")},children:"Make deposit"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){return n(e,"withdraw")},children:"Make withdraw"})]})]}),e.children]})})}var So,To,Do=function(e,t,n){return new e.eth.Contract([{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],t,{from:n})},ko=function(){var e=Object(Ue.a)(Me.a.mark((function e(t,n,r){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.balanceOf(n).call();case 2:return a=e.sent,e.abrupt("return",Math.round(+r.utils.fromWei(a,"ether")));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Ro(){var e,t,n="0x9ce3018375d305CE3C3303A26eF62D3d2EB8561A",r=Object(be.useState)(""),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=Object(be.useState)(""),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Object(be.useState)(0),j=Object(_e.a)(b,2),f=j[0],p=j[1],O=Object(be.useState)(""),h=Object(_e.a)(O,2),m=h[0],v=h[1],x=Object(Ie.f)(),A=x.account,g=x.web3Instance,N=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),E=(null===N||void 0===N?void 0:N.contractAddress)||"";if(!g)throw new Error("Not web3");var w=new g.eth.Contract([{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],n,{from:A}),y=new g.eth.Contract([{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"}],"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",{from:A});Object(be.useEffect)((function(){var e=function(){var e=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,w.methods.token().call();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=l,e.next=8,w.methods.uToken().call();case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=v,e.next=13,y.methods.WETH().call();case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()})),A&&o&&(e=Do(g,o,A)),A&&d&&(t=Do(g,o,A));var _=function(){var e=Object(Ue.a)(Me.a.mark((function e(n){var r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=5;break}return e.next=3,w.methods.uToken().call();case 3:r=e.sent,t=Do(g,r,A||"");case 5:return e.t0=p,e.next=8,ko(t,n,g);case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",f);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var t=Object(Ue.a)(Me.a.mark((function t(n){var r;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=5;break}return t.next=3,w.methods.token().call();case 3:r=t.sent,e=Do(g,r,A||"");case 5:return t.t0=p,t.next=8,ko(e,n,g);case 8:return t.t1=t.sent,(0,t.t0)(t.t1),t.abrupt("return",f);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{UNAGII_DAI_VAULT_ADDRESS:n,account:A,web3Instance:g,uTokenBalance:_,tokenBalance:I,swapExactETHForTokens:function(e){return y.methods.swapExactETHForTokens(g.utils.toBN("1"),[m,o],E,g.utils.toBN("1650370580")).send({from:A,value:g.utils.toBN(g.utils.toWei(e,"ether")),gasPrice:g.utils.toBN("0")})}}}function Po(){var e=Object(le.f)(),t=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),n=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.UnagiiDeposit})),r=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),a=Object(Ie.a)().txSend,o=Object(Pa.i)(),s=o.proposalData,i=o.signAndSendProposal,u=Object(be.useState)(0),d=Object(_e.a)(u,2),l=d[0],b=d[1],j=Ro(),f=j.UNAGII_DAI_VAULT_ADDRESS,O=j.tokenBalance,h=j.account,m=j.web3Instance,v=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),A=v.errors,g=v.getValues,N=v.setValue,E=v.register;v.trigger,v.watch;Object(be.useEffect)((function(){var e=function(){var e=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.contractAddress)){e.next=6;break}return e.t0=b,e.next=4,O(null===t||void 0===t?void 0:t.contractAddress);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var w=Object(be.useState)(!1),y=Object(_e.a)(w,2),_=y[0],I=y[1],C=Object(Ie.b)().average;function S(){return(S=Object(Ue.a)(Me.a.mark((function t(c){var o,u,d,l,b,j,p,O,v,A,g,N;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n){t.next=3;break}throw new Error("No UnagiiWithdrawContract found.");case 3:if(h){t.next=5;break}throw new Error("No account found.");case 5:if(m){t.next=7;break}throw new Error("No Web3 instance was found.");case 7:if(I(!0),o=c.amount,u=(null===s||void 0===s?void 0:s.uniqueId)||"",d=null===s||void 0===s?void 0:s.data,l=(null===s||void 0===s?void 0:s.signature)||"",u){t.next=23;break}return b=Math.floor(Date.now()/1e3),t.next=16,i({partialProposalData:{name:"Deposit unagii vaults",body:"Deposit unagii vaults amount ".concat(o),metadata:{amount:o},timestamp:b.toString()},adapterName:pa.a.unagii_deposit,type:ka.SnapshotType.proposal});case 16:j=t.sent,p=j.uniqueId,O=j.data,v=j.signature,u=p,d=O,l=v;case 23:return A=d?Object(ka.prepareVoteProposalData)({payload:{name:d.payload.name,body:d.payload.body,choices:d.payload.choices,snapshot:d.payload.snapshot.toString(),start:d.payload.start,end:d.payload.end},submitter:h||"",sig:l,space:d.space,timestamp:parseInt(d.timestamp)},m):"",g=[(null===r||void 0===r?void 0:r.contractAddress)||"",u,f,m.utils.toBN(o).toString(),A],N=Object(x.a)({from:h||""},C?{gasPrice:C}:null),t.next=28,a("submitProposal",n.instance.methods,g,N);case 28:e.push("/unagii-vaults/".concat(u)),t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),console.log(t.t0),I(!1);case 35:case"end":return t.stop()}}),t,null,[[0,31]])})))).apply(this,arguments)}return Object(fe.jsx)(Fo,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Token"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsx)("select",{name:So.token,ref:E,children:Object(fe.jsx)("option",{value:"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735",children:"Dai Stablecoin"})})})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(So.amount),"aria-invalid":A.amount?"true":"false",name:So.amount,onChange:function(){return N(So.amount,Object(p.e)(g().amount))},ref:E({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text"}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"DAI"})]}),Object(fe.jsx)(ma,{error:Object(p.g)(So.amount,A),id:"error-".concat(So.amount)}),Object(fe.jsx)("div",{className:"form__input-description"})]}),Object(fe.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(fe.jsxs)("span",{children:[" ",l]})]})]}),Object(fe.jsx)("button",{className:"button",onClick:function(){!function(e){S.apply(this,arguments)}(g())},type:"submit",children:_?Object(fe.jsx)(va.a,{}):"Submit"})]})})}function Fo(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Unagii Vault Deposit Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function Lo(){var e=Object(le.f)(),t=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.UnagiiWithdraw})),n=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),r=Object(Pa.i)(),a=r.proposalData,o=r.signAndSendProposal,s=Object(Ie.a)().txSend,i=Object(be.useState)(0),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Ro(),j=b.UNAGII_DAI_VAULT_ADDRESS,f=b.uTokenBalance,O=b.account,h=b.web3Instance,m=Object(ja.a)({mode:"onBlur",reValidateMode:"onChange"}),v=Object(Ie.b)().average,A=m.errors,g=m.getValues,N=m.setValue,E=m.register,w=Object(be.useState)(!1),y=Object(_e.a)(w,2),_=y[0],I=y[1];function C(){return(C=Object(Ue.a)(Me.a.mark((function r(c){var i,u,d,l,b,f,p,m,A,g,N,E;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t){r.next=3;break}throw new Error("No UnagiiWithdrawContract found.");case 3:if(O){r.next=5;break}throw new Error("No account found.");case 5:if(h){r.next=7;break}throw new Error("No Web3 instance was found.");case 7:if(I(!0),i=c.amount,u=(null===a||void 0===a?void 0:a.uniqueId)||"",d=null===a||void 0===a?void 0:a.data,l=(null===a||void 0===a?void 0:a.signature)||"",u){r.next=23;break}return b=Math.floor(Date.now()/1e3),r.next=16,o({partialProposalData:{name:"Withdraw unagii vaults",body:"Withdraw unagii vaults amount ".concat(i),metadata:{amount:i},timestamp:b.toString()},adapterName:pa.a.unagii_withdraw,type:ka.SnapshotType.proposal});case 16:f=r.sent,p=f.uniqueId,m=f.data,A=f.signature,u=p,d=m,l=A;case 23:return g=d?Object(ka.prepareVoteProposalData)({payload:{name:d.payload.name,body:d.payload.body,choices:d.payload.choices,snapshot:d.payload.snapshot.toString(),start:d.payload.start,end:d.payload.end},submitter:O||"",sig:l,space:d.space,timestamp:parseInt(d.timestamp)},h):"",N=[(null===n||void 0===n?void 0:n.contractAddress)||"",u,j,h.utils.toBN(i).toString(),g],E=Object(x.a)({from:O||""},v?{gasPrice:v}:null),r.next=28,s("submitProposal",t.instance.methods,N,E);case 28:e.push("/unagii-vaults/".concat(u)),r.next=35;break;case 31:r.prev=31,r.t0=r.catch(0),console.log(r.t0),I(!1);case 35:case"end":return r.stop()}}),r,null,[[0,31]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){var e=function(){var e=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.contractAddress)){e.next=6;break}return e.t0=l,e.next=4,f(null===t||void 0===t?void 0:t.contractAddress);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(fe.jsx)(Bo,{children:Object(fe.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Token"}),Object(fe.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(fe.jsx)("select",{name:To.token,ref:E,children:Object(fe.jsx)("option",{value:"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735",children:"Dai Stablecoin"})})})]}),Object(fe.jsxs)("div",{className:"form__input-row",children:[Object(fe.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(fe.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(fe.jsxs)("div",{className:"input__suffix-wrap",children:[Object(fe.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(To.amount),"aria-invalid":A.amount?"true":"false",name:To.amount,onChange:function(){return N(To.amount,Object(p.e)(g().amount))},ref:E({validate:function(e){var t=Number(Object(p.k)(e));return""===e?oa.a.REQUIRED:isNaN(t)?oa.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>d?"Pleace make a deposit.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text"}),Object(fe.jsx)("div",{className:"input__suffix-item",children:"DAI"})]}),Object(fe.jsx)(ma,{error:Object(p.g)(To.amount,A),id:"error-".concat(To.amount)}),Object(fe.jsx)("div",{className:"form__input-description"})]}),Object(fe.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(fe.jsxs)("span",{children:[" ",d]})]})]}),Object(fe.jsx)("button",{className:"button",onClick:function(){!function(e){C.apply(this,arguments)}(g())},type:"submit",children:_?Object(fe.jsx)(va.a,{}):"Submit"})]})})}function Bo(e){return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{className:"titlebar",children:Object(fe.jsx)("h2",{className:"titlebar__title",children:"Unagii Vault Withdraw Proposal"})}),Object(fe.jsxs)("div",{className:"form-wrapper",children:[Object(fe.jsx)("div",{className:"form__description",children:Object(fe.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.token="token",e.amount="amount"}(So||(So={})),function(e){e.token="token",e.amount="amount"}(To||(To={}));function Mo(){var e=Object(le.h)().proposalId,t=Object(Pa.d)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,o=Object(Ie.d)().defaultChainError,s=r||o;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal;return t.status===Ra.c.Completed&&n&&Fc.b[n]===Fc.b[Fc.b.PASS]?Object(fe.jsx)(oo,{proposal:r}):null}if(c===Ce.a.PENDING&&!s)return Object(fe.jsx)(Uo,{children:Object(fe.jsx)("div",{className:"loader--large-container",children:Object(fe.jsx)(cc.a,{})})});if(a)return Object(fe.jsx)(Uo,{children:Object(fe.jsx)(oc,{})});if(s)return Object(fe.jsx)(Uo,{children:Object(fe.jsx)("div",{className:"text-center",children:Object(fe.jsx)(Oa.a,{error:s,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.transferAmount,l=b.transferAmountUnit}catch(s){d="\u2014",l=""}return Object(fe.jsx)(Uo,{children:Object(fe.jsx)(sc,{proposal:n,renderAmountBadge:function(){return Object(fe.jsx)(qc,{amount:d,amountUnit:l})},renderActions:function(){return Object(fe.jsx)(Hc,{adapterName:pa.a.movement,proposal:n,renderAction:i})}})})}return Object(fe.jsx)(fe.Fragment,{})}function Uo(e){var t=Object(le.f)();return Object(fe.jsx)(Ca,{className:"section-wrapper",children:Object(fe.jsxs)(Un.a,{children:[Object(fe.jsxs)("div",{className:"titlebar",children:[Object(fe.jsx)("h2",{className:"titlebar__title",children:"Unagii Vaults"}),Object(fe.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/unagii-vaults")},children:"View all"})]}),e.children]})})}var Go,Vo=":proposalId";function Wo(){return Object(fe.jsx)(le.c,{children:[Object(fe.jsx)(le.a,{exact:!0,path:"/",render:function(){return Object(fe.jsx)(nc,{})}},"splash"),Object(fe.jsx)(le.a,{exact:!0,path:"/join",render:function(){return Object(fe.jsx)(Wa,{})}},"join"),Object(fe.jsx)(le.a,{exact:!0,path:"/membership",render:function(){return Object(fe.jsx)(Mc,{})}},"membership"),Object(fe.jsx)(le.a,{exact:!0,path:"/membership/".concat(Vo),render:function(){return Object(fe.jsx)(Qc,{})}},"membership-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/transfer",render:function(){return Object(fe.jsx)(qa,{})}},"transfer"),Object(fe.jsx)(le.a,{exact:!0,path:"/transfers",render:function(){return Object(fe.jsx)(uo,{})}},"transfers"),Object(fe.jsx)(le.a,{exact:!0,path:"/transfers/".concat(Vo),render:function(){return Object(fe.jsx)(so,{})}},"transfer-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/tribute",render:function(){return Object(fe.jsx)(Ja,{})}},"tribute"),Object(fe.jsx)(le.a,{exact:!0,path:"/tributes",render:function(){return Object(fe.jsx)(mo,{})}},"tributes"),Object(fe.jsx)(le.a,{exact:!0,path:"/tributes/".concat(Vo),render:function(){return Object(fe.jsx)(Oo,{})}},"tribute-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(fe.jsx)(Ba,{})}},"governance-proposal"),Object(fe.jsx)(le.a,{exact:!0,path:"/governance",render:function(){return Object(fe.jsx)(Oc,{})}},"governance-proposals"),Object(fe.jsx)(le.a,{exact:!0,path:"/governance/".concat(Vo),render:function(){return Object(fe.jsx)(ic,{})}},"governance-proposal-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/movements",render:function(){return Object(fe.jsx)(go,{})}},"movements"),Object(fe.jsx)(le.a,{exact:!0,path:"/unagii-vaults",render:function(){return Object(fe.jsx)(Io,{})}},"unagii-vaults"),Object(fe.jsx)(le.a,{exact:!0,path:"/unagii-vaults/deposit",render:function(){return Object(fe.jsx)(Po,{})}},"unagii-vaults-deposit"),Object(fe.jsx)(le.a,{exact:!0,path:"/unagii-vaults/withdraw",render:function(){return Object(fe.jsx)(Lo,{})}},"unagii-vaults-withdraw"),Object(fe.jsx)(le.a,{exact:!0,path:"/unagii-vaults/".concat(Vo),render:function(){return Object(fe.jsx)(Mo,{})}},"unagii-vaults-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/movement",render:function(){return Object(fe.jsx)(Eo,{})}},"movement"),Object(fe.jsx)(le.a,{exact:!0,path:"/movements/".concat(Vo),render:function(){return Object(fe.jsx)(yo,{})}},"movement-details"),Object(fe.jsx)(le.a,{exact:!0,path:"/members",render:function(){return Object(fe.jsx)(kc,{})}},"members"),Object(fe.jsx)(le.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(fe.jsx)(Sc,{})}},"member-profile"),Object(fe.jsx)(le.a,{exact:!0,path:"/dao-manager",render:function(){return Object(fe.jsx)(Sa,{})}},"dao-manager"),Object(fe.jsx)(le.a,{exact:!0,path:"/redeem",render:function(){return Object(fe.jsx)(ao,{})}},"redeem"),Object(fe.jsx)(le.a,{component:oc},"no-match")]})}function Yo(e){var t=Object(le.g)().pathname,n=(e||{}).renderMainContent,r=Object(fe.jsx)("main",{children:n?n():Object(fe.jsx)(Wo,{})});return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(ke,{}),"/"===t?Object(fe.jsx)(fe.Fragment,{children:r}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(qr,{}),r,Object(fe.jsx)(ye,{})]}),Object(fe.jsx)(Te,{})]})}function Ko(e){var t=e.render,n=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(be.useState)(),a=Object(_e.a)(r,2),o=a[0],s=a[1],i=Object(be.useState)(!1),u=Object(_e.a)(i,2),d=u[0],l=u[1],b=Object(be.useState)(Object(Qr.a)({},Go.initSnapshotAPI,Ce.a.STANDBY)),p=Object(_e.a)(b,2),O=p[0],h=p[1],m=Object(Ie.f)(),v=m.account,A=m.web3Instance,g=Object(Ie.d)().isDefaultChain,N=Object(Xt.f)().isMountedRef,E=Object(Ie.c)(),w=Object(c.b)(),y=Object(be.useCallback)((function(){return S.apply(this,arguments)}),[E,g,A]),_=Object(be.useCallback)((function(){return T.apply(this,arguments)}),[v,n,w,g,A]),I=Object(be.useCallback)((function(){return C.apply(this,arguments)}),[N]);function C(){return(C=Object(Ue.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.C){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(ka.getApiStatus)(j.C);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(N.current){e.next=11;break}return e.abrupt("return");case 11:h((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Qr.a)({},Go.initSnapshotAPI,Ce.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),N.current){e.next=18;break}return e.abrupt("return");case 18:s(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function S(){return(S=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g&&A){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E({web3Instance:A});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(){return(T=Object(Ue.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v&&n&&g&&A){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,w(Object(f.A)({account:v,daoRegistryContract:n,web3Instance:A}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(be.useEffect)((function(){l(Object.values(O).every((function(e){return e===Ce.a.FULFILLED})))}),[O]),Object(be.useEffect)((function(){y()}),[y,A]),Object(be.useEffect)((function(){_()}),[_]),Object(be.useEffect)((function(){I()}),[I]),t({error:o,isInitComplete:d})}function Ho(e){var t=e.error;return Object(fe.jsxs)(Un.a,{children:[Object(fe.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(fe.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(fe.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(fe.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(fe.jsx)(Oa.a,{error:t,renderText:""})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(Go||(Go={}));var zo=function(e){e&&e instanceof Function&&n.e(10).then(n.bind(null,1115)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},qo=n(254),Qo=(n(1051),document.getElementById("root"));"production"===j.m&&Object(p.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var Jo=function(e){return new i.a({link:Object(u.a)(Object(O.e)(e),new d.a({uri:function(e){var t=e.operationName;return"".concat(j.s,"?").concat(t)}})),cache:new l.a({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}}}})})},Xo=new b.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});null!==Qo&&Object(a.render)(Object(fe.jsx)(c.a,{store:de,children:Object(fe.jsx)(o.a,{children:Object(fe.jsx)(qo.b,{onBeforeDisconnect:function(){de.dispatch(Object(f.w)()),de.dispatch(Object(f.x)())},onBeforeConnect:function(){de.dispatch(Object(f.x)())},providerOptions:j.J,children:Object(fe.jsx)(s.a,{client:Jo(de),children:Object(fe.jsx)(b.QueryClientProvider,{client:Xo,children:Object(fe.jsx)(Ko,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(fe.jsxs)(hn,{children:[Object(fe.jsx)(wn,{}),Object(fe.jsx)(Yo,{renderMainContent:function(){return Object(fe.jsx)(Ho,{error:t})}})]}):n?Object(fe.jsxs)(hn,{children:[Object(fe.jsx)(wn,{}),Object(fe.jsx)(Yo,{})]}):null}})})})})})}),Qo),zo()},11:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return A.a}));var a=n(4);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),o=c[0],s=c[1];t[o]="function"===typeof s?e:null}}function o(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function s(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")},u={days:0,hours:0,minutes:0,seconds:0,total:0};function d(e){var t=new Date;if(e<=t)return u;var n=e.getTime()-t.getTime(),r=Math.floor(n/1e3%60),a=Math.floor(n/1e3/60%60),c=Math.floor(n/36e5%24);return{days:Math.floor(n/864e5),hours:c,minutes:a,seconds:r,total:n}}function l(e,t){return t[e]&&"message"in t[e]?t[e].message:""}var b=n(2),j=n.n(b),f=n(5);function p(e){return e.toLowerCase().trim()}function O(e,t){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getCode(p(t));case 3:return r=e.sent,a=!r||"0x"===r||"0x0"===r||"0x00"===r,e.abrupt("return",!1===a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var m=n(39);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e+1-t;return Object(m.a)(Array(n)).map((function(e,n){return t+n}))}var x=function(e){return e.toString().replace(/,/g,"")};var A=n(240);n(31)},111:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.OK="OK",e.ERR="ERR"}(r||(r={}))},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},12:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return ue})),n.d(t,"C",(function(){return de})),n.d(t,"g",(function(){return le})),n.d(t,"s",(function(){return be})),n.d(t,"c",(function(){return je})),n.d(t,"d",(function(){return fe})),n.d(t,"k",(function(){return pe})),n.d(t,"o",(function(){return Oe})),n.d(t,"n",(function(){return ve})),n.d(t,"J",(function(){return xe})),n.d(t,"j",(function(){return Ae})),n.d(t,"h",(function(){return ge})),n.d(t,"b",(function(){return Ne})),n.d(t,"I",(function(){return Ee})),n.d(t,"e",(function(){return we})),n.d(t,"B",(function(){return ye})),n.d(t,"v",(function(){return _e})),n.d(t,"q",(function(){return Ie})),n.d(t,"A",(function(){return Ce})),n.d(t,"t",(function(){return Se})),n.d(t,"i",(function(){return Te})),n.d(t,"a",(function(){return De})),n.d(t,"y",(function(){return ke})),n.d(t,"f",(function(){return Re})),n.d(t,"F",(function(){return Pe})),n.d(t,"l",(function(){return Fe})),n.d(t,"G",(function(){return Le})),n.d(t,"z",(function(){return Be})),n.d(t,"x",(function(){return Me})),n.d(t,"u",(function(){return Ue})),n.d(t,"E",(function(){return Ge})),n.d(t,"H",(function(){return Ve})),n.d(t,"w",(function(){return We})),n.d(t,"p",(function(){return Ye})),n.d(t,"D",(function(){return Ke})),n.d(t,"r",(function(){return He}));var r,a,c,o,s,i,u,d,l,b,j,f,p,O,h,m,v,x,A,g,N,E,w,y=n(9),_=n(511),I=n(154),C=n(321),S=n(543);Object(_.config)({path:Object(C.resolve)(e,"../.env")});var T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"6d106b8213de41e9921e1198c69a5cc4",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x88c452b13bc0818070374742b627fa6e8622d9ce",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0x442952c1046439F730d7E373FF580FeB81A2709d",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_COUPON_API_URL:"https://snapshot.ted-dao.xyz",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_GRAPH_API_URL:"https://api.studio.thegraph.com/query/9237/ted-monorepo/v0.0.1"}),D=T.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,k=T.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,R=T.REACT_APP_ENVIRONMENT,P=T.REACT_APP_GRAPH_API_URL,F=T.REACT_APP_INFURA_PROJECT_ID_DEV,L=T.REACT_APP_INFURA_PROJECT_ID_LOCAL,B=T.REACT_APP_INFURA_PROJECT_ID_PROD,M=T.REACT_APP_MULTICALL_CONTRACT_ADDRESS,U=T.REACT_APP_SNAPSHOT_HUB_API_URL,G=T.REACT_APP_COUPON_API_URL,V=T.REACT_APP_SNAPSHOT_SPACE,W=T.REACT_APP_DAO_FACTORY_CONTRACT_ADDRESS_RINKEBY,Y=T.REACT_APP_BANK_FACTORY_CONTRACT_ADDRESS_RINKEBY,K=T.REACT_APP_NFT_COLLECTION_FACTORY_CONTRACT_ADDRESS_RINKEBY,H=T.REACT_APP_ERC20_TOKEN_FACTORY_CONTRACT_ADDRESS_RINKEBY,z=T.REACT_APP_VOTING_CONTRACT_ADDRESS_RINKEBY,q=T.REACT_APP_CONFIGURATION_CONTRACT_ADDRESS_RINKEBY,Q=T.REACT_APP_RAGEQUIT_CONTRACT_ADDRESS_RINKEBY,J=T.REACT_APP_MANAGING_CONTRACT_ADDRESS_RINKEBY,X=T.REACT_APP_FINANCING_CONTRACT_ADDRESS_RINKEBY,Z=T.REACT_APP_ONBOARDING_CONTRACT_ADDRESS_RINKEBY,$=T.REACT_APP_GUILDKICK_CONTRACT_ADDRESS_RINKEBY,ee=T.REACT_APP_DAO_REGISTRY_ADAPTER_CONTRACT_ADDRESS_RINKEBY,te=T.REACT_APP_BANK_ADAPTER_CONTRACT_ADDRESS_RINKEBY,ne=T.REACT_APP_NFT_ADAPTER_CONTRACT_ADDRESS_RINKEBY,re=T.REACT_APP_COUPONONBOARDING_CONTRACT_ADDRESS_RINKEBY,ae=T.REACT_APP_TRIBUTE_CONTRACT_ADDRESS_RINKEBY,ce=T.REACT_APP_DISTRIBUTE_CONTRACT_ADDRESS_RINKEBY,oe=T.REACT_APP_TRIBUTE_NFT_CONTRACT_ADDRESS_RINKEBY,se=T.REACT_APP_OFFCHAINVOTING_CONTRACT_ADDRESS_RINKEBY,ie=T.REACT_APP_MOVEMENT_ADAPTER_ADDRESS_RINKEBY,ue=R,de=U,le=G,be=P,je={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},fe=(r={},Object(y.a)(r,je.MAINNET,"Main Ethereum Network"),Object(y.a)(r,je.ROPSTEN,"Ropsten Test Network"),Object(y.a)(r,je.RINKEBY,"Rinkeby Test Network"),Object(y.a)(r,je.GOERLI,"G\xf6rli Test Network"),Object(y.a)(r,je.KOVAN,"Kovan Test Network"),Object(y.a)(r,je.GANACHE,"Ganache Test Network"),r),pe="production"===R?je.MAINNET:"development"===R?je.RINKEBY:k?je[k]:je.GANACHE,Oe=(a={},Object(y.a)(a,je.MAINNET,"https://etherscan.io"),Object(y.a)(a,je.ROPSTEN,"https://ropsten.etherscan.io"),Object(y.a)(a,je.RINKEBY,"https://rinkeby.etherscan.io"),Object(y.a)(a,je.GOERLI,"https://goerli.etherscan.io"),Object(y.a)(a,je.KOVAN,"https://kovan.etherscan.io"),a),he=(c={},Object(y.a)(c,je.MAINNET,"wss://mainnet.infura.io/ws/v3"),Object(y.a)(c,je.ROPSTEN,"wss://ropsten.infura.io/ws/v3"),Object(y.a)(c,je.RINKEBY,"wss://rinkeby.infura.io/ws/v3"),Object(y.a)(c,je.GOERLI,"wss://goerli.infura.io/ws/v3"),Object(y.a)(c,je.KOVAN,"wss://kovan.infura.io/ws/v3"),c),me="production"===R?B:"development"===R?F:L,ve=he[pe]?"".concat(he[pe],"/").concat(me):pe===je.GANACHE?"ws://127.0.0.1:7545":"",xe={injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:S.a,options:{infuraId:me,qrcodeModalOptions:{mobileLinks:Object(I.isMobile)()?["rainbow","metamask","argent","trust"]:[]}}}},Ae=D,ge=(o={},Object(y.a)(o,je.MAINNET,""),Object(y.a)(o,je.ROPSTEN,""),Object(y.a)(o,je.RINKEBY,W||"0x534e3e017B3c0ca602360472bC44f8d9eb2aAb8b"),Object(y.a)(o,je.GOERLI,""),Object(y.a)(o,je.KOVAN,""),Object(y.a)(o,je.GANACHE,"0x6d92a8E4aB80adcBbFDA44ef69fe847f82def641"),o),Ne=(s={},Object(y.a)(s,je.MAINNET,""),Object(y.a)(s,je.ROPSTEN,""),Object(y.a)(s,je.RINKEBY,Y||"0xE60E2817bBd7BEaf2CEC0232C958321B97A05D00"),Object(y.a)(s,je.GOERLI,""),Object(y.a)(s,je.KOVAN,""),Object(y.a)(s,je.GANACHE,"0xcD1639FD072113CC86e15f65f1505C6D58Aa7412"),s),Ee=(i={},Object(y.a)(i,je.MAINNET,""),Object(y.a)(i,je.ROPSTEN,""),Object(y.a)(i,je.RINKEBY,K||"0xE60E2817bBd7BEaf2CEC0232C958321B97A05D00"),Object(y.a)(i,je.GOERLI,""),Object(y.a)(i,je.KOVAN,""),Object(y.a)(i,je.GANACHE,"0xcF34FFFBba648719DAe106202674949f1679772B"),u={},Object(y.a)(u,je.MAINNET,""),Object(y.a)(u,je.ROPSTEN,""),Object(y.a)(u,je.RINKEBY,H||"0xbd24407459ad2E75360ceb16bf52d77Ab162dAaD"),Object(y.a)(u,je.GOERLI,""),Object(y.a)(u,je.KOVAN,""),Object(y.a)(u,je.GANACHE,"0x862d71d6E9Be8a7495EfEBa6f2b657b00E629c95"),d={},Object(y.a)(d,je.MAINNET,""),Object(y.a)(d,je.ROPSTEN,""),Object(y.a)(d,je.RINKEBY,z||"0xc9415afc432CC56912f54682cC2Ea80ADdE1a89B"),Object(y.a)(d,je.GOERLI,""),Object(y.a)(d,je.KOVAN,""),Object(y.a)(d,je.GANACHE,"0xfB4E7C2FD8Ceb2757D2C4cE4749ebE326fc369D4"),d),we=(l={},Object(y.a)(l,je.MAINNET,""),Object(y.a)(l,je.ROPSTEN,""),Object(y.a)(l,je.RINKEBY,q||"0x92866ac08edFEAA8C52dEF0c12926FA7E95df8fB"),Object(y.a)(l,je.GOERLI,""),Object(y.a)(l,je.KOVAN,""),Object(y.a)(l,je.GANACHE,"0x65CaCA9F2638Fb2B245E9694f00343F0b6CB6F77"),l),ye=(b={},Object(y.a)(b,je.MAINNET,""),Object(y.a)(b,je.ROPSTEN,""),Object(y.a)(b,je.RINKEBY,Q||"0xD3C2cE38c905B9207e35D7EcE51c17b22EAb4afe"),Object(y.a)(b,je.GOERLI,""),Object(y.a)(b,je.KOVAN,""),Object(y.a)(b,je.GANACHE,"0x314C824Ea4586798DF8B46121E881Defa40CB47E"),b),_e=(j={},Object(y.a)(j,je.MAINNET,""),Object(y.a)(j,je.ROPSTEN,""),Object(y.a)(j,je.RINKEBY,J||"0x03BE4284E9F3E7d1fd19cB0442713609105db7E7"),Object(y.a)(j,je.GOERLI,""),Object(y.a)(j,je.KOVAN,""),Object(y.a)(j,je.GANACHE,"0xeD025b5BA14b8f3A085057b9D7Baa13998343aA8"),j),Ie=(f={},Object(y.a)(f,je.MAINNET,""),Object(y.a)(f,je.ROPSTEN,""),Object(y.a)(f,je.RINKEBY,X||"0xA007fc56f540670F6ba17FD2b3B931FC72A7820a"),Object(y.a)(f,je.GOERLI,""),Object(y.a)(f,je.KOVAN,""),Object(y.a)(f,je.GANACHE,"0x4a7A5946567672c577EaF2b866BCeBc177E455E8"),f),Ce=(p={},Object(y.a)(p,je.MAINNET,""),Object(y.a)(p,je.ROPSTEN,""),Object(y.a)(p,je.RINKEBY,Z||"0x6fA3f2BC09fB13091BF40C6920a9251B72348456"),Object(y.a)(p,je.GOERLI,""),Object(y.a)(p,je.KOVAN,""),Object(y.a)(p,je.GANACHE,"0x4e1Ccf6Bca8d14B670478d8C4e2aEc9f6277A7f5"),p),Se=(O={},Object(y.a)(O,je.MAINNET,""),Object(y.a)(O,je.ROPSTEN,""),Object(y.a)(O,je.RINKEBY,$||"0xf6F042cB61E409dbFE34A5fbC76Db334B7a93364"),Object(y.a)(O,je.GOERLI,""),Object(y.a)(O,je.KOVAN,""),Object(y.a)(O,je.GANACHE,"0x72a011Aa67F8214a146A162A99B322017ad763fD"),O),Te=(h={},Object(y.a)(h,je.MAINNET,""),Object(y.a)(h,je.ROPSTEN,""),Object(y.a)(h,je.RINKEBY,ee||"0x35B3babfB8FF455903f6e89cEaa83140e09495F9"),Object(y.a)(h,je.GOERLI,""),Object(y.a)(h,je.KOVAN,""),Object(y.a)(h,je.GANACHE,"0x4d4243f2d605282CBd27C8391f05b77316d1a561"),h),De=(m={},Object(y.a)(m,je.MAINNET,""),Object(y.a)(m,je.ROPSTEN,""),Object(y.a)(m,je.RINKEBY,te||"0xed65eD0c561E77597E4D8472be1b4b184c31Fde4"),Object(y.a)(m,je.GOERLI,""),Object(y.a)(m,je.KOVAN,""),Object(y.a)(m,je.GANACHE,"0xA8EA078cF1D3837a025329c46A4E0F441Cb2eE87"),m),ke=(v={},Object(y.a)(v,je.MAINNET,""),Object(y.a)(v,je.ROPSTEN,""),Object(y.a)(v,je.RINKEBY,ne||"0xc69DF0C3855A6CaBF0c5983bD504770E5BFA8e84"),Object(y.a)(v,je.GOERLI,""),Object(y.a)(v,je.KOVAN,""),Object(y.a)(v,je.GANACHE,"0x538a4f00d64d2597717cAAd4D01C963317e3Ae40"),v),Re=(x={},Object(y.a)(x,je.MAINNET,""),Object(y.a)(x,je.ROPSTEN,""),Object(y.a)(x,je.RINKEBY,re||"0xb5935758c16B785d3749F20D65F5B501578dCb1c"),Object(y.a)(x,je.GOERLI,""),Object(y.a)(x,je.KOVAN,""),Object(y.a)(x,je.GANACHE,"0x9A2E533FBa58Ec8b0dA34438154C48E295C80576"),x),Pe=(A={},Object(y.a)(A,je.MAINNET,""),Object(y.a)(A,je.ROPSTEN,""),Object(y.a)(A,je.RINKEBY,ae||"0xD0dCB66d60f6EbF838e22423f58B01D6F7a60187"),Object(y.a)(A,je.GOERLI,""),Object(y.a)(A,je.KOVAN,""),Object(y.a)(A,je.GANACHE,"0xa7D723BFc4deC341da03E70Af4026B3926b1E8Db"),A),Fe=(g={},Object(y.a)(g,je.MAINNET,""),Object(y.a)(g,je.ROPSTEN,""),Object(y.a)(g,je.RINKEBY,ce||"0xB54D48D8471839D670C0e24548A7CfEA78bB1879"),Object(y.a)(g,je.GOERLI,""),Object(y.a)(g,je.KOVAN,""),Object(y.a)(g,je.GANACHE,"0x6749b9151B654A77ddA3Fa8f2b259E0E592065F6"),g),Le=(N={},Object(y.a)(N,je.MAINNET,""),Object(y.a)(N,je.ROPSTEN,""),Object(y.a)(N,je.RINKEBY,oe||"0x939Fd23C38496aB54fa4BD0b2ED535DE100f7d8F"),Object(y.a)(N,je.GOERLI,""),Object(y.a)(N,je.KOVAN,""),Object(y.a)(N,je.GANACHE,"0x4Df3729e7B952EBE6d18b52132D2A8af2F2D167A"),N),Be=(E={},Object(y.a)(E,je.MAINNET,""),Object(y.a)(E,je.ROPSTEN,""),Object(y.a)(E,je.RINKEBY,se||"0xDfbe754ec9c2aA26ac2f429CfcEd819910eF5926"),Object(y.a)(E,je.GOERLI,""),Object(y.a)(E,je.KOVAN,""),Object(y.a)(E,je.GANACHE,"0xae02a075290D2efD74F0D3fE2DfE64831320855a"),E),Me=(w={},Object(y.a)(w,je.MAINNET,""),Object(y.a)(w,je.ROPSTEN,""),Object(y.a)(w,je.RINKEBY,ie||""),Object(y.a)(w,je.GOERLI,""),Object(y.a)(w,je.KOVAN,""),Object(y.a)(w,je.GANACHE,"0xae02a075290D2efD74F0D3fE2DfE64831320855a"),M),Ue="0x000000000000000000000000000000000000dead",Ge="0x000000000000000000000000000000000000babe",Ve="0x00000000000000000000000000000000000FF1CE",We="0x00000000000000000000000000000000DECAFBAD",Ye="0x0000000000000000000000000000000000000000",Ke=V,He="production"===R?1e4:5e3}).call(this,"/")},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(179),c=n.n(a),o=n(25),s=n(0);function i(e){var t=e.children,n=e.isOpen,a=e.isOpenHandler,i=e.keyProp,u=e.modalClassNames,d=e.styleProps;return Object(s.jsx)(c.a,{ariaHideApp:!1,className:"modal-container ".concat(u),isOpen:n,onRequestClose:function(){a(n)},overlayClassName:"modal-overlay",role:"dialog",style:Object(r.a)({overlay:{zIndex:"99"}},d),children:Object(s.jsx)(o.a,{children:Object(s.jsx)("div",{className:"modal",children:t})})},i)}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return l.a}));n(39);var r=n(2),a=n.n(r),c=n(5),o=n(4),s=n(1);var i=n(12),u=n(40),d=n(11),l=n(86),b=n(6);function j(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],j=Object(s.useState)(""),f=Object(o.a)(j,2),p=f[0],O=f[1],h=Object(s.useState)(!1),m=Object(o.a)(h,2),v=m[0],x=m[1],A=Object(s.useState)(),g=Object(o.a)(A,2),N=g[0],E=g[1],w=Object(s.useState)(b.f.STANDBY),y=Object(o.a)(w,2),_=y[0],I=y[1],C=Object(l.a)().networkId;function S(e){return function(t){I(b.f.PENDING),x(!1),C&&C!==i.c.GANACHE&&O("".concat(i.o[C],"/tx/").concat(t)),e&&e(t)}}function T(){return T=Object(c.a)(a.a.mark((function e(){var t,n,c,o,s,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),O(""),I(b.f.AWAITING_CONFIRM),x(!0),n=i.length,c=new Array(n),o=0;o<n;o++)c[o]=i[o];return c[4]=S(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return s=e.sent,E(s),I(b.f.FULFILLED),t(),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),I(b.f.REJECTED),x(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])}))),T.apply(this,arguments)}return{txError:n,txEtherscanURL:p,txIsPromptOpen:v,txReceipt:N,txSend:function(){return T.apply(this,arguments)},txStatus:_}}var f=n(3),p=n(31),O=n(134),h=n.n(O),m=n(10),v=n(42),x="https://ethgasstation.info/json/ethgasAPI.json";function A(e){return Object(p.toWei)(new h.a((e/10).toFixed(4)).toString(),"Gwei")}var g={average:void 0,fast:void 0,fastest:void 0,safeLow:void 0};function N(e){var t=e||{},r=t.ignoreEnvironment,u=void 0!==r&&r,d=t.noRunIfEIP1559,b=void 0!==d&&d,j=Object(s.useState)(g),p=Object(o.a)(j,2),O=p[0],h=p[1],N=Object(s.useState)(),E=Object(o.a)(N,2),w=E[0],y=E[1],_=Object(s.useState)(m.a.STANDBY),I=Object(o.a)(_,2),C=I[0],S=I[1],T=Object(l.a)().web3Instance,D=Object(v.a)(),k=D.abortController,R=D.isMountedRef,P=!1===u&&"production"!==i.m,F=Object(s.useCallback)((function(){return L.apply(this,arguments)}),[k,R,b,P,T]);function L(){return(L=Object(c.a)(a.a.mark((function e(){var t,r,c,o,s,i,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===k||void 0===k?void 0:k.signal){e.next=2;break}return e.abrupt("return");case 2:if(T){e.next=4;break}return e.abrupt("return");case 4:if(y(void 0),!P){e.next=8;break}return S(m.a.FULFILLED),e.abrupt("return");case 8:if(!b){e.next=18;break}return e.next=11,Promise.resolve().then(n.bind(null,488));case 11:return t=e.sent,r=t.isEIP1559Compatible,e.next=15,r(T);case 15:if(!e.sent){e.next=18;break}return S(m.a.FULFILLED),e.abrupt("return");case 18:return S(m.a.PENDING),e.prev=19,e.next=22,fetch(x,{signal:k.signal});case 22:if((c=e.sent).ok){e.next=25;break}throw new Error("Something went wrong while getting the latest gas price.");case 25:return e.next=27,c.json();case 27:if(o=e.sent,R.current){e.next=30;break}return e.abrupt("return");case 30:s=o.average,i=o.fast,u=o.fastest,d=o.safeLow,h({average:A(s),fast:A(i),fastest:A(u),safeLow:A(d)}),S(m.a.FULFILLED),e.next=42;break;case 35:if(e.prev=35,e.t0=e.catch(19),R.current){e.next=39;break}return e.abrupt("return");case 39:y(e.t0),h(g),S(m.a.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[19,35]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){return F(),function(){null===k||void 0===k||k.abort()}}),[k,F]),Object(f.a)(Object(f.a)({},O),{},{gasPriceError:w,gasPriceStatus:C})}var E=n(16),w=n(22);function y(){var e=Object(E.b)(),t=Object(s.useCallback)((function(e){return n.apply(this,arguments)}),[e]);function n(){return(n=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.web3Instance,t.prev=1,t.next=4,e(Object(w.H)(r));case 4:return t.next=6,e(Object(w.G)(r));case 6:return t.next=8,e(Object(w.D)(r));case 8:return t.next=10,e(Object(w.E)(r));case 10:return t.next=12,e(Object(w.L)(r));case 12:return t.next=14,e(Object(w.M)(r));case 14:return t.next=16,e(Object(w.N)(r));case 16:return t.next=18,e(Object(w.S)(r));case 18:return t.next=20,e(Object(w.B)(r));case 20:return t.next=22,e(Object(w.C)(r));case 22:return t.next=24,e(Object(w.N)(r));case 24:return t.next=26,e(Object(w.R)(r));case 26:return t.next=28,e(Object(w.T)(r));case 28:return t.next=30,e(Object(w.J)(r));case 30:return t.next=32,e(Object(w.X)(r));case 32:return t.next=34,e(Object(w.U)(r));case 34:return t.next=36,e(Object(w.Q)(r));case 36:return t.next=38,e(Object(w.P)(r));case 38:return t.next=40,e(Object(w.F)(r));case 40:return t.next=42,e(Object(w.I)(r));case 42:return t.next=44,e(Object(w.K)(r));case 44:return t.next=46,e(Object(w.O)(r));case 46:return t.next=48,e(Object(w.V)(r));case 48:return t.next=50,e(Object(w.W)(r));case 50:t.next=55;break;case 52:throw t.prev=52,t.t0=t.catch(1),t.t0;case 55:case"end":return t.stop()}}),t,null,[[1,52]])})))).apply(this,arguments)}return t}function _(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(s.useState)(),a=Object(o.a)(r,2),c=a[0],u=a[1];return Object(s.useEffect)((function(){n&&t!==i.k?u(new Error("Please connect to the ".concat(i.d[i.k],"."))):u(void 0)}),[n,t]),{defaultChain:i.k,defaultChainError:c,isDefaultChain:t===i.k}}var I=n(1103),C=!1;function S(e,t){var n=Object(s.useState)(C),r=Object(o.a)(n,2),i=r[0],u=r[1],l=Object(v.f)().isMountedRef,b=Object(s.useCallback)((function(e,t){return j.apply(this,arguments)}),[l]);function j(){return j=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.h)(t,new I.a(n));case 3:if(r=e.sent,l.current){e.next=6;break}return e.abrupt("return");case 6:u(r),e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),l.current){e.next=13;break}return e.abrupt("return");case 13:u(C);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),j.apply(this,arguments)}return Object(s.useEffect)((function(){t&&e&&b(e,t)}),[e,b,t]),i}n(212)},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return z}));var r=n(2),a=n.n(r),c=n(3),o=n(5),s=n(4),i=n(23),u=n(16),d=n(1),l=n(12),b=n(40),j=n(47),f=n(6),p=n(58),O=n(11),h=n(64),m=n(42),v=n(15),x=n(78),A=n(38),g=n(56),N=n(25),E=n(48),w=n(0);function y(e){var t,n=e.adapterName,r=e.proposal,y=r.daoProposalVotingAdapter,_=r.snapshotProposal,I=Object(d.useState)(f.f.STANDBY),C=Object(s.a)(I,2),S=C[0],T=C[1],D=Object(d.useState)(),k=Object(s.a)(D,2),R=k[0],P=k[1],F=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),L=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),B=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi.find((function(e){return"getPriorAmount"===e.name}))})),M=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),U=null===(t=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})))||void 0===t?void 0:t.find((function(e){return"getMemberAddress"===e.name})),G=Object(u.c)((function(e){return e.contracts})),V=Object(v.f)(),W=V.account,Y=V.provider,K=V.web3Instance,H=Object(v.a)(),z=H.txEtherscanURL,q=H.txIsPromptOpen,Q=H.txSend,J=H.txStatus,X=Object(v.b)().average,Z=Object(m.g)(),$=Z.isDisabled,ee=Z.openWhyDisabledModal,te=Z.WhyDisabledModal,ne=null===y||void 0===y?void 0:y.getWeb3VotingAdapterContract().methods,re=S===f.f.AWAITING_CONFIRM||S===f.f.PENDING||J===f.f.AWAITING_CONFIRM||J===f.f.PENDING,ae=J===f.f.FULFILLED&&S===f.f.FULFILLED,ce=re||ae||q;function oe(){return(oe=Object(o.a)(a.a.mark((function e(){var t,r,o,s,u,d,m,v,x,A,g,N,E,w,y,I,C,S,D,k,R,V,H;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(F){e.next=5;break}throw new Error("No Bank Extension address was found.");case 5:if(U){e.next=7;break}throw new Error("No ABI for `getMemberAddress` was found.");case 7:if(B){e.next=9;break}throw new Error("No ABI for `getPriorAmount` was found.");case 9:if(_){e.next=11;break}throw new Error("No Snapshot proposal was found.");case 11:if(_.votes){e.next=13;break}throw new Error("No Snapshot proposal votes Array was found.");case 13:if(ne){e.next=15;break}throw new Error('No "OffchainVotingContract" methods were found.');case 15:if(K){e.next=17;break}throw new Error("No Web3 instance was found.");case 17:if(L){e.next=19;break}throw new Error("No BankExtension methods were found.");case 19:return T(f.f.AWAITING_CONFIRM),r=_.idInDAO,o=_.msg.payload.snapshot.toString(),s=Object(b.d)(n,G),e.next=25,L.getPriorAmount(l.E,l.w,o).call();case 25:return u=e.sent,d=Object(O.j)(Number(u)-1,0).map((function(e){return[M,U,[e.toString()]]})),e.next=29,Object(b.j)({calls:d,web3Instance:K});case 29:return m=e.sent,v=m.map((function(e){return[F,B,[e,l.H,o]]})),e.next=33,Object(b.j)({calls:v,web3Instance:K});case 33:return x=e.sent,A=m.map((function(e,t){var n,a=Object.values((null===(n=_.votes)||void 0===n?void 0:n.find((function(t){return Object(O.i)(e)===Object(O.i)(Object.values(t)[0].msg.payload.metadata.memberAddress)})))||{})[0];return Object(i.createVote)({proposalId:r,sig:(null===a||void 0===a?void 0:a.sig)||"0x",timestamp:a?Number(a.msg.timestamp):0,voteYes:(null===a||void 0===a?void 0:a.msg.payload.choice)===i.VoteChoicesIndex.Yes,weight:a?x[t]:"0"})})),e.next=37,Object(i.prepareVoteResult)({actionId:s,chainId:l.k,daoAddress:M,votes:A});case 37:return g=e.sent,N=g.voteResultTree,E=g.result,w=N.getHexRoot(),y=E[E.length-1],e.next=44,ne.getBadNodeError(M,r,!0,w,0,o,2,y).call();case 44:if(I=e.sent,Number(I)===j.a.OK){e.next=47;break}throw new Error("Cannot submit off-chain voting result. Node has an error: ".concat(j.a[I],"."));case 47:return C=Object(i.getVoteResultRootDomainDefinition)(M,s,l.k),S=C.domain,D=C.types,k=JSON.stringify({domain:S,message:{root:w},primaryType:h.a,types:D}),e.next=51,Object(i.signMessage)(Y,W,k);case 51:return R=e.sent,e.next=54,Object(p.b)(w);case 54:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=58;break}e.t1=void 0===t;case 58:if(!e.t1){e.next=62;break}e.t3=void 0,e.next=63;break;case 62:e.t3=t.merkle_root.length;case 63:if(e.t0=e.t3,e.t0){e.next=66;break}e.t0="";case 66:if(e.t4=e.t0,e.t4>0){e.next=71;break}return e.next=71,Object(p.g)({actionId:s,chainId:l.k,steps:E,merkleRoot:w,verifyingContract:M});case 71:return T(f.f.FULFILLED),V=[M,r,w,W||"",y,R],H=Object(c.a)({from:W||""},X?{gasPrice:X}:null),e.next=76,Q("submitVoteResult",ne,V,H);case 76:e.next=82;break;case 78:e.prev=78,e.t5=e.catch(0),P(e.t5),T(f.f.REJECTED);case 82:case"end":return e.stop()}}),e,null,[[0,78]])})))).apply(this,arguments)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{className:"proposaldetails__button",disabled:$||ce,onClick:$||ce?function(){}:function(){return oe.apply(this,arguments)},children:re?Object(w.jsx)(E.a,{}):ae?"Done":"Submit Vote Result"}),Object(w.jsx)(A.a,{error:R,renderText:"Something went wrong"}),ce&&Object(w.jsx)("div",{className:"form__submit-status-container",children:function(){if(J===f.f.AWAITING_CONFIRM||S===f.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(J){case f.f.PENDING:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{intervalMs:2e3,messages:h.b,useFirstItemStart:!0,render:function(e){return Object(w.jsx)(N.a,{children:e},e)}}),Object(w.jsx)(g.a,{url:z,isPending:!0})]});case f.f.FULFILLED:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:"Result submitted!"}),Object(w.jsx)(g.a,{url:z})]});default:return null}}()}),$&&Object(w.jsx)("button",{className:"button--help-centered",onClick:ee,children:"Why is submitting disabled?"})]}),Object(w.jsx)(te,{title:"Why is this disabled?"})]})}var _=n(9),I=n(10),C=n(43),S=I.a.FULFILLED,T=I.a.PENDING,D=I.a.REJECTED;function k(e){var t=e.adapterName,n=e.proposal,r=n.snapshotProposal,l=n.refetchProposalOrDraft,b=Object(d.useState)(),j=Object(s.a)(b,2),h=j[0],x=j[1],g=Object(d.useState)(),N=Object(s.a)(g,2),E=N[0],y=N[1],I=Object(d.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:"",fetchingMembershipAtSnapshotMessage:"",noMembershipAtSnapshotMessage:"",undeterminedMembershipAtSnapshotMessage:""}),k=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),R=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isAddressDelegated})),P=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress})),F=Object(v.f)().account,L=Object(C.h)(),B=L.signAndSendVote,M=L.voteDataStatus,U=Object(p.c)(null===r||void 0===r?void 0:r.votes,F||""),G=Object(m.g)(),V=G.isDisabled,W=G.openWhyDisabledModal,Y=G.setOtherDisabledReasons,K=G.WhyDisabledModal,H=Object(m.h)(P,null===r||void 0===r?void 0:r.msg.payload.snapshot),q=H.hasMembershipAtSnapshot,Q=H.memberUnitsAtSnapshotError,J=H.memberUnitsAtSnapshotStatus,X=null===r||void 0===r?void 0:r.msg.payload.snapshot,Z=(null===r||void 0===r?void 0:r.idInDAO)||"",$=(null===r||void 0===r?void 0:r.idInSnapshot)||"",ee=M===f.f.AWAITING_CONFIRM||M===f.f.PENDING,te=M===f.f.FULFILLED,ne=V||(ee||te),re=ee?h:void 0,ae=E||Q;function ce(){return(ce=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Z){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if($){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return x(i.VoteChoices[n]),e.next=8,B(Object(c.a)(Object(c.a)({},t?{adapterName:t}:void 0),{},{partialVoteData:{choice:n},proposalIdInDAO:Z,proposalIdInSnapshot:$}));case 8:l(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),y(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function oe(e,t){I.current=Object(c.a)(Object(c.a)({},I.current),{},Object(_.a)({},e,t))}return Object(d.useEffect)((function(){var e;k&&oe("addressIsDelegatedMessage",R?(e=k,"Your member address is delegated to ".concat(Object(O.l)(e,7),". You must use that address to vote.")):""),oe("alreadyVotedMessage",U?"You have already voted.":""),oe("noMembershipAtSnapshotMessage",q||J!==S?"":"You were not a member when the proposal was sponsored at snapshot ".concat(X,".")),oe("fetchingMembershipAtSnapshotMessage",J===T?"We are waiting on your membership status for when this proposal was sponsored at snapshot ".concat(X,"."):""),oe("undeterminedMembershipAtSnapshotMessage",J===D?"Something went wrong. Your membership status when this proposal was sponsored at snapshot ".concat(X," cannot be determined."):""),Y(Object.values(I.current))}),[k,q,R,J,Y,X,U]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(z,{onClick:ne?function(){}:function(e){return ce.apply(this,arguments)},buttonProps:{disabled:ne,"aria-disabled":ne},voteChosen:U,voteProgress:re}),V&&Object(w.jsx)("button",{className:"button--help-centered",onClick:W,children:"Why is voting disabled?"}),Object(w.jsx)(A.a,{error:ae,renderText:"Something went wrong"}),Object(w.jsx)(K,{title:"Why is voting disabled?"})]})}var R=n(65);function P(e){var t=e.countdownFrom,n=e.renderCountdownText,r=e.showDaysOnly,a=Object(O.f)(t),c=a.days,o=a.hours,s=a.minutes,i=a.seconds,u=null===n||void 0===n?void 0:n({days:c,formatTimePeriod:F,hours:o,minutes:s,seconds:i,showDaysOnly:r}),d=F;return u||(c>2&&r?"~".concat(c," days"):c>0?"".concat(d(c,"day")," : ").concat(d(o,"hr")," : ").concat(d(s,"min")):o>0?"".concat(d(o,"hr")," : ").concat(d(s,"min")):s>0?"".concat(d(s,"min")," : ").concat(d(i,"sec")):Object(w.jsx)("span",{className:"color-brightsalmon",children:d(i,"sec")}))}function F(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}function L(e){var t=e.endedLabel,n=e.endLabel,r=e.endPeriodMs,a=e.renderCountdownText,c=e.startLabel,o=e.startPeriodMs,i=Object(d.useState)(),u=Object(s.a)(i,2),l=u[0],b=u[1],j=new Date(o),f=new Date(r);return Object(d.useEffect)((function(){var e=setInterval((function(){b(new Date)}),1e3);return function(){clearInterval(e)}}),[]),l?l<j?Object(w.jsx)("div",{children:Object(w.jsxs)("span",{children:[Object(w.jsx)("span",{className:"votingstatus",children:c||"Starts:"})," ",Object(w.jsx)("span",{className:"votingstatus__timer",children:P({countdownFrom:j,renderCountdownText:a,showDaysOnly:!0})})]})}):l<f?Object(w.jsx)("div",{children:Object(w.jsxs)("span",{children:[Object(w.jsx)("span",{className:"votingstatus",children:n||"Ends:"})," ",Object(w.jsx)("span",{className:"votingstatus__timer",children:P({countdownFrom:f,renderCountdownText:a})})]})}):Object(w.jsx)("div",{children:Object(w.jsx)("span",{className:"votingstatus",children:t||"Ended"})}):null}function B(e){return Object(w.jsxs)("svg",Object(c.a)(Object(c.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(w.jsx)("defs",{children:Object(w.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(w.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(w.jsxs)("g",{id:"Group-70",children:[Object(w.jsx)("mask",{id:"mask-2",fill:"white",children:Object(w.jsx)("use",{xlinkHref:"#path-1"})}),Object(w.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function M(e){var t=e.hasVotingEnded,n=e.noUnits,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,o=void 0===c||c,s=e.totalUnits,i=e.yesUnits,u=r();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"votingstatus-container",children:[Object(w.jsx)(B,{"aria-label":"Proposal status",role:"img"}),u&&Object(w.jsx)("span",{className:"votingstatus",children:u}),a(L)]}),Object(w.jsx)(H,{yesUnits:i,noUnits:n,totalUnits:s,votingExpired:t,showPercentages:o})]})}function U(e){var t=e.days,n=e.hours,r=e.formatTimePeriod;if(t>0)return"".concat(r(t,"day")," : ").concat(r(n,"hr"))}var G=Object(w.jsx)("span",{children:"Grace period:"}),V={duration:150};function W(e){var t=e.countdownGracePeriodEndMs,n=void 0===t?0:t,r=e.countdownGracePeriodStartMs,a=void 0===r?0:r,c=e.countdownVotingEndMs,o=void 0===c?0:c,s=e.countdownVotingStartMs,i=void 0===s?0:s,u=e.onGracePeriodChange,l=e.onVotingPeriodChange,b=e.proposalId,j=e.renderStatus,f=e.votingResult,p=Object(m.j)(i/1e3,o/1e3),O=p.hasTimeEnded,h=p.hasTimeStarted,v=p.timeStartEndInitReady,x=Object(m.j)(a/1e3,n/1e3),A=x.hasTimeEnded,g=x.hasTimeStarted,N=x.timeStartEndInitReady,E=N&&g&&!A,y=(null===f||void 0===f?void 0:f.No.units)||0,_=(null===f||void 0===f?void 0:f.totalUnits)||0,I=(null===f||void 0===f?void 0:f.Yes.units)||0,C=O?I>y:void 0,S=null===j||void 0===j?void 0:j({countdownGracePeriodEndMs:n,countdownGracePeriodStartMs:a,countdownVotingEndMs:o,countdownVotingStartMs:i,didVotePassSimpleMajority:C,gracePeriodStartEndInitReady:N,hasGracePeriodEnded:A,hasGracePeriodStarted:g,hasVotingEnded:O,hasVotingStarted:h,votingStartEndInitReady:v});return Object(d.useEffect)((function(){v&&(null===l||void 0===l||l({hasVotingStarted:h,hasVotingEnded:O,proposalId:b,votingStartEndInitReady:v}))}),[O,h,l,b,v]),Object(d.useEffect)((function(){N&&(null===u||void 0===u||u({hasGracePeriodEnded:A,hasGracePeriodStarted:g,proposalId:b,gracePeriodStartEndInitReady:N}))}),[N,A,g,u,b]),Object(w.jsx)(M,{hasVotingEnded:O,noUnits:y,renderStatus:function(){return S||(v?E?"":C?"Approved":!1===C?"Failed":void 0:Object(w.jsx)(R.a,{ariaLabel:"Getting off-chain voting status",fadeInProps:V,intervalMs:200}))},renderTimer:function(e){return v&&h&&!O?Object(w.jsx)(e,{endPeriodMs:o,renderCountdownText:U,startPeriodMs:i}):E?Object(w.jsx)(e,{endLabel:G,endPeriodMs:n||0,renderCountdownText:U,startPeriodMs:a||0}):void 0},totalUnits:_,yesUnits:I})}function Y(e){return Object(w.jsx)("svg",Object(c.a)(Object(c.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(w.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function K(e,t){return(e/t*100).toFixed(2).replace(/\.00$/,"")}function H(e){var t=e.yesUnits,n=void 0===t?0:t,r=e.noUnits,a=void 0===r?0:r,c=e.totalUnits,o=e.votingExpired,s=e.showPercentages,i=c?K(n,c):"0",u=c?K(a,c):"0";return Object(w.jsxs)("div",{className:"votingbar-container",children:[Object(w.jsxs)("div",{className:"votingbar",children:[Object(w.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(i,"% yes votes"),style:{width:"".concat(i,"%")}}),Object(w.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(u,"% no votes"),style:{width:"".concat(u,"%")}})]}),Object(w.jsx)("div",{className:"votingbar__percentages",children:s&&Object(w.jsxs)(w.Fragment,{children:[o&&n>a&&Object(w.jsx)("span",{className:"yes-check",children:Object(w.jsx)(Y,{"aria-label":"Vote has passed"})}),Object(w.jsxs)("span",{className:"yes-percent",children:[i,"%"]}),Object(w.jsxs)("span",{className:"no-percent",children:[u,"%"]}),o&&n<=a&&Object(w.jsx)("span",{className:"no-check",children:Object(w.jsx)(Y,{"aria-label":"Vote has failed"})})]})})]})}function z(e){var t=e.buttonProps,n=e.onClick,r=e.voteChosen,a=e.voteProgress;function o(e){return a===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function s(e){return a===e?Object(w.jsx)(E.a,{"aria-label":"Currently voting ".concat(e,"..."),role:"img"}):r===e?"Voted ".concat(e):"Vote ".concat(e)}function u(e){return function(){n(e)}}function d(e,t){return r===e?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Y,{"aria-label":t})," "]}):""}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(i.VoteChoices.Yes)),{},{className:"proposaldetails__button",onClick:u(i.VoteChoices.Yes),children:[d(i.VoteChoices.Yes,"You voted yes"),s(i.VoteChoices.Yes)]})),Object(w.jsxs)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(i.VoteChoices.No)),{},{className:"proposaldetails__button",onClick:u(i.VoteChoices.No),children:[d(i.VoteChoices.No,"You voted no"),s(i.VoteChoices.No)]}))]})}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return k})),n.d(t,"x",(function(){return R})),n.d(t,"o",(function(){return P})),n.d(t,"v",(function(){return F})),n.d(t,"w",(function(){return L})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return M})),n.d(t,"C",(function(){return U})),n.d(t,"F",(function(){return G})),n.d(t,"G",(function(){return V})),n.d(t,"Q",(function(){return K})),n.d(t,"B",(function(){return H})),n.d(t,"S",(function(){return z})),n.d(t,"I",(function(){return q})),n.d(t,"M",(function(){return Q})),n.d(t,"A",(function(){return J})),n.d(t,"O",(function(){return X})),n.d(t,"H",(function(){return Z})),n.d(t,"R",(function(){return $})),n.d(t,"L",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"T",(function(){return re})),n.d(t,"E",(function(){return ae})),n.d(t,"P",(function(){return ce})),n.d(t,"J",(function(){return oe})),n.d(t,"N",(function(){return se})),n.d(t,"U",(function(){return ie})),n.d(t,"V",(function(){return ue})),n.d(t,"W",(function(){return de}));var r=n(3),a=n(55),c=n(2),o=n.n(c),s=n(5),i=n(6),u=n(12),d=n(40),l=n(18),b=n(241),j=["type"],f="CLEAR_CONTRACTS",p="CONTRACT_BANK_ADAPTER",O="CONTRACT_BANK_EXTENSION",h="CONTRACT_BANK_FACTORY",m="CONTRACT_CONFIGURATION",v="CONTRACT_COUPON_ONBOARDING",x="CONTRACT_DAO_FACTORY",A="CONTRACT_DAO_REGISTRY",g="CONTRACT_DAO_REGISTRY_ADAPTER",N="CONTRACT_DISTRIBUTE",E="CONTRACT_ERC20_EXTENSION",w="CONTRACT_FINANCING",y="CONTRACT_GUILDKICK",_="CONTRACT_MANAGING",I="CONTRACT_NFT_ADAPTER",C="CONTRACT_NFT_EXTENSION",S="CONTRACT_ONBOARDING",T="CONTRACT_RAGEQUIT",D="CONTRACT_TRIBUTE",k="CONTRACT_TRIBUTE_NFT",R="CONTRACT_VOTING",P="CONTRACT_MOVEMENT",F="CONTRACT_UNAGII_DEPOSIT",L="CONTRACT_UNAGII_WITHDRAW",B="CONTRACT_VOTING_OP_ROLLUP";function M(){return{type:f}}function U(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var a,c,s,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(13).then(n.t.bind(null,1060,3));case 4:a=t.sent,c=a.default,s=c,i=u.b[u.k],d=new e.eth.Contract(s,i),r(le({type:h,abi:s,contractAddress:i,instance:d}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function G(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var a,c,s,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(16).then(n.t.bind(null,1061,3));case 4:a=t.sent,c=a.default,s=c,i=u.h[u.k],d=new e.eth.Contract(s,i),r(le({type:x,abi:s,contractAddress:i,instance:d}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function V(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var a,c,s,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(17).then(n.t.bind(null,1062,3));case 4:if(a=t.sent,c=a.default,s=c,i=u.j){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:d=new e.eth.Contract(s,i),r(le({type:A,abi:s,contractAddress:i,instance:d}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function W(e,t){return be({actionType:R,adapterOrExtensionName:i.a.voting,adapterNameForRedux:l.c.VotingContract,contractAddress:t,lazyImport:function(){return n.e(2).then(n.t.bind(null,1063,3))},web3Instance:e})}function Y(e,t){return be({actionType:B,adapterOrExtensionName:i.a.voting,adapterNameForRedux:l.c.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(1).then(n.t.bind(null,1064,3))},web3Instance:e})}function K(e,t){return be({actionType:S,adapterNameForRedux:l.a.ONBOARDING,adapterOrExtensionName:i.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(28).then(n.t.bind(null,1065,3))},web3Instance:e})}function H(e,t){return be({actionType:O,adapterNameForRedux:l.b.BANK,adapterOrExtensionName:i.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(12).then(n.t.bind(null,1066,3))},web3Instance:e})}function z(e,t){return be({actionType:D,adapterNameForRedux:l.a.TRIBUTE,adapterOrExtensionName:i.a.tribute,contractAddress:t,lazyImport:function(){return n.e(30).then(n.t.bind(null,1067,3))},web3Instance:e})}function q(e,t){return be({actionType:N,adapterNameForRedux:l.a.DISTRIBUTE,adapterOrExtensionName:i.a.distribute,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,1068,3))},web3Instance:e})}function Q(e,t){return be({actionType:_,adapterNameForRedux:l.a.MANAGING,adapterOrExtensionName:i.a.managing,contractAddress:t,lazyImport:function(){return n.e(23).then(n.t.bind(null,1069,3))},web3Instance:e})}function J(e,t){return be({actionType:p,adapterNameForRedux:l.a.BANK,adapterOrExtensionName:i.a.bank,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,1070,3))},web3Instance:e})}function X(e,t){return be({actionType:I,adapterNameForRedux:l.a.NFT,adapterOrExtensionName:i.a.nft,contractAddress:t,lazyImport:function(){return n.e(26).then(n.t.bind(null,1071,3))},web3Instance:e})}function Z(e,t){return be({actionType:g,adapterNameForRedux:l.a.DAO_REGISTRY,adapterOrExtensionName:i.a.dao_registry,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,1072,3))},web3Instance:e})}function $(e,t){return be({actionType:T,adapterNameForRedux:l.a.RAGEQUIT,adapterOrExtensionName:i.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(29).then(n.t.bind(null,1073,3))},web3Instance:e})}function ee(e,t){return be({actionType:y,adapterNameForRedux:l.a.GUILDKICK,adapterOrExtensionName:i.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(22).then(n.t.bind(null,1074,3))},web3Instance:e})}function te(e,t){return be({actionType:w,adapterNameForRedux:l.a.FINANCING,adapterOrExtensionName:i.a.financing,contractAddress:t,lazyImport:function(){return n.e(21).then(n.t.bind(null,1075,3))},web3Instance:e})}function ne(e,t){return be({actionType:m,adapterNameForRedux:l.a.CONFIGURATION,adapterOrExtensionName:i.a.configuration,contractAddress:t,lazyImport:function(){return n.e(14).then(n.t.bind(null,1076,3))},web3Instance:e})}function re(e,t){return be({actionType:k,adapterNameForRedux:l.a.TRIBUTE_NFT,adapterOrExtensionName:i.a.tribute_nft,contractAddress:t,lazyImport:function(){return n.e(31).then(n.t.bind(null,1077,3))},web3Instance:e})}function ae(e,t){return be({actionType:v,adapterNameForRedux:l.a.COUPON_ONBOARDING,adapterOrExtensionName:i.a.coupon_onboarding,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,1078,3))},web3Instance:e})}function ce(e,t){return be({actionType:C,adapterNameForRedux:l.b.NFT,adapterOrExtensionName:i.c.nft,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(27).then(n.t.bind(null,1079,3))},web3Instance:e})}function oe(e,t){return be({actionType:E,adapterNameForRedux:l.b.ERC20,adapterOrExtensionName:i.c.erc20,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(20).then(n.t.bind(null,1080,3))},web3Instance:e})}function se(e,t){return be({actionType:P,adapterNameForRedux:l.a.MOVEMENT,adapterOrExtensionName:i.a.movement,contractAddress:t,isExtension:!1,lazyImport:function(){return n.e(24).then(n.t.bind(null,1081,3))},web3Instance:e})}function ie(e,t){return be({actionType:F,adapterNameForRedux:l.a.UNAGII_DEPOSIT,adapterOrExtensionName:i.a.unagii_deposit,contractAddress:t,isExtension:!1,lazyImport:function(){return n.e(32).then(n.t.bind(null,1082,3))},web3Instance:e})}function ue(e,t){return be({actionType:L,adapterNameForRedux:l.a.UNAGII_WITHDRAW,adapterOrExtensionName:i.a.unagii_withdraw,contractAddress:t,isExtension:!1,lazyImport:function(){return n.e(33).then(n.t.bind(null,1083,3))},web3Instance:e})}function de(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r,a){var c,s,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=29;break}if(a().contracts.DaoRegistryContract){n.next=6;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),n.abrupt("return");case 6:if(c="",!(s=t||"")){n.next=12;break}return n.next=11,Object(d.h)(s,e);case 11:c=n.sent;case 12:if(s||c){n.next=19;break}return n.next=15,Object(d.c)(i.a.voting,null===(u=a().contracts.DaoRegistryContract)||void 0===u?void 0:u.instance);case 15:return s=n.sent,n.next=18,Object(d.h)(s,e);case 18:c=n.sent;case 19:n.t0=c,n.next="VotingContract"===n.t0?22:"OffchainVotingContract"===n.t0?25:28;break;case 22:return n.next=24,W(e,s)(r,a);case 24:return n.abrupt("return",n.sent);case 25:return n.next=27,Y(e,s)(r,a);case 27:return n.abrupt("return",n.sent);case 28:throw new Error("Voting contract name could not be found.");case 29:n.next=34;break;case 31:n.prev=31,n.t1=n.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 34:case"end":return n.stop()}}),n,null,[[0,31]])})));return function(e,t){return n.apply(this,arguments)}}()}function le(e){var t=e.type,n=Object(a.a)(e,j);return Object(r.a)({type:t},n)}function be(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,i=void 0!==c&&c,u=e.lazyImport,l=e.web3Instance;return function(){var e=Object(s.a)(o.a.mark((function e(c,s){var j,f,p,O,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(p=e.sent,O=p.default,h=O,e.t0=a,e.t0){e.next=18;break}if(!i){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=s().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(d.c)(r,null===(f=s().contracts.DaoRegistryContract)||void 0===f?void 0:f.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(le({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new l.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},18:function(e,t,n){"use strict";var r,a,c;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.COUPON_ONBOARDING="coupon-onboarding",e.DAO_REGISTRY="daoRegistry",e.DISTRIBUTE="distribute",e.EXECUTION="execution",e.FINANCING="financing",e.GUILDKICK="guildkick",e.MANAGING="managing",e.NFT="nft",e.NONVOTING_ONBOARDING="nonvoting-onboarding",e.OFFCHAINVOTING="offchainvoting",e.ONBOARDING="onboarding",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.TRIBUTE_NFT="tribute-nft",e.VOTING="voting",e.MOVEMENT="movement",e.UNAGII_DEPOSIT="UNAGII_DEPOSIT",e.UNAGII_WITHDRAW="UNAGII_WITHDRAW"}(r||(r={})),function(e){e.BANK="bank",e.ERC20="erc20-ext",e.NFT="nft"}(a||(a={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(c||(c={}))},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return O}));var r,a=n(2),c=n.n(a),o=n(3),s=n(5),i=n(4),u=n(1),d=n(16),l=n(31),b=n(15),j=n(12),f=n(22),p=n(11);function O(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(d.c)((function(e){return e.contracts.CouponOnboardingContract})),n=Object(u.useState)(),a=Object(i.a)(n,2),O=a[0],h=a[1],m=Object(u.useState)(r.STANDBY),v=Object(i.a)(m,2),x=v[0],A=v[1],g=Object(b.f)(),N=g.account,E=g.web3Instance,w=Object(b.d)().defaultChainError,y=Object(b.b)().average,_=Object(b.a)(),I=_.txError,C=_.txEtherscanURL,S=_.txIsPromptOpen,T=_.txSend,D=_.txStatus,k=Object(d.b)();function R(){return(R=Object(s.a)(c.a.mark((function n(a,s){var i,u,d;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!w){n.next=3;break}throw new Error("Wrong network connected.");case 3:if(a){n.next=5;break}throw new Error("No coupon data was found.");case 5:if(N){n.next=7;break}throw new Error("No account found.");case 7:if(e){n.next=9;break}throw new Error("No DAO Registry contract was found.");case 9:if(t){n.next=11;break}throw new Error("No Coupon Onboarding contract was found.");case 11:if(E){n.next=13;break}throw new Error("No Web3 instance was found.");case 13:return A(r.PENDING),i=Object(l.toChecksumAddress)(a.recipient),u=[e.contractAddress,i,String(a.amount),Number(a.nonce),a.signature],d=Object(o.a)({from:N||""},y?{gasPrice:y}:null),n.next=19,T("redeemCoupon",t.instance.methods,u,d);case 19:if(!n.sent){n.next=32;break}return n.next=23,fetch("".concat(j.g,"/api/coupon/redeem"),{method:"PATCH",body:JSON.stringify({signature:a.signature}),headers:{"Content-Type":"application/json"}});case 23:if(n.sent.ok){n.next=26;break}throw new Error("Something went wrong while updating the coupon.");case 26:if(A(r.FULFILLED),Object(p.i)(a.recipient)!==Object(p.i)(N)){n.next=32;break}return n.next=30,k(Object(f.A)({account:N,daoRegistryContract:e,web3Instance:E}));case 30:return n.next=32,P(s);case 32:n.next=38;break;case 34:n.prev=34,n.t0=n.catch(0),h(n.t0),A(r.REJECTED);case 38:case"end":return n.stop()}}),n,null,[[0,34]])})))).apply(this,arguments)}function P(e){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return{isInProcessOrDone:x===r.PENDING||x===r.FULFILLED,redeemCoupon:function(e,t){return R.apply(this,arguments)},submitError:O,submitStatus:x,txStatus:D,txError:I,txEtherscanURL:C,txIsPromptOpen:S}}!function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},208:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(3),a=n(2),c=n.n(a),o=n(4),s=n(5),i=n(61),u=n(40),d=n(6),l=n(11),b="SET_CONNECTED_MEMBER",j="CLEAR_CONNECTED_MEMBER";function f(e){var t=e.account,n=e.daoRegistryContract,a=e.web3Instance;return function(){var e=Object(s.a)(c.a.mark((function e(s){var j,f,O,h,m,v,x,A,g,N,E,w,y,_,I;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j=null===n||void 0===n?void 0:n.contractAddress,f=null===n||void 0===n?void 0:n.abi.find((function(e){return"getAddressIfDelegated"===e.name})),O=null===n||void 0===n?void 0:n.abi.find((function(e){return"members"===e.name})),h=null===n||void 0===n?void 0:n.abi.find((function(e){return"isActiveMember"===e.name})),m=null===n||void 0===n?void 0:n.abi.find((function(e){return"getCurrentDelegateKey"===e.name})),t&&j&&f&&m&&h&&O){e.next=8;break}return s(p()),e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(u.j)({calls:[[j,f,[t]],[j,O,[t]],[j,h,[j,t]],[j,m,[t]]],web3Instance:a});case 11:v=e.sent,x=Object(o.a)(v,4),A=x[0],g=x[1],N=x[2],E=x[3],w=Object(u.i)(d.d.EXISTS,g),y=N||w?E:i.a,_=N||w?A:i.a,I=Object(l.i)(t)===Object(l.i)(_)&&Object(l.i)(t)!==Object(l.i)(y),s((c={delegateKey:y,isAddressDelegated:I,isActiveMember:N,memberAddress:_},Object(r.a)({type:b},c))),e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(8),s(p()),e.t0;case 28:case"end":return e.stop()}var c}),e,null,[[8,24]])})));return function(t){return e.apply(this,arguments)}}()}function p(){return{type:j}}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o}));var r="CONNECT_MODAL_CLOSE",a="CONNECT_MODAL_OPEN";function c(){return{type:r}}function o(){return{type:a}}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return A}));var r,a,c,o=n(2),s=n.n(o),i=n(5),u=n(4),d=n(3),l=n(1),b=n(71),j=n.n(b),f=n(524),p=n.n(f),O=n(10),h=n(12),m=n(28);!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.CONNECT_WEB3MODAL=0]="CONNECT_WEB3MODAL",e[e.DEACTIVATE_PROVIDER_WEB3MODAL=1]="DEACTIVATE_PROVIDER_WEB3MODAL",e[e.ERROR_WEB3MODAL=2]="ERROR_WEB3MODAL",e[e.INITIAL_CACHED_CONNECTOR_CHECK_STATUS=3]="INITIAL_CACHED_CONNECTOR_CHECK_STATUS",e[e.NEW_WEB3MODAL=4]="NEW_WEB3MODAL",e[e.UPDATE_ACCOUNT=5]="UPDATE_ACCOUNT"}(a||(a={})),function(e){e.CONNECT="CONNECT",e.DISCONNECT="DISCONNECT"}(c||(c={}));var v={};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case a.CONNECT_WEB3MODAL:var c=r||{},o=c.provider,s=c.networkId,i=c.account,u=c.connected,l=c.web3Instance;return Object(d.a)(Object(d.a)({},e),{},{account:i,connected:u,networkId:s,provider:o,web3Instance:l});case a.DEACTIVATE_PROVIDER_WEB3MODAL:return v;case a.ERROR_WEB3MODAL:var b=r||{},j=b.error;return Object(d.a)(Object(d.a)({},e),{},{error:j});case a.INITIAL_CACHED_CONNECTOR_CHECK_STATUS:var f=r||{},p=f.initialCachedConnectorCheckStatus;return Object(d.a)(Object(d.a)({},e),{},{initialCachedConnectorCheckStatus:p});case a.NEW_WEB3MODAL:var O=r||{},h=O.web3Modal;return{web3Modal:h};case a.UPDATE_ACCOUNT:var m=r||{},x=m.account;return Object(d.a)(Object(d.a)({},e),{},{account:x});default:return v}}function A(e){var t,n,r=e.defaultChain,o=e.defaultTheme,b=e.onBeforeConnect,f=e.onBeforeDisconnect,v=e.providerOptions,A=Object(l.useReducer)(x,{initialCachedConnectorCheckStatus:O.a.STANDBY}),g=Object(u.a)(A,2),N=g[0],E=g[1],w=o,y=r||h.k,_=Object(l.useCallback)(T,[b,N.web3Modal]),I=Object(l.useCallback)((function(e){var t,n;if(!(null===(t=N.web3Modal)||void 0===t?void 0:t.cachedProvider))return;_(null===(n=N.web3Modal)||void 0===n?void 0:n.cachedProvider)}),[_,null===(t=N.web3Modal)||void 0===t?void 0:t.cachedProvider]);function C(e){var t=Object(u.a)(e,1)[0];E({type:a.UPDATE_ACCOUNT,payload:{account:t}})}function S(){return(S=Object(i.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.INITIAL_CACHED_CONNECTOR_CHECK_STATUS,"string"===typeof t){e.next=3;break}return e.abrupt("return");case 3:if(E({type:r,payload:{initialCachedConnectorCheckStatus:O.a.PENDING}}),!t){e.next=7;break}return e.next=7,n(t);case 7:E({type:r,payload:{initialCachedConnectorCheckStatus:O.a.FULFILLED}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(s.a.mark((function e(t){var n,r,o,i,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,N.web3Modal.connectTo(t);case 5:return n=e.sent,r=new j.a(n),e.next=9,r.eth.getAccounts();case 9:return o=e.sent,i=Object(u.a)(o,1),d=i[0],e.next=14,null===b||void 0===b?void 0:b();case 14:return e.t0=E,e.t1=a.CONNECT_WEB3MODAL,e.t2=d,e.next=19,r.eth.net.getId();case 19:e.t3=e.sent,e.t4=n,e.t5=r,e.t6={account:e.t2,connected:!0,networkId:e.t3,provider:e.t4,web3Instance:e.t5},e.t7={type:e.t1,payload:e.t6},(0,e.t0)(e.t7),e.next=30;break;case 27:e.prev=27,e.t8=e.catch(0),E({type:a.ERROR_WEB3MODAL,payload:{error:{connectorId:t,error:new Error("Failed to connect to ".concat(t,".")),type:c.CONNECT}}});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function e(){var t,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=N.provider)||void 0===t||null===(n=t.close)||void 0===n?void 0:n.call(t);case 3:if(e.t0=N.web3Modal,!e.t0){e.next=7;break}return e.next=7,N.web3Modal.clearCachedProvider();case 7:return e.next=9,null===f||void 0===f?void 0:f();case 9:E({type:a.DEACTIVATE_PROVIDER_WEB3MODAL}),e.next=16;break;case 12:e.prev=12,e.t1=e.catch(0),o=(null===(r=N.web3Modal)||void 0===r?void 0:r.cachedProvider)||"",E({type:a.ERROR_WEB3MODAL,payload:{error:{connectorId:o,error:new Error("Failed to disconnect from ".concat(o||"provider",".")),type:c.DISCONNECT}}});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){var e,t,n=N.provider;return null===n||void 0===n||null===(e=n.on)||void 0===e||e.call(n,"accountsChanged",C),null===n||void 0===n||null===(t=n.on)||void 0===t||t.call(n,"chainChanged",I),function(){var e,t;null===n||void 0===n||null===(e=n.removeListener)||void 0===e||e.call(n,"accountsChanged",C),null===n||void 0===n||null===(t=n.removeListener)||void 0===t||t.call(n,"chainChanged",I)}}),[I,N.provider]),Object(l.useEffect)((function(){N.web3Modal||E({type:a.NEW_WEB3MODAL,payload:{web3Modal:new p.a({cacheProvider:!0,network:m.c[m.b[y]],providerOptions:v,theme:w})}})}),[v,N.web3Modal,y,w]),Object(l.useEffect)((function(){var e;N.initialCachedConnectorCheckStatus!==O.a.FULFILLED&&N.initialCachedConnectorCheckStatus!==O.a.PENDING&&function(e,t){S.apply(this,arguments)}(null===(e=N.web3Modal)||void 0===e?void 0:e.cachedProvider,_)}),[_,N.initialCachedConnectorCheckStatus,null===(n=N.web3Modal)||void 0===n?void 0:n.cachedProvider]),Object(d.a)(Object(d.a)({},N),{},{connectWeb3Modal:T,disconnectWeb3Modal:function(){return k.apply(this,arguments)},providerOptions:v})}},22:function(e,t,n){"use strict";var r=n(208);n.d(t,"w",(function(){return r.c})),n.d(t,"A",(function(){return r.d}));var a=n(209);n.d(t,"y",(function(){return a.c})),n.d(t,"z",(function(){return a.d}));var c=n(178);n.d(t,"a",(function(){return c.a})),n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.c})),n.d(t,"d",(function(){return c.d})),n.d(t,"e",(function(){return c.e})),n.d(t,"f",(function(){return c.f})),n.d(t,"g",(function(){return c.g})),n.d(t,"h",(function(){return c.h})),n.d(t,"i",(function(){return c.i})),n.d(t,"j",(function(){return c.j})),n.d(t,"k",(function(){return c.k})),n.d(t,"l",(function(){return c.l})),n.d(t,"m",(function(){return c.m})),n.d(t,"n",(function(){return c.n})),n.d(t,"o",(function(){return c.p})),n.d(t,"p",(function(){return c.q})),n.d(t,"q",(function(){return c.r})),n.d(t,"r",(function(){return c.s})),n.d(t,"s",(function(){return c.t})),n.d(t,"t",(function(){return c.u})),n.d(t,"u",(function(){return c.x})),n.d(t,"v",(function(){return c.y})),n.d(t,"x",(function(){return c.z})),n.d(t,"B",(function(){return c.A})),n.d(t,"C",(function(){return c.B})),n.d(t,"D",(function(){return c.C})),n.d(t,"E",(function(){return c.D})),n.d(t,"F",(function(){return c.E})),n.d(t,"G",(function(){return c.F})),n.d(t,"H",(function(){return c.G})),n.d(t,"I",(function(){return c.H})),n.d(t,"J",(function(){return c.I})),n.d(t,"K",(function(){return c.J})),n.d(t,"L",(function(){return c.K})),n.d(t,"M",(function(){return c.L})),n.d(t,"N",(function(){return c.M})),n.d(t,"O",(function(){return c.N})),n.d(t,"P",(function(){return c.O})),n.d(t,"Q",(function(){return c.P})),n.d(t,"R",(function(){return c.Q})),n.d(t,"S",(function(){return c.R})),n.d(t,"T",(function(){return c.S})),n.d(t,"U",(function(){return c.T})),n.d(t,"V",(function(){return c.U})),n.d(t,"W",(function(){return c.V})),n.d(t,"X",(function(){return c.W}));var o=n(242);n.d(t,"Y",(function(){return o.b}))},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(98);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(r.a)(e)){var n=e.substring(0,t),a=e.substring(e.length-3);return n+"..."+a}return e}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n.n(r),c=n(5),o=n(71),s=n.n(o);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:if(r=s.a.utils.sha3(t)){e.next=6;break}throw new Error("No sha3 extension name was returned.");case 6:return e.next=8,n.methods.getExtensionAddress(r).call();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(3),a="SET_SUBGRAPH_NETWORK_STATUS";function c(e){return Object(r.a)({type:a},e)}},244:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(3),c=n(1),o=n(25),s=n(0),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.ariaLabel,n=e.intervalMs,l=void 0===n?1e3:n,b=e.fadeInProps,j=Object(a.a)(Object(a.a)({},b),{},{inline:!0}),f=Object(c.useState)(1),p=Object(r.a)(f,2),O=p[0],h=p[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return h((function(e){return(e+1)%i.length}))}),l);return function(){clearInterval(e)}}),[l]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("span",{"aria-label":t,style:u,children:[Object(s.jsx)("span",{children:O>=0&&i[0]}),Object(s.jsx)("span",{children:O>=1&&Object(s.jsx)(o.a,Object(a.a)(Object(a.a)({},j),{},{children:i[1]}))}),Object(s.jsx)("span",{children:O>=2&&Object(s.jsx)(o.a,Object(a.a)(Object(a.a)({},j),{},{children:i[2]}))}),Object(s.jsx)("span",{children:O>=3&&Object(s.jsx)(o.a,Object(a.a)(Object(a.a)({},j),{},{children:i[3]}))})]}),Object(s.jsx)("span",{style:d,children:"\xa0"})]})}},245:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(2),a=n.n(r),c=n(39),o=n(5),s=n(3),i=n(4),u=n(1),d=n(16),l=n(23),b=n(10),j=n(40),f=n(12),p=n(64),O=n(43),h=n(15),m=n(42),v=n(6),x=n(78),A=n(38),g=n(56),N=n(25),E=n(48),w=n(0),y=b.a.FULFILLED,_=v.f.AWAITING_CONFIRM,I=v.f.FULFILLED,C=v.f.PENDING,S=p.c;function T(e){var t=e.checkApplicant,n=e.proposal,r=n.snapshotDraft,b=n.snapshotProposal,v=n.refetchProposalOrDraft,T=b||{msg:{payload:{}}},D=T.msg,k=D.payload,R=k.choices,P=void 0===R?S:R,F=k.name,L=void 0===F?"":F,B=k.body,M=void 0===B?"":B,U=k.start,G=void 0===U?0:U,V=k.end,W=void 0===V?0:V,Y=k.snapshot,K=void 0===Y?0:Y,H=D.timestamp,z=void 0===H?"":H,q=T.sig,Q=void 0===q?"":q,J=Object(u.useState)(((null===b||void 0===b?void 0:b.sig.length)||"")>0),X=Object(i.a)(J,2),Z=X[0],$=X[1],ee=Object(u.useRef)({body:M,choices:P,end:W,name:L,sig:Q,snapshot:K,space:f.D||"",start:G,timestamp:z}),te=Object(u.useState)(),ne=Object(i.a)(te,2),re=ne[0],ae=ne[1],ce=Object(u.useRef)({invalidApplicantMessage:""}),oe=Object(d.c)((function(e){return e.contracts})),se=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),ie=Object(h.f)(),ue=ie.account,de=ie.web3Instance,le=Object(h.a)(),be=le.txEtherscanURL,je=le.txIsPromptOpen,fe=le.txSend,pe=le.txStatus,Oe=Object(h.b)().average,he=Object(m.g)(),me=he.isDisabled,ve=he.openWhyDisabledModal,xe=he.WhyDisabledModal,Ae=he.setOtherDisabledReasons,ge=Object(O.i)(),Ne=ge.proposalSignAndSendStatus,Ee=ge.signAndSendProposal,we=Object(O.a)(t),ye=we.checkApplicantError,_e=we.checkApplicantInvalidMsg,Ie=we.checkApplicantStatus,Ce=we.isApplicantValid,Se=pe===_||pe===C||Ne===_||Ne===C,Te=Z?pe===I:pe===I&&Ne===I,De=Se||Te||je;function ke(){return(ke=Object(o.a)(a.a.mark((function e(){var t,n,o,i,u,d,f,p,O,h,m,x,A,g,N,E,w,y,_,I,C,S,T,D,k,R,P,F,L;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,se){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(i=(null===(t=r||b)||void 0===t?void 0:t.actionId)||"",u=Object(j.e)(i,oe)){e.next=7;break}throw Error("No contract was found for action id ".concat(i,"."));case 7:if(d=(null===(n=r||b)||void 0===n?void 0:n.idInDAO)||"",f=null===(o=(null===r||void 0===r?void 0:r.msg.payload)||(null===b||void 0===b?void 0:b.msg.payload))||void 0===o?void 0:o.metadata.submitActionArgs,Z||!r){e.next=18;break}return p=r.msg,O=p.payload,h=O.name,m=O.body,x=O.metadata,A=p.timestamp,e.next=13,Ee({partialProposalData:{name:h,body:m,metadata:x,timestamp:A},adapterAddress:u.contractAddress,type:l.SnapshotType.proposal});case 13:g=e.sent,N=g.data,E=g.signature,ee.current={body:N.payload.body,choices:N.payload.choices,end:N.payload.end,name:N.payload.name,sig:E,snapshot:N.payload.snapshot,space:N.space,start:N.payload.start,timestamp:N.timestamp},$(!0);case 18:return w=ee.current,y=w.body,_=w.choices,I=w.end,C=w.name,S=w.sig,T=w.snapshot,D=w.space,k=w.start,R=w.timestamp,P=Object(l.prepareVoteProposalData)({payload:{body:y,choices:_,end:I,name:C,snapshot:T.toString(),start:k},submitter:ue||"",sig:S,space:D,timestamp:parseInt(R)},de),F=[se,d].concat(Object(c.a)(f||[]),[P]),L=Object(s.a)({from:ue||""},Oe?{gasPrice:Oe}:null),e.next=24,fe("submitProposal",u.instance.methods,F,L);case 24:v(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),ae(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){t&&Ie===y&&(!Ce&&_e&&(ce.current=Object(s.a)(Object(s.a)({},ce.current),{},{invalidApplicantMessage:_e})),Ae(Object.values(ce.current)))}),[t,_e,Ie,Ce,Ae]),ye&&console.warn("Error checking if the applicant address is valid: ".concat(ye.message)),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{className:"proposaldetails__button",disabled:me||De,onClick:me||De?function(){}:function(){return ke.apply(this,arguments)},children:Se?Object(w.jsx)(E.a,{}):Te?"Done":"Sponsor"}),Object(w.jsx)(A.a,{error:re,renderText:"Something went wrong"}),De&&Object(w.jsx)("div",{className:"form__submit-status-container",children:function(){if(pe===_||Ne===_)return"Awaiting your confirmation\u2026";switch(pe){case C:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{intervalMs:2e3,messages:p.b,useFirstItemStart:!0,render:function(e){return Object(w.jsx)(N.a,{children:e},e)}}),Object(w.jsx)(g.a,{url:be,isPending:!0})]});case I:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:"Proposal submitted!"}),Object(w.jsx)(g.a,{url:be})]});default:return null}}()}),me&&Object(w.jsx)("button",{className:"button--help-centered",onClick:ve,children:"Why is sponsoring disabled?"})]}),Object(w.jsx)(xe,{title:"Why is sponsoring disabled?"})]})}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(1),n(1059)),c=n(0),o=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},s={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(c.jsx)(a.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(c.jsx)("span",{style:Object(r.a)(Object(r.a)({},o(e)),s[n]),children:e.children}):Object(c.jsx)("div",{style:Object(r.a)(Object(r.a)({},o(e)),s[n]),children:e.children})}})}},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n(4),a=n(1),c=n(71),o=n.n(c),s=n(212),i=n(10),u=n(12),d=n(0),l=Object(a.createContext)({});function b(e){var t,n=e.children,c=e.defaultChain,b=e.defaultTheme,j=void 0===b?s.a.DARK:b,f=e.onBeforeConnect,p=e.onBeforeDisconnect,O=e.providerOptions,h=Object(a.useRef)(new o.a(new o.a.providers.WebsocketProvider(u.n))),m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],A=v[1],g={defaultChain:c,defaultTheme:j,onBeforeConnect:f,onBeforeDisconnect:p,providerOptions:O},N=Object(s.b)(g),E=N.account,w=N.connected,y=N.connectWeb3Modal,_=N.disconnectWeb3Modal,I=N.error,C=N.initialCachedConnectorCheckStatus,S=N.networkId,T=void 0===S?x:S,D=N.provider,k=void 0===D?null===(t=h.current)||void 0===t?void 0:t.currentProvider:D,R=N.web3Instance,P=void 0===R?h.current:R,F=N.web3Modal;Object(a.useEffect)((function(){var e;w||C!==i.a.FULFILLED||(null===(e=h.current)||void 0===e||e.eth.net.getId().then(A).catch((function(){return A(void 0)})))}),[w,C]);var L={account:E,connected:w,connectWeb3Modal:y,disconnectWeb3Modal:_,error:I,initialCachedConnectorCheckStatus:C,networkId:T,provider:k,providerOptions:O,web3Instance:P,web3Modal:F};return Object(d.jsx)(l.Provider,{value:L,children:n})}},28:function(e,t,n){"use strict";var r,a,c,o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.MAX_LENGHT_STRING="The maximum line length has been exceeded.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_EMAIL="The email address is invalid.",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(o||(o={}))},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),c=n(1),o=n(11),s=n(25),i=n(0);function u(e){var t=e.error,n=e.renderText,u=Object(c.useState)(!1),d=Object(a.a)(u,2),l=d[0],b=d[1],j="function"!==typeof t&&(4001===(null===t||void 0===t?void 0:t.code)||/^(the )?user rejected (the )?request$/g.test(Object(o.i)((null===t||void 0===t?void 0:t.message)||""))),f="string"===typeof n?n:n(),p="string"===typeof n&&"function"!==typeof t&&Object(o.i)(n)===Object(o.i)((null===t||void 0===t?void 0:t.message)||"");return!t||j?null:Object(i.jsx)(s.a,{children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("p",{className:"error-message",children:f}),t&&!p&&Object(i.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(i.jsx)("summary",{"aria-expanded":l,className:"error-message",onClick:function(){return b(!l)},style:{cursor:"pointer",outline:"none"},children:Object(i.jsx)("small",{children:"Details"})}),Object(i.jsx)("p",{className:"error-message",children:Object(i.jsx)("small",{children:"function"===typeof t?t():t.message})})]}))]})})}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return T}));var r=n(2),a=n.n(r),c=n(3),o=n(39),s=n(5),i=n(134),u=n.n(i);function d(e,t,n,r,a){return l.apply(this,arguments)}function l(){return l=Object(s.a)(a.a.mark((function e(t,n,r,i,d){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(s.a)(a.a.mark((function e(s,l){var b,j,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b=u.a,j=n[t],e.next=5,j.apply(void 0,Object(o.a)(r)).estimateGas({from:i.from,value:i.value});case 5:return f=e.sent,p=new b(f).decimalPlaces(0,u.a.ROUND_DOWN).toNumber(),e.next=9,j.apply(void 0,Object(o.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:p})).on("transactionHash",(function(e){d&&d(e)})).on("receipt",(function(e){s(e)})).on("error",(function(e){l(e)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}var b=n(71),j=n.n(b);function f(e,t){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:if(r=j.a.utils.sha3(t)){e.next=6;break}throw new Error("No sha3 adapter name was returned.");case 6:return e.next=8,n.methods.getAdapterAddress(r).call();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var O=n(6);function h(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function m(e,t){try{switch(e){case O.a.configuration:return"";case O.a.distribute:return h(t.DistributeContract);case O.a.financing:case O.a.guildkick:return"";case O.a.managing:return h(t.ManagingContract);case O.a.onboarding:return h(t.OnboardingContract);case O.a.ragequit:return"";case O.a.tribute:return h(t.TributeContract);case O.a.tribute_nft:return h(t.TributeNFTContract);case O.a.voting:return h(t.VotingContract);case O.a.movement:return h(t.MovementContract);case O.a.unagii_deposit:return h(t.UnagiiDeposit);case O.a.unagii_withdraw:return h(t.UnagiiWithdraw);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var v,x=n(11);function A(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(x.i)(t.contractAddress)===Object(x.i)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function g(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:if(r=j.a.utils.sha3(t)){e.next=6;break}throw new Error("No sha3 config key was returned.");case 6:return e.next=8,n.methods.getConfiguration(r).call();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,t.methods.state().call();case 5:return n=e.sent,e.abrupt("return",0===Number(n)?v.CREATION:v.READY);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(v||(v={}));n(488),n(241);function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(a.a.mark((function e(t,r){var c,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(0).then(n.t.bind(null,1111,3));case 3:return c=e.sent,o=c.default,e.next=7,new r.eth.Contract(o,t).methods.getAdapterName().call();case 7:return s=e.sent,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function I(e,t){return e===Math.log2(Number(t)+1)-1}var C=n(4),S=n(12);function T(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(a.a.mark((function e(t){var r,c,o,s,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,o=t.calls,s=t.web3Instance,e.next=3,n.e(25).then(n.t.bind(null,1112,3));case 3:if(i=e.sent,u=i.default,S.x){e.next=7;break}throw new Error("No Multicall address was found. Are you sure it is set?");case 7:return e.prev=7,d=new s.eth.Contract(u,S.x),l=d.methods,e.next=11,l.aggregate(o.map((function(e){var t=Object(C.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),s.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 11:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=o[t][1].outputs||[],r=s.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:s.eth.abi.decodeParameters(n||[],e)})));case 16:throw e.prev=16,e.t0=e.catch(7),e.t0;case 19:case"end":return e.stop()}}),e,null,[[7,16]])})))).apply(this,arguments)}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return G})),n.d(t,"j",(function(){return H})),n.d(t,"i",(function(){return z}));var r=n(1),a=n(27),c=n(4);function o(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return o.current=!0,!n&&a(new AbortController),function(){o.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:o}}var s={count:0};function i(e,t){return"increment"===t.type?{count:e.count+1}:e}function u(){var e=Object(r.useReducer)(i,s),t=Object(c.a)(e,2),n=t[0],a=t[1];return[n.count,a]}var d=n(1108),l=n(16),b=n(103);function j(){var e=Object(l.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(d.a)(b.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(c.a)(t,2),a=n[0],o=n[1],s=o.called,i=o.loading,u=o.data,j=o.error,f=Object(r.useState)(),p=Object(c.a)(f,2),O=p[0],h=p[1],m=Object(r.useState)(),v=Object(c.a)(m,2),x=v[0],A=v[1],g=Object(r.useCallback)((function(){try{if(!i&&u){if(h(u.tributeDaos[0]),0===u.tributeDaos.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){A(j)}}),[null===e||void 0===e?void 0:e.contractAddress,u,j,i]);return Object(r.useEffect)((function(){s||a()}),[s,a]),Object(r.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&g()}),[null===e||void 0===e?void 0:e.contractAddress,g,i]),{dao:O,gqlError:x}}var f=n(2),p=n.n(f),O=n(5),h=n(10),m=n(40),v=n(15),x=[];function A(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),a=Object(r.useState)(x),o=Object(c.a)(a,2),s=o[0],i=o[1],u=Object(r.useState)(h.a.STANDBY),d=Object(c.a)(u,2),b=d[0],j=d[1],f=Object(r.useState)(),A=Object(c.a)(f,2),g=A[0],N=A[1],E=Object(v.f)().web3Instance,w=null===n||void 0===n?void 0:n.find((function(e){return"getConfiguration"===e.name}));function y(){return y=Object(O.a)(p.a.mark((function e(t){var n,r,a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abi,r=t.configKeys,a=t.contractAddress,c=t.web3Instance,e.prev=1,o=r.map((function(e){return[a,n,[c.utils.sha3(e)||""]]})),N(void 0),j(h.a.PENDING),e.t0=i,e.next=8,Object(m.j)({calls:o,web3Instance:c});case 8:e.t1=e.sent,(0,e.t0)(e.t1),j(h.a.FULFILLED),e.next=18;break;case 13:e.prev=13,e.t2=e.catch(1),i(x),j(h.a.REJECTED),N(e.t2);case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),y.apply(this,arguments)}return Object(r.useEffect)((function(){t&&w&&E&&function(e){y.apply(this,arguments)}({abi:w,configKeys:e,contractAddress:t,web3Instance:E})}),[e,t,w,E]),{daoConfigurations:s,daoConfigurationsError:g,daoConfigurationsStatus:b}}var g=n(111),N=n(12);function E(){var e=Object(l.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(l.c)((function(e){return e.contracts.BankExtensionContract})),n=Object(l.c)((function(e){return e.subgraphNetworkStatus.status})),a=Object(d.a)(b.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),o=Object(c.a)(a,2),s=o[0],i=o[1],u=i.called,j=i.loading,f=i.data,m=i.error,v=Object(r.useState)(),x=Object(c.a)(v,2),A=x[0],E=x[1],w=Object(r.useState)(h.a.STANDBY),y=Object(c.a)(w,2),_=y[0],I=y[1],C=Object(r.useState)(),S=Object(c.a)(C,2),T=S[0],D=S[1],k=Object(r.useCallback)((function(){return P.apply(this,arguments)}),[t]),R=Object(r.useCallback)((function(){try{if(I(h.a.PENDING),!j&&f){var e=f.tributeDaos[0].totalUnits;E(Number(e)),I(h.a.FULFILLED)}else if(m)throw new Error(m.message)}catch(m){console.log("subgraph query error: ".concat(m.message)),k()}}),[f,m,k,j]);function P(){return(P=Object(O.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I(h.a.PENDING),e.next=6,t.instance.methods.balanceOf(N.E,N.H).call();case 6:n=e.sent,E(Number(n)),I(h.a.FULFILLED),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),E(void 0),D(e.t0),I(h.a.REJECTED);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){u||s()}),[u,s]),Object(r.useEffect)((function(){n===g.a.OK?!j&&(null===e||void 0===e?void 0:e.contractAddress)&&R():k()}),[null===e||void 0===e?void 0:e.contractAddress,k,R,j,n]),{totalUnits:A,totalUnitsError:T,totalUnitsStatus:_}}function w(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var y=n(179),_=n.n(y),I=n(25),C=n(115),S=n(0);function T(e){var t=(e||{}).skipIsActiveMemberCheck,n=void 0!==t&&t,a=Object(r.useState)([]),o=Object(c.a)(a,2),s=o[0],i=o[1],u=Object(r.useState)(!1),d=Object(c.a)(u,2),b=d[0],j=d[1],f=Object(l.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),p=Object(v.f)().connected,O=s&&s.find((function(e){return e})),h=function(){if(!p)return"Your wallet is not connected.";if(!f&&!n)return"Either you are not a member, or your membership is not active.";return O||""}(),m=!!h||!!O,x=!(!m||!h),A=Object(r.useCallback)((function(e){if(!x)return null;var t=e.title;return Object(S.jsx)(_.a,{ariaHideApp:!1,className:"modal-container",isOpen:b,onRequestClose:function(){j(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(S.jsx)(I.a,{children:Object(S.jsxs)("div",{className:"modal",children:[Object(S.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){j(!1)},children:Object(S.jsx)(C.a,{})}),Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(S.jsx)("p",{children:h})]})]})})})}),[x,h,b]),g=Object(r.useCallback)((function(e){i(e.filter(Boolean))}),[]);return{disabledReason:h,isDisabled:m,openWhyDisabledModal:function(){j(!0)},setOtherDisabledReasons:g,WhyDisabledModal:A}}var D=n(134),k=n.n(D),R=h.a.STANDBY,P=h.a.PENDING,F=h.a.FULFILLED,L=h.a.REJECTED,B="production"===N.m?15e3:5e3;function M(e){return U.apply(this,arguments)}function U(){return U=Object(O.a)(p.a.mark((function e(t){var n,r,a,c,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.block,r=t.blockOffset,a=void 0===r?2:r,c=t.isMountedRef,o=t.pollInterval,s=void 0===o?B:o,i=t.web3Instance,e.abrupt("return",new Promise(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){return t-e>=Math.abs(a)},e.prev=1,e.t0=o,e.t1=n,e.next=6,i.eth.getBlockNumber();case 6:if(e.t2=e.sent,!(0,e.t0)(e.t1,e.t2)){e.next=10;break}return t(!0),e.abrupt("return");case 10:e.next=16;break;case 12:return e.prev=12,e.t3=e.catch(1),r(e.t3),e.abrupt("return");case 16:u=setInterval(Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===c||void 0===c?void 0:c.current){e.next=4;break}return clearInterval(u),e.abrupt("return");case 4:return e.t0=o,e.t1=n,e.next=8,i.eth.getBlockNumber();case 8:if(e.t2=e.sent,!(0,e.t0)(e.t1,e.t2)){e.next=12;break}clearInterval(u),t(!0);case 12:e.next=18;break;case 14:e.prev=14,e.t3=e.catch(0),clearInterval(u),r(e.t3);case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),s);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function G(e,t,n){var a=n||{},o=a.blockCheckOffset,s=a.currentBlockPollIntervalMs,i=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),u=Object(r.useState)(),d=Object(c.a)(u,2),b=d[0],j=d[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),m=h[0],x=h[1],A=Object(r.useState)(),g=Object(c.a)(A,2),E=g[0],y=g[1],_=Object(r.useState)(R),I=Object(c.a)(_,2),C=I[0],S=I[1],T=Object(v.f)().web3Instance,D=w().isMountedRef,B=Object(r.useCallback)((function(e){return U.apply(this,arguments)}),[D]);function U(){return U=Object(O.a)(p.a.mark((function e(t){var n,r,a,c,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bankExtensionMethods,r=t.blockCheckOffset,a=t.currentBlockPollIntervalMs,c=t.memberAddress,o=t.snapshot,s=t.web3Instance,e.prev=1,y(void 0),S(P),e.next=6,M({block:o,blockOffset:r,isMountedRef:D,pollInterval:a,web3Instance:s});case 6:return e.next=8,n.getPriorAmount(c,N.H,o).call();case 8:if(i=e.sent,D.current){e.next=11;break}return e.abrupt("return");case 11:j(i),x(new k.a(i).isGreaterThan(new k.a(0))),S(F),e.next=24;break;case 16:if(e.prev=16,e.t0=e.catch(1),D.current){e.next=20;break}return e.abrupt("return");case 20:x(!1),j(void 0),y(e.t0),S(L);case 24:case"end":return e.stop()}}),e,null,[[1,16]])}))),U.apply(this,arguments)}return Object(r.useEffect)((function(){e&&t&&i&&T&&B({bankExtensionMethods:i,blockCheckOffset:o,currentBlockPollIntervalMs:s,memberAddress:e,snapshot:t,web3Instance:T})}),[i,o,s,B,e,t,T]),{hasMembershipAtSnapshot:m,memberUnitsAtSnapshot:b,memberUnitsAtSnapshotError:E,memberUnitsAtSnapshotStatus:C}}n(180);var V=h.a.FULFILLED,W=h.a.PENDING,Y=h.a.STANDBY;function K(e){return Object.values(e).every((function(e){return e===V}))}function H(e,t){var n=Object(r.useRef)({start:Y,end:Y}),a=Object(r.useState)(!1),o=Object(c.a)(a,2),s=o[0],i=o[1],u=Object(r.useState)(!1),d=Object(c.a)(u,2),l=d[0],b=d[1],j=Object(r.useState)(K(n.current)),f=Object(c.a)(j,2),p=f[0],O=f[1],h=void 0===e||void 0===t||e<=0||t<=0;return Object(r.useEffect)((function(){if(!s&&!h){O((function(){return n.current.start=W,K(n.current)}));var t=setInterval((function(){var t=Math.floor(Date.now()/1e3)>(null!==e&&void 0!==e?e:0);i(t),n.current.start!==V&&O((function(){return n.current.start=V,K(n.current)}))}),1e3);return function(){t&&clearInterval(t)}}O((function(){return n.current.start=V,K(n.current)}))}),[s,h,e]),Object(r.useEffect)((function(){if(!l&&!h){O((function(){return n.current.end=W,K(n.current)}));var e=setInterval((function(){var e=Math.ceil(Date.now()/1e3)>(null!==t&&void 0!==t?t:0);b(e),n.current.end!==V&&O((function(){return n.current.end=V,K(n.current)}))}),1e3);return function(){e&&clearInterval(e)}}O((function(){return n.current.end=V,K(n.current)}))}),[t,l,h]),{hasTimeStarted:s,hasTimeEnded:l,timeStartEndInitReady:p}}function z(){return Object(r.useContext)(a.ThemeContext)}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return R})),n.d(t,"f",(function(){return G})),n.d(t,"g",(function(){return V})),n.d(t,"e",(function(){return ee})),n.d(t,"h",(function(){return re})),n.d(t,"i",(function(){return ae}));var r=n(2),a=n.n(r),c=n(5),o=n(4),s=n(16),i=n(1),u=n(536),d=n.n(u),l=n(10),b=n(40),j=n(11),f=n(15);function p(e){var t=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),n=Object(i.useState)(),r=Object(o.a)(n,2),u=r[0],p=r[1],O=Object(i.useState)(),h=Object(o.a)(O,2),m=h[0],v=h[1],x=Object(i.useState)(l.a.STANDBY),A=Object(o.a)(x,2),g=A[0],N=A[1],E=Object(i.useState)(),w=Object(o.a)(E,2),y=w[0],_=w[1],I=Object(f.f)().web3Instance,C=d()(e),S=Object(i.useCallback)((function(){return T.apply(this,arguments)}),[t,e,I]);function T(){return(T=Object(c.a)(a.a.mark((function n(){var r,c,s,i,u,d,f,O,h,m,x,A,g,E;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&I){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,N(l.a.PENDING),r=Object(j.l)(e,7),c=t.abi,s=t.contractAddress,i=c.find((function(e){return"isNotReservedAddress"===e.name})),u=[s,i,[e]],d=c.find((function(e){return"isNotZeroAddress"===e.name})),f=[s,d,[e]],O=c.find((function(e){return"getAddressIfDelegated"===e.name})),h=[u,f,[s,O,[e]]],n.next=15,Object(b.j)({calls:h,web3Instance:I});case 15:m=n.sent,x=Object(o.a)(m,3),A=x[0],g=x[1],E=x[2],A?g?Object(j.i)(e)!==Object(j.i)(E)?(_(!1),v("The applicant address ".concat(r," is already in use as a delegate key. The address must be removed as a delegate before it can become a member."))):(_(!0),v(void 0)):(_(!1),v("The applicant address ".concat(r," is invalid."))):(_(!1),v("The applicant address ".concat(r," is invalid because it is a DAO reserved address."))),N(l.a.FULFILLED),n.next=30;break;case 24:n.prev=24,n.t0=n.catch(2),_(void 0),v(void 0),p(n.t0),N(l.a.REJECTED);case 30:case"end":return n.stop()}}),n,null,[[2,24]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){C&&!e&&(p(void 0),v(void 0),_(void 0),N(l.a.STANDBY)),e&&S()}),[e,S,C]),{checkApplicantError:u,checkApplicantInvalidMsg:m,checkApplicantStatus:g,isApplicantValid:y}}var O=n(74),h=[];function m(e){var t=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi.find((function(e){return"proposals"===e.name}))})),n=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(i.useState)(h),u=Object(o.a)(r,2),d=u[0],j=u[1],p=Object(i.useState)(l.a.STANDBY),m=Object(o.a)(p,2),v=m[0],x=m[1],A=Object(i.useState)(),g=Object(o.a)(A,2),N=g[0],E=g[1],w=Object(i.useState)(),y=Object(o.a)(w,2),_=y[0],I=y[1],C=Object(i.useState)(),S=Object(o.a)(C,2),T=S[0],D=S[1],k=Object(f.f)().web3Instance,R=Object(O.useQuery)(["daoProposals",T],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===T||void 0===T?void 0:T.length)&&k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.j)({calls:T,web3Instance:k});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!(null===T||void 0===T?void 0:T.length)&&!!k}),P=R.data,F=R.error,L=Object(i.useCallback)((function(){return B.apply(this,arguments)}),[P,F,_]);function B(){return(B=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,_){e.next=3;break}return e.abrupt("return");case 3:if(_.length){e.next=7;break}return x(l.a.FULFILLED),j([]),e.abrupt("return");case 7:if(x(l.a.PENDING),E(void 0),!F){e.next=11;break}throw F;case 11:P&&(j(_.map((function(e,t){return[e,P[t]]}))),x(l.a.FULFILLED)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),j(h),E(e.t0),x(l.a.REJECTED);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){e.length&&_&&t&&n&&k&&L()}),[L,e.length,t,n,_,k]),Object(i.useEffect)((function(){if(e.length&&k){var t=e.filter(k.utils.isHexStrict);I(t)}}),[e,k]),Object(i.useEffect)((function(){if(t&&n&&(null===_||void 0===_?void 0:_.length)){var e=_.map((function(e){return[n,t,[e]]}));D(e)}}),[t,n,_]),{daoProposals:d,daoProposalsStatus:v,daoProposalsError:N}}var v=n(537),x=n(39),A=n(9),g=n(23),N=n(12),E=n(42),w=n(6);function y(e){var t=Object(s.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),n=Object(s.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),r=Object(i.useState)([]),u=Object(o.a)(r,2),d=u[0],j=u[1],p=Object(i.useState)(l.a.STANDBY),h=Object(o.a)(p,2),m=h[0],y=h[1],_=Object(i.useState)(),I=Object(o.a)(_,2),C=I[0],S=I[1],T=Object(i.useState)([]),D=Object(o.a)(T,2),k=D[0],R=D[1],P=null===t||void 0===t?void 0:t.find((function(e){return"getPriorAmount"===e.name})),F=Object(f.f)().web3Instance,L=Object(E.f)().isMountedRef,B=Object(O.useQuery)(["votingResultsToSet",k],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&P&&k.length&&F){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(k.map(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,o,s,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===t||void 0===t?void 0:t.msg.payload.snapshot,(o=null===t||void 0===t?void 0:t.idInSnapshot)&&c){e.next=4;break}return e.abrupt("return");case 4:if((s=null===t||void 0===t||null===(r=t.votes)||void 0===r?void 0:r.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]})))&&s.length){e.next=7;break}return e.abrupt("return");case 7:return i=Object.entries(Object.fromEntries(s)),e.prev=8,e.next=11,G({bankAddress:n,getPriorAmountABI:P,snapshot:c,voterAddressesAndChoices:i,web3Instance:F});case 11:return u=e.sent,e.abrupt("return",[o,u]);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!n&&!!P&&!!k.length&&!!F}),M=B.data,U=B.error,G=Object(i.useCallback)((function(e){return Y.apply(this,arguments)}),[]),V=Object(i.useCallback)((function(){return W.apply(this,arguments)}),[n,P,L,k.length,M,U,F]);function W(){return(W=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&P&&k.length&&F){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,y(l.a.PENDING),!U){e.next=6;break}throw U;case 6:if(!M){e.next=13;break}if(t=M.filter((function(e){return e})),L.current){e.next=10;break}return e.abrupt("return");case 10:y(l.a.FULFILLED),j(t),S(void 0);case 13:e.next=22;break;case 15:if(e.prev=15,e.t0=e.catch(2),L.current){e.next=19;break}return e.abrupt("return");case 19:y(l.a.REJECTED),j([]),S(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function Y(){return Y=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i,u,d,l,j,f,p,O,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bankAddress,r=t.getPriorAmountABI,c=t.snapshot,s=t.voterAddressesAndChoices,i=t.web3Instance,e.prev=1,u={},Object(A.a)(u,w.e.Yes,{percentage:0,units:0}),Object(A.a)(u,w.e.No,{percentage:0,units:0}),Object(A.a)(u,"totalUnits",0),d=u,l=[n,r,[N.E,N.H,c.toString()]],j=s.map((function(e){var t=Object(o.a)(e,1)[0];return[n,r,[t,N.H,c.toString()]]})),f=[l].concat(Object(x.a)(j)),e.next=8,Object(b.j)({calls:f,web3Instance:i});case 8:return p=e.sent,O=Object(v.a)(p),h=O[0],O.slice(1).forEach((function(e,t){var n=g.VoteChoicesIndex[s[t][1]]===g.VoteChoicesIndex[g.VoteChoicesIndex.Yes]?w.e.Yes:w.e.No;d[n].units+=Number(e)})),d[w.e.Yes].percentage=d[w.e.Yes].units/Number(h)*100,d[w.e.No].percentage=d[w.e.No].units/Number(h)*100,d.totalUnits=Number(h),e.abrupt("return",d);case 19:throw e.prev=19,e.t0=e.catch(1),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,19]])}))),Y.apply(this,arguments)}return Object(i.useEffect)((function(){V()}),[V]),Object(i.useEffect)((function(){var t=Array.isArray(e)?e:[e];R(t)}),[e]),{offchainVotingResults:d,offchainVotingResultsError:C,offchainVotingResultsStatus:m}}var _=n(3),I=n(61),C=n(58),S=[];function T(e){var t=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),u=Object(f.f)().web3Instance,d=Object(i.useState)(S),j=Object(o.a)(d,2),p=j[0],O=j[1],h=Object(i.useState)(),m=Object(o.a)(h,2),v=m[0],x=m[1],A=Object(i.useState)(l.a.STANDBY),g=Object(o.a)(A,2),N=g[0],E=g[1],w=Object(i.useCallback)((function(){return y.apply(this,arguments)}),[e,r,t,u]);function y(){return y=Object(c.a)(a.a.mark((function o(){var s,i,d,j,f,p,h,m,v,A,g,N;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.length&&r&&t&&u){o.next=2;break}return o.abrupt("return");case 2:if((s=e.filter(u.utils.isHexStrict)).length){o.next=7;break}return O(S),E(l.a.FULFILLED),o.abrupt("return");case 7:if(o.prev=7,i=r.find((function(e){return"votingAdapter"===e.name}))){o.next=11;break}throw new Error('No "votingAdapter" ABI function was found in the DAO registry ABI.');case 11:return d=s.map((function(e){return[t,i,[e]]})),E(l.a.PENDING),o.next=15,Object(b.j)({calls:d,web3Instance:u});case 15:return j=o.sent,o.next=18,n.e(0).then(n.t.bind(null,1111,3));case 18:if(f=o.sent,p=f.default,h=p.find((function(e){return"getAdapterName"===e.name}))){o.next=23;break}throw new Error('No "getAdapterName" ABI function was found in the IVoting ABI.');case 23:if(m=s.filter((function(e,t){return j[t]!==I.a})),(v=j.filter((function(e){return e!==I.a}))).length){o.next=29;break}return O(S),E(l.a.FULFILLED),o.abrupt("return");case 29:return A=v.map((function(e){return[e,h,[]]})),o.next=32,Object(b.j)({calls:A,web3Instance:u});case 32:return g=o.sent,o.next=35,Promise.all(m.map(function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(g[n]);case 2:return r=e.sent,c=v[n],e.abrupt("return",[t,{votingAdapterName:g[n],votingAdapterAddress:c,getVotingAdapterABI:function(){return r},getWeb3VotingAdapterContract:function(){return new u.eth.Contract(r,c)}}]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 35:N=o.sent,O(N),E(l.a.FULFILLED),o.next=45;break;case 40:o.prev=40,o.t0=o.catch(7),E(l.a.REJECTED),O([]),x(o.t0);case 45:case"end":return o.stop()}}),o,null,[[7,40]])}))),y.apply(this,arguments)}return Object(i.useEffect)((function(){w()}),[w]),{proposalsVotingAdapters:p,proposalsVotingAdaptersError:v,proposalsVotingAdaptersStatus:N}}var D="Something went wrong while getting the proposal.",k="Proposal was not found.";function R(e,t){var n,r=Object(i.useState)(),s=Object(o.a)(r,1)[0],u=Object(i.useState)(),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(i.useState)(),p=Object(o.a)(f,2),h=p[0],m=p[1],v=Object(i.useState)(!1),x=Object(o.a)(v,2),A=x[0],w=x[1],y=Object(i.useState)(),I=Object(o.a)(y,2),C=I[0],S=I[1],R=Object(i.useState)(l.a.STANDBY),P=Object(o.a)(R,2),F=P[0],L=P[1],B=Object(i.useState)([e]),M=Object(o.a)(B,2),U=M[0],G=M[1],V=Object(i.useState)(l.a.STANDBY),W=Object(o.a)(V,2),Y=W[0],K=W[1],H=Object(i.useState)(),z=Object(o.a)(H,2),q=z[0],Q=z[1],J=Object(E.a)(),X=J.abortController,Z=J.isMountedRef,$=Object(E.b)(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=T(U),ae=re.proposalsVotingAdapters,ce=re.proposalsVotingAdaptersError,oe=re.proposalsVotingAdaptersStatus,se=Object(O.useQueryClient)(),ie=Object(i.useCallback)((function(){return je.apply(this,arguments)}),[null===X||void 0===X?void 0:X.signal,e,Z]),ue=Object(i.useCallback)((function(){return fe.apply(this,arguments)}),[null===X||void 0===X?void 0:X.signal,e,Z,t]),de=Object(i.useCallback)((function(){return pe.apply(this,arguments)}),[ie,ue]),le=h?g.SnapshotType.proposal:b?g.SnapshotType.draft:void 0,be=b||h?{daoProposal:s,daoProposalVotingAdapter:null===(n=ae[0])||void 0===n?void 0:n[1],getCommonSnapshotProposalData:function(){switch(le){case g.SnapshotType.draft:return b;case g.SnapshotType.proposal:return h;default:return}},refetchProposalOrDraft:function(){ne({type:"increment"})},snapshotDraft:b,snapshotProposal:h,snapshotType:le}:void 0;function je(){return(je=Object(c.a)(a.a.mark((function t(){var n,r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(l.a.PENDING),t.next=4,fetch("".concat(N.C,"/api/").concat(N.D,"/draft/").concat(e),{signal:null===X||void 0===X?void 0:X.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(D);case 7:return t.next=9,n.json();case 9:if(r=t.sent,Z.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw w(!0),new Error(k);case 15:return c=Object.keys(r)[0],o=Object(_.a)({idInDAO:c,idInSnapshot:c},r[c]),L(l.a.FULFILLED),j(o),t.abrupt("return",o);case 22:if(t.prev=22,t.t0=t.catch(0),Z.current){t.next=26;break}return t.abrupt("return");case 26:L(l.a.REJECTED),S(t.t0);case 28:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function fe(){return(fe=Object(c.a)(a.a.mark((function n(){var r,c,o,s,i,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,L(l.a.PENDING),n.next=4,fetch("".concat(N.C,"/api/").concat(N.D,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===X||void 0===X?void 0:X.signal});case 4:if((c=n.sent).ok){n.next=9;break}if(t!==g.SnapshotType.proposal){n.next=8;break}throw new Error(D);case 8:return n.abrupt("return");case 9:return n.next=11,c.json();case 11:if(o=n.sent,Z.current){n.next=14;break}return n.abrupt("return");case 14:if(o&&Object.keys(o).length){n.next=19;break}if(t!==g.SnapshotType.proposal){n.next=18;break}throw w(!0),new Error(k);case 18:return n.abrupt("return");case 19:return s=Object.keys(o)[0],i=(null===(r=o[s])||void 0===r?void 0:r.data.erc712DraftHash)||s,u=Object(_.a)({idInDAO:i,idInSnapshot:s},o[s]),L(l.a.FULFILLED),m(u),n.abrupt("return",u);case 27:if(n.prev=27,n.t0=n.catch(0),Z.current){n.next=31;break}return n.abrupt("return");case 31:L(l.a.REJECTED),S(n.t0);case 33:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function pe(){return(pe=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:if(t=e.sent){e.next=9;break}return e.next=6,ie();case 6:return n=e.sent,j(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(null===X||void 0===X?void 0:X.signal)switch(t){case g.SnapshotType.draft:ie();break;case g.SnapshotType.proposal:ue();break;default:de()}}),[null===X||void 0===X?void 0:X.signal,ie,ue,de,te,t]),Object(i.useEffect)((function(){0!==te&&G([e])}),[e,te]),Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==te){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,se.resetQueries();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[se,te]),Object(i.useEffect)((function(){var e=l.a.STANDBY,t=l.a.PENDING,n=l.a.FULFILLED,r=l.a.REJECTED,a=[F,oe];F!==e?a.some((function(e){return e===t}))&&0===te?K(t):a.every((function(e){return e===n}))?K(n):F!==n||oe!==n||ae.length?a.some((function(e){return e===r}))&&K(r):K(n):K(e)}),[F,ae.length,oe,te]),Object(i.useEffect)((function(){Q([C,ce].find((function(e){return e})))}),[C,ce]),{proposalData:be,proposalError:q,proposalNotFound:A,proposalStatus:Y}}var P=n(18);var F=[];function L(e){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(N.C,"/api/").concat(N.D),e.next=4,fetch("".concat(n,"/drafts/").concat(t));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot drafts.");case 7:return e.next=9,r.json();case 9:return c=e.sent,s=Object.entries(c).filter((function(e){var t=Object(o.a)(e,2);t[0];return!1===t[1].data.sponsored})),e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(N.C,"/api/").concat(N.D),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return c=e.sent,s=Object.entries(c).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return[r.data.erc712DraftHash||n,r]})),e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function G(e){var t=e.adapterName,n=e.includeProposalsExistingOnlyOffchain,r=void 0!==n&&n,u=Object(i.useState)(),d=Object(o.a)(u,2),p=d[0],h=d[1],v=Object(i.useState)(F),N=Object(o.a)(v,2),E=N[0],w=N[1],y=Object(i.useState)(l.a.STANDBY),I=Object(o.a)(y,2),C=I[0],S=I[1],D=Object(i.useState)(),k=Object(o.a)(D,2),R=k[0],B=k[1],U=Object(i.useState)(F),G=Object(o.a)(U,2),W=G[0],Y=G[1],K=Object(i.useState)(F),H=Object(o.a)(K,2),z=H[0],q=H[1],Q=Object(i.useState)(l.a.STANDBY),J=Object(o.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(s.c)((function(e){return e.contracts})),ae=m(Object(i.useMemo)((function(){return E.map((function(e){return e[0]}))}),[E])),ce=ae.daoProposals,oe=ae.daoProposalsError,se=ae.daoProposalsStatus,ie=T(W),ue=ie.proposalsVotingAdapters,de=ie.proposalsVotingAdaptersError,le=ie.proposalsVotingAdaptersStatus,be=V(ue),je=be.proposalsVotingState,fe=be.proposalsVotingStateError,pe=be.proposalsVotingStateStatus,Oe=function(e){var t=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),n=Object(i.useState)([]),r=Object(o.a)(n,2),u=r[0],d=r[1],j=Object(i.useState)(),p=Object(o.a)(j,2),h=p[0],m=p[1],v=Object(i.useState)(l.a.STANDBY),x=Object(o.a)(v,2),g=x[0],N=x[1],E=Object(i.useState)(),w=Object(o.a)(E,2),y=w[0],_=w[1],I=Object(f.f)().web3Instance,C=Object(O.useQuery)(["votesDataCalls",y],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(y.map(function(){var e=Object(c.a)(a.a.mark((function e(n){var r,c,s,i,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.a)(n,2),c=r[0],s=r[1],i=s.votingAdapterAddress,u=s.getVotingAdapterABI,d=s.votingAdapterName,e.t0=i,e.next=4,B(d,u());case 4:return e.t1=e.sent,e.t2=[t,c],e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!e.length&&!!y&&!!t&&!!I}),S=C.data,T=C.error,D=Object(O.useQuery)(["votesDataResults",null===S||void 0===S?void 0:S.length],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===S||void 0===S?void 0:S.length)&&I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.j)({calls:S,web3Instance:I});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!(null===S||void 0===S?void 0:S.length)&&!!I}),k=D.data,R=D.error,F=Object(i.useCallback)((function(){return L.apply(this,arguments)}),[y,S,T,k,R]);function L(){return(L=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:if(y.length){e.next=6;break}return N(l.a.FULFILLED),d([]),e.abrupt("return");case 6:if(e.prev=6,N(l.a.PENDING),!T){e.next=10;break}throw T;case 10:if(!S){e.next=14;break}if(!R){e.next=13;break}throw R;case 13:k&&(d(y.map((function(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1].votingAdapterName;return[r,Object(A.a)({},a,k[t])]}))),N(l.a.FULFILLED));case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(6),d([]),N(l.a.REJECTED),m(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}function B(e,t){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===P.c.OffchainVotingContract?4:e.t0===P.c.VotingContract?8:12;break;case 4:if(r=n.find((function(e){return"votes"===e.name}))){e.next=7;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 7:return e.abrupt("return",r);case 8:if(c=n.find((function(e){return"votes"===e.name}))){e.next=11;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 11:return e.abrupt("return",c);case 12:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(0),e.t1;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){e.length&&y&&t&&I&&F()}),[F,e.length,t,y,I]),Object(i.useEffect)((function(){if(e.length&&I){var t=e.filter((function(e){var t=Object(o.a)(e,1)[0];return I.utils.isHexStrict(t)}));_(t)}}),[e,I]),{proposalsVotes:u,proposalsVotesError:h,proposalsVotesStatus:g}}(ue),he=Oe.proposalsVotes,me=Oe.proposalsVotesError,ve=Oe.proposalsVotesStatus,xe=Object(O.useQuery)(["snapshotDraftEntries",p],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L(p);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!p}),Ae=xe.data,ge=xe.error,Ne=Object(O.useQuery)(["snapshotProposalEntries",p],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M(p);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!p}),Ee=Ne.data,we=Ne.error,ye=ge||we,_e=Object(i.useCallback)((function(){return Ie.apply(this,arguments)}),[ye,Ae,Ee]);function Ie(){return(Ie=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(l.a.PENDING),B(void 0),!ye){e.next=5;break}throw ye;case 5:if(!Ae||!Ee){e.next=12;break}if((t=[].concat(Object(x.a)(Ae),Object(x.a)(Ee))).length){e.next=10;break}return S(l.a.FULFILLED),e.abrupt("return");case 10:w(t),S(l.a.FULFILLED);case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),S(l.a.REJECTED),w(F),B(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){var e,n,r=null===(e=Object.entries(re).find((function(e){var n=Object(o.a)(e,2),r=(n[0],n[1]);return(null===r||void 0===r?void 0:r.adapterOrExtensionName)===t})))||void 0===e||null===(n=e[1])||void 0===n?void 0:n.contractAddress;h(r)}),[p,t,re]),Object(i.useEffect)((function(){p&&_e()}),[p,_e]),Object(i.useEffect)((function(){if(ce.length)return Y(r?ce.map((function(e){return Object(o.a)(e,1)[0]})):ce.filter((function(e){var t=Object(o.a)(e,2);t[0];return"0"!==t[1].flags})).map((function(e){return Object(o.a)(e,1)[0]})))}),[ce,r]),Object(i.useEffect)((function(){if(X===l.a.FULFILLED){var e=W.map((function(e){var t,n,r,a=ce.find((function(t){var n=Object(o.a)(t,1)[0];return Object(j.i)(n)===Object(j.i)(e)}))||[],c=Object(o.a)(a,2)[1],s=E.find((function(t){var n=Object(o.a)(t,1)[0];return Object(j.i)(n)===Object(j.i)(e)}))||[],i=Object(o.a)(s,2),u=i[0],d=i[1],l=(null===d||void 0===d?void 0:d.msg.type)===g.SnapshotType.draft,b=u&&l?Object(_.a)(Object(_.a)({},d),{},{idInDAO:e,idInSnapshot:u}):void 0,f=u&&!l?Object(_.a)(Object(_.a)({},d),{},{idInDAO:e,idInSnapshot:u}):void 0,p=null===(t=ue.find((function(t){var n=Object(o.a)(t,1)[0];return Object(j.i)(n)===Object(j.i)(e)})))||void 0===t?void 0:t[1],O=null===(n=je.find((function(t){var n=Object(o.a)(t,1)[0];return Object(j.i)(n)===Object(j.i)(e)})))||void 0===n?void 0:n[1];return{daoProposal:c,daoProposalVote:null===(r=he.find((function(t){var n=Object(o.a)(t,1)[0];return Object(j.i)(e)===Object(j.i)(n)})))||void 0===r?void 0:r[1],daoProposalVotingAdapter:p,daoProposalVotingState:O,idInDAO:e,snapshotDraft:b,snapshotProposal:f,snapshotType:l?g.SnapshotType.draft:g.SnapshotType.proposal,getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){}}})).filter((function(e){return e.snapshotDraft||e.snapshotProposal}));q(e)}}),[W,ce,X,he,ue,je,E]),Object(i.useEffect)((function(){var e=l.a.STANDBY,t=l.a.PENDING,n=l.a.FULFILLED,r=l.a.REJECTED,a=[se,le,pe,ve,C];C!==e?a.some((function(e){return e===t}))?Z(t):a.every((function(e){return e===n}))?Z(n):(C!==n||E.length)&&(le!==n||ue.length)?a.some((function(e){return e===r}))&&Z(r):Z(n):Z(e)}),[W.length,se,ve,ue,le,pe,E.length,C]),Object(i.useEffect)((function(){ne([oe,me,de,fe,R].find((function(e){return e})))}),[oe,me,de,fe,R]),{proposals:z,proposalsError:te,proposalsStatus:X}}function V(e){var t=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(i.useState)([]),u=Object(o.a)(r,2),d=u[0],j=u[1],p=Object(i.useState)(),h=Object(o.a)(p,2),m=h[0],v=h[1],x=Object(i.useState)(l.a.STANDBY),A=Object(o.a)(x,2),g=A[0],N=A[1],E=Object(i.useState)(),w=Object(o.a)(E,2),y=w[0],_=w[1],I=Object(i.useState)(),C=Object(o.a)(I,2),S=C[0],T=C[1],D=Object(i.useState)(),k=Object(o.a)(D,2),R=k[0],P=k[1],F=Object(f.f)().web3Instance,L=Object(O.useQuery)(["proposalsVotingStateResult",S],Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===S||void 0===S?void 0:S.length)&&F){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.j)({calls:S,web3Instance:F});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),{enabled:!!(null===S||void 0===S?void 0:S.length)&&!!F}),B=L.data,M=L.error,U=Object(i.useCallback)((function(){return G.apply(this,arguments)}),[e.length,S,B,M,t,R,y,F]);function G(){return(G=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&e.length&&R&&F){n.next=2;break}return n.abrupt("return");case 2:if(R.length){n.next=5;break}return N(l.a.FULFILLED),n.abrupt("return");case 5:if(n.prev=5,!y){n.next=8;break}throw y;case 8:if(S){n.next=10;break}return n.abrupt("return");case 10:if(N(l.a.PENDING),!M){n.next=13;break}throw M;case 13:B&&(N(l.a.FULFILLED),j(R.map((function(e,t){return[Object(o.a)(e,1)[0],B[t]]})))),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(5),N(l.a.REJECTED),j([]),v(n.t0);case 21:case"end":return n.stop()}}),n,null,[[5,16]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){U()}),[U]),Object(i.useEffect)((function(){if(e.length&&F){var t=e.filter((function(e){var t=Object(o.a)(e,1)[0];return F.utils.isHexStrict(t)}));P(t)}}),[e,F]),Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(null===R||void 0===R?void 0:R.length)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.e(0).then(n.t.bind(null,1111,3));case 4:if(r=e.sent.default,c=r.find((function(e){return"voteResult"===e.name}))){e.next=9;break}return _(new Error('No "voteResult" ABI function was found on the "IVoting" contract.')),e.abrupt("return");case 9:s=R.map((function(e){var n=Object(o.a)(e,2),r=n[0];return[n[1].votingAdapterAddress,c,[t,r]]})),T(s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,R]),{proposalsVotingState:d,proposalsVotingStateError:m,proposalsVotingStateStatus:g}}var W=n(31),Y=n(46),K=n(47),H=Y.c.Completed,z=Y.c.OffchainVotingGracePeriod,q=Y.c.OffchainVotingSubmitResult,Q=Y.c.OffchainVoting,J=Y.c.Process,X=Y.c.Sponsor,Z=Y.c.Submit,$="production"===N.m?15e3:5e3;function ee(e){var t=e.countdownVotingEndSeconds,n=void 0===t?0:t,r=e.countdownVotingStartSeconds,u=void 0===r?0:r,d=e.pollInterval,l=void 0===d?$:d,p=e.proposal,O=e.useCountdownToCheckInVoting,h=void 0!==O&&O,m=Object(f.f)().web3Instance,v=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),x=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),A=Object(i.useState)(),g=Object(o.a)(A,2),N=g[0],w=g[1],y=Object(i.useState)(!1),_=Object(o.a)(y,2),S=_[0],T=_[1],D=Object(i.useState)(),k=Object(o.a)(D,2),R=k[0],P=k[1],F=Object(i.useState)(),L=Object(o.a)(F,2),B=L[0],M=L[1],U=Object(i.useState)(),G=Object(o.a)(U,2),V=G[0],ee=G[1],te=Object(i.useState)(),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ce=Object(i.useRef)(),oe=Object(i.useRef)(!1),se=Object(E.j)(u,n),ie=se.hasTimeStarted,ue=se.hasTimeEnded,de=se.timeStartEndInitReady,le=S&&(!h||de),be=p.daoProposalVotingAdapter,je=p.snapshotDraft,fe=p.snapshotProposal,pe=(null===je||void 0===je?void 0:je.idInDAO)||(null===fe||void 0===fe?void 0:fe.idInDAO),Oe=!!R&&Object(C.e)(Y.b.EXISTS,R.flags),he=!!R&&Object(C.e)(Y.b.SPONSORED,R.flags),me=!!R&&Object(C.e)(Y.b.PROCESSED,R.flags),ve=null===be||void 0===be?void 0:be.votingAdapterAddress,xe=null===be||void 0===be?void 0:be.getVotingAdapterABI(),Ae=Object(W.isAddress)((null===B||void 0===B?void 0:B.reporter)||"")&&Object(j.i)((null===B||void 0===B?void 0:B.reporter)||"")!==I.a,ge=h?ie&&!ue:K.b[V||""]===K.b[K.b.IN_PROGRESS],Ne=K.b[V||""]===K.b[K.b.GRACE_PERIOD],Ee=Object(i.useCallback)((function(){return we.apply(this,arguments)}),[be,x,v,xe,ve,pe,m]);function we(){return(we=Object(c.a)(a.a.mark((function e(){var t,n,r,c,s,i,u,d,l,j,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&v&&pe&&m){e.next=3;break}return e.abrupt("return");case 3:if(t=x.filter((function(e){return"proposals"===e.name}))[0],be){e.next=13;break}return e.next=7,Object(b.j)({calls:[[v,t,[pe]]],web3Instance:m});case 7:return n=e.sent,r=Object(o.a)(n,1),c=r[0],P(c),T(!0),e.abrupt("return",c);case 13:if(xe&&ve){e.next=15;break}return e.abrupt("return");case 15:return s=xe.filter((function(e){return"voteResult"===e.name}))[0],i=xe.filter((function(e){return"votes"===e.name}))[0],u=[[v,t,[pe]],[ve,i,[v,pe]],[ve,s,[v,pe]]],e.next=20,Object(b.j)({calls:u,web3Instance:m});case 20:return d=e.sent,l=Object(o.a)(d,3),j=l[0],f=l[1],p=l[2],P(j),M(f),ee(p),T(!0),e.abrupt("return",{proposal:j,voteResult:p,votes:f});case 32:throw e.prev=32,e.t0=e.catch(0),e.t0;case 35:case"end":return e.stop()}}),e,null,[[0,32]])})))).apply(this,arguments)}function ye(){ce.current&&(clearInterval(ce.current),ce.current=void 0)}return Object(i.useEffect)((function(){S||Ee().catch((function(e){ae(e)}))}),[Ee,S]),Object(i.useEffect)((function(){me&&(oe.current=!0),ye();var e=setInterval(Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe.current&&ye(),e.next=4,Ee();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),ye(),ae(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),l);ce.current=e}),[me,l,Ee]),Object(i.useEffect)((function(){return me&&ye(),function(){ye()}}),[me]),Object(i.useEffect)((function(){if(le){var e=void 0===N;Oe||he||me||N!==Z&&!e?!Oe||ge||N!==Z&&!e?!he||!ge||Ae||N!==Z&&N!==X&&!e?!he||ge||Ae||N!==Q&&!e?he&&!ge&&Ae&&Ne&&(N===q||e)?w(z):!he||ge||!Ae||Ne||N!==z&&!e?!me||N!==J&&!e||w(H):w(J):w(q):w(Q):w(X):w(Z)}else w(void 0)}),[Oe,me,he,le,ge,Ne,Ae,N]),{daoProposal:R,daoProposalVote:B,daoProposalVoteResult:V,proposalFlowStatusError:re,status:N,stopPollingForStatus:ye}}var te=n(64),ne=n(86);function re(){var e=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(s.c)((function(e){return e.contracts})),n=Object(s.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress})),r=Object(ne.a)(),u=r.account,d=r.provider,l=r.web3Instance,j=Object(i.useState)(),f=Object(o.a)(j,2),p=f[0],O=f[1],h=Object(i.useState)(),m=Object(o.a)(h,2),v=m[0],x=m[1],A=Object(i.useState)(w.f.STANDBY),E=Object(o.a)(A,2),y=E[0],C=E[1];function S(){return(S=Object(c.a)(a.a.mark((function r(c){var o,s,i,j,f,p,h,m,v,A,E,y,S,T,D,k,R,P,F,L,B,M;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.partialVoteData,s=c.adapterName,i=c.proposalIdInDAO,j=c.proposalIdInSnapshot,r.prev=1,l){r.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(u){r.next=6;break}throw new Error("No account was found.");case 6:if(n){r.next=8;break}throw new Error("No member address was found.");case 8:if(e){r.next=10;break}throw new Error('No "DaoRegistry" address was found.');case 10:if(N.C){r.next=12;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 12:if(N.D){r.next=14;break}throw new Error('No Snapshot "SPACE" was found.');case 14:return C(w.f.AWAITING_CONFIRM),f=s?Object(b.d)(s,t):I.a,p=o.choice,h=o.metadata,m=void 0===h?{}:h,r.next=19,Object(g.getSpace)(N.C,N.D);case 19:return v=r.sent,A=v.data,E={chainId:N.k,choice:p,metadata:Object(_.a)(Object(_.a)({},m),{},{memberAddress:n})},y={proposalId:i,space:N.D,token:A.token},r.next=25,Object(g.buildVoteMessage)(E,y,N.C);case 25:return S=r.sent,T=Object(g.prepareVoteMessage)({timestamp:S.timestamp,payload:{proposalId:S.payload.proposalId,choice:g.VoteChoicesIndex[p]}}),D=Object(g.getDomainDefinition)(Object(_.a)(Object(_.a)({},T),{},{type:g.SnapshotType.vote}),e,f,N.k),k=D.domain,R=D.types,P=JSON.stringify({types:R,domain:k,primaryType:te.a,message:T}),r.next=31,Object(g.signMessage)(d,u,P);case 31:return F=r.sent,C(w.f.PENDING),r.next=35,Object(g.submitMessage)(N.C,u,Object(_.a)(Object(_.a)({},S),{},{payload:Object(_.a)(Object(_.a)({},S.payload),{},{proposalId:j})}),F,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:T});case 35:return L=r.sent,B=L.data,M={data:S,signature:F,uniqueId:B.uniqueId},C(w.f.FULFILLED),O(M),r.abrupt("return",M);case 43:throw r.prev=43,r.t0=r.catch(1),C(w.f.REJECTED),x(r.t0),r.t0;case 48:case"end":return r.stop()}}),r,null,[[1,43]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return S.apply(this,arguments)},voteData:p,voteDataError:v,voteDataStatus:y}}function ae(){var e=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(s.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(s.c)((function(e){return e.contracts})),r=Object(ne.a)(),u=r.account,d=r.provider,l=r.web3Instance,j=Object(i.useState)(),f=Object(o.a)(j,2),p=f[0],O=f[1],h=Object(i.useState)(),m=Object(o.a)(h,2),v=m[0],x=m[1],A=Object(i.useState)(w.f.STANDBY),E=Object(o.a)(A,2),y=E[0],C=E[1];function S(e){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.C){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:if(l){e.next=4;break}throw new Error("No Web3 instance was found.");case 4:return e.next=6,l.eth.getBlockNumber();case 6:return r=e.sent,e.t0=parseInt,e.next=10,Object(b.f)(w.b.offchainVotingVotingPeriod,t);case 10:return e.t1=e.sent,c=(0,e.t0)(e.t1),e.next=14,Object(g.buildProposalMessage)(Object(_.a)(Object(_.a)({},n),{},{votingTimeSeconds:c,snapshot:r}),N.C);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(c.a)(a.a.mark((function t(r){var c,o,s,i,j,f,p,h,m,v,A,E,y,T,D,k,R,P,F,L,B,M;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.partialProposalData,o=r.adapterAddress,s=r.adapterName,i=r.type,t.prev=1,u){t.next=4;break}throw new Error("No account was found to send.");case 4:if(l){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(N.C){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(N.D){t.next=12;break}throw new Error('No Snapshot "SPACE" was found.');case 12:if(i===g.SnapshotType.draft||i===g.SnapshotType.proposal){t.next=14;break}throw new Error('Handling for type "vote" is not implemented.');case 14:return C(w.f.AWAITING_CONFIRM),j=o||(s?Object(b.d)(s,n):I.a),f=c.body,p=c.name,h=c.metadata,m=c.timestamp,t.next=19,Object(g.getSpace)(N.C,N.D);case 19:if(v=t.sent,A=v.data,E={name:p,body:f,metadata:h,token:A.token,space:N.D},i!==g.SnapshotType.draft){t.next=28;break}return t.next=25,Object(g.buildDraftMessage)(E,N.C);case 25:t.t0=t.sent,t.next=31;break;case 28:return t.next=30,S(Object(_.a)(Object(_.a)({},E),{},{timestamp:m}));case 30:t.t0=t.sent;case 31:return y=t.t0,T=i===g.SnapshotType.draft?Object(g.prepareDraftMessage)(y):Object(g.prepareProposalMessage)(y),D=Object(g.getDomainDefinition)(Object(_.a)(Object(_.a)({},T),{},{type:i}),e,j,N.k),k=D.domain,R=D.types,P=JSON.stringify({types:R,domain:k,primaryType:te.a,message:T}),t.next=37,Object(g.signMessage)(d,u,P);case 37:return F=t.sent,C(w.f.PENDING),t.next=41,Object(g.submitMessage)(N.C,u,y,F,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:T});case 41:return L=t.sent,B=L.data,M={data:y,signature:F,uniqueId:B.uniqueId,uniqueIdDraft:B.uniqueIdDraft||""},C(w.f.FULFILLED),O(M),t.abrupt("return",M);case 49:throw t.prev=49,t.t1=t.catch(1),C(w.f.REJECTED),x(t.t1),t.t1;case 54:case"end":return t.stop()}}),t,null,[[1,49]])})))).apply(this,arguments)}return{proposalData:p,proposalSignAndSendError:v,proposalSignAndSendStatus:y,signAndSendProposal:function(e){return D.apply(this,arguments)}}}},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o}));var r,a,c,o;n(23),n(18);!function(e){e[e.EXISTS=0]="EXISTS",e[e.SPONSORED=1]="SPONSORED",e[e.PROCESSED=2]="PROCESSED"}(r||(r={})),function(e){e.Submit="Submit",e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={})),function(e){e.Governance="Governance"}(o||(o={}))},47:function(e,t,n){"use strict";var r,a;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={})),function(e){e[e.OK=0]="OK",e[e.WRONG_PROPOSAL_ID=1]="WRONG_PROPOSAL_ID",e[e.INVALID_CHOICE=2]="INVALID_CHOICE",e[e.AFTER_VOTING_PERIOD=3]="AFTER_VOTING_PERIOD",e[e.BAD_SIGNATURE=4]="BAD_SIGNATURE",e[e.INDEX_OUT_OF_BOUND=5]="INDEX_OUT_OF_BOUND"}(a||(a={}))},48:function(e,t,n){"use strict";var r=n(4),a=n(55),c=n(3),o=n(1),s=n(0),i=["showAfterMs","text","textProps"];function u(e){return Object(s.jsx)("div",Object(c.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,d=e.textProps,l=Object(a.a)(e,i),b=Object(o.useState)(!1),j=Object(r.a)(b,2),f=j[0],p=j[1];return Object(o.useEffect)((function(){var e=t&&setTimeout((function(){return p(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&f)&&e.text?Object(s.jsxs)("div",{className:"loader-container",children:[Object(s.jsx)(u,Object(c.a)({},l)),Object(s.jsx)("span",Object(c.a)(Object(c.a)({className:"loader__text"},d),{},{children:n}))]}):(!t||t&&f)&&!e.text?Object(s.jsx)(u,Object(c.a)({},l)):null}},488:function(e,t,n){"use strict";n.r(t),n.d(t,"isEIP1559Compatible",(function(){return o}));var r=n(2),a=n.n(r),c=n(5);function o(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.eth.getBlock("latest");case 2:return n=e.sent,e.abrupt("return",void 0!==(null===n||void 0===n?void 0:n.baseFeePerGas));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(0),c=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,1113))})),o=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,1114))})),s={injected:Object(a.jsx)(c,{}),walletconnect:Object(a.jsx)(o,{})};function i(e){var t=e.providerName;return t&&s[t]?Object(a.jsx)(r.Suspense,{fallback:null,children:Object(a.jsx)("span",{className:"walletconnect__wallet-icon",children:s[t]})}):null}},535:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(4),a=n(1),c=n(86);function o(t){var n=Object(c.a)(),o=n.account,s=n.provider,i=Object(a.useState)(),u=Object(r.a)(i,2),d=u[0],l=u[1],b=Object(a.useState)(),j=Object(r.a)(b,2),f=j[0],p=j[1],O=Object(a.useCallback)((function(){if(p(void 0),s||!o){var n={username:t},r=JSON.stringify({types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"}],Permit:[{name:"username",type:"string"}]},domain:{name:"Sybil Verifier",version:"1"},primaryType:"Permit",message:n});if(o){var a=new e(r).toString("hex");null===s||void 0===s||s.send("personal_sign",["0x"+a,o]).catch((function(e){console.log(e),p("Error signing message")})).then((function(e){l(e.result)}))}}}),[o,s,t]);return{sig:d,signMessage:O,setSig:l,error:f}}}).call(this,n(13).Buffer)},538:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},567:function(e,t){},58:function(e,t,n){"use strict";function r(e){var t=e.gracePeriodLength,n=e.gracePeriodStartingTime,r=e.votePeriodLength,a=e.voteStartingTime,c=1e3,o=function(e){return Number(e||0)},s=o(n)*c,i=o(a)*c;return{voteEndMs:i+o(r)*c,voteStartMs:i,gracePeriodEndMs:s+o(t)*c,gracePeriodStartMs:s}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return A}));var a=n(2),c=n.n(a),o=n(5),s=n(12);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.C,"/api/").concat(s.D,"/offchain_proof/").concat(t));case 3:if(404!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:if(n.ok){e.next=8;break}throw new Error("Something went wrong while getting the off-chain vote proof.");case 8:return e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var d=n(4),l=n(23),b=n(11),j=n(6);function f(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(d.a)(e,2),r=n[0];n[1];return Object(b.i)(r)===Object(b.i)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===l.VoteChoicesIndex.Yes?j.e.Yes:j.e.No}var p=n(18);function O(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(c.a.mark((function e(t){var r,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===p.c.OffchainVotingContract?4:e.t0===p.c.VotingContract?9:14;break;case 4:return e.next=6,n.e(1).then(n.t.bind(null,1064,3));case 6:return r=e.sent,a=r.default,e.abrupt("return",a);case 9:return e.next=11,n.e(2).then(n.t.bind(null,1063,3));case 11:return o=e.sent,s=o.default,e.abrupt("return",s);case 14:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(0),e.t1;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function m(e,t){return e===Math.log2(Number(t)+1)-1}var v=n(47);function x(e,t){return v.b[t]===v.b[e]}function A(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.C,"/api/").concat(s.D,"/offchain_proofs"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Something went wrong while submitting the off-chain vote proof.");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},6:function(e,t,n){"use strict";var r,a,c,o,s,i;n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),function(e){e[e.EXISTS=0]="EXISTS"}(r||(r={})),function(e){e.bank="bank",e.configuration="configuration",e.coupon_onboarding="coupon-onboarding",e.dao_registry="daoRegistry",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.nft="nft",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.tribute_nft="tribute-nft",e.voting="voting",e.movement="movement-adpt",e.unagii_deposit="vault-deposit-adpt",e.unagii_withdraw="vault-withdraw-adpt"}(a||(a={})),function(e){e.bank="bank",e.erc20="erc20-ext",e.nft="nft"}(c||(c={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingUnitsPerChunk="onboarding.unitsPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(o||(o={})),function(e){e.Yes="Yes",e.No="No"}(s||(s={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(i||(i={}))},608:function(e,t){},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x0000000000000000000000000000000000000000"},610:function(e,t){},632:function(e,t){},634:function(e,t){},64:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(6),a=[r.e.Yes,r.e.No],c="Message",o=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},646:function(e,t){},647:function(e,t){},65:function(e,t,n){"use strict";var r=n(244);n.d(t,"a",(function(){return r.a}))},669:function(e,t){},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(1),c=n(0);function o(e){var t=e.showAfterMs,n=Object(a.useState)(!1),o=Object(r.a)(n,2),s=o[0],i=o[1];return Object(a.useEffect)((function(){var e=t&&setTimeout((function(){return i(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&s?Object(c.jsx)("div",{className:"loader--large","aria-label":"Loading content..."}):null}},671:function(e,t){},673:function(e,t){},779:function(e,t){},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(1),c=n(11);function o(e){var t=e.intervalMs,n=e.messages,o=e.useFirstItemStart?n[0]:Object(c.a)(n),s=Object(a.useState)(o),i=Object(r.a)(s,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(254);function c(){return Object(r.useContext)(a.a)}},868:function(e,t){},870:function(e,t){},877:function(e,t){},878:function(e,t){},902:function(e,t){},909:function(e,t){},957:function(e,t){},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(71),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}}},[[1052,4,5]]]);
//# sourceMappingURL=main.9298a029.chunk.js.map